// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var xa;"use strict";var Oa=this;
function $a(e){function b(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2];t=t[3];f[0]=x*E+D*H;f[1]=C*E+k*H;f[2]=x*K+D*t;f[3]=C*K+k*t;return f}function a(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function d(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=t[0],N=t[1],Q=t[2],S=t[3],W=t[4];t=t[5];f[0]=x*K+D*N;f[1]=C*K+E*N;f[2]=x*Q+D*S;f[3]=C*Q+E*S;f[4]=x*W+D*t+H;f[5]=C*W+E*t+k;return f}function c(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-
t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];return f}function g(){var f=new qa(9);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0);f[0]=1;f[4]=1;f[8]=1;return f}function m(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0],W=t[1],V=t[2],ea=t[3],ia=t[4],ca=t[5],oa=t[6],la=t[7];t=t[8];f[0]=S*x+W*E+V*N;f[1]=S*C+W*H+V*Q;f[2]=S*D+W*K+V*k;f[3]=ea*x+ia*E+ca*N;f[4]=ea*C+ia*H+ca*Q;f[5]=ea*D+ia*K+ca*k;f[6]=oa*x+la*E+t*N;f[7]=oa*C+la*H+t*Q;f[8]=oa*D+la*K+
t*k;return f}function h(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];return f}function l(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f}function n(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=k[8],W=k[9],V=k[10],ea=k[11],ia=k[12],ca=k[13],oa=k[14];k=k[15];var la=t[0],ra=t[1],sa=t[2],pa=t[3];f[0]=
la*x+ra*H+sa*S+pa*ia;f[1]=la*C+ra*K+sa*W+pa*ca;f[2]=la*D+ra*N+sa*V+pa*oa;f[3]=la*E+ra*Q+sa*ea+pa*k;la=t[4];ra=t[5];sa=t[6];pa=t[7];f[4]=la*x+ra*H+sa*S+pa*ia;f[5]=la*C+ra*K+sa*W+pa*ca;f[6]=la*D+ra*N+sa*V+pa*oa;f[7]=la*E+ra*Q+sa*ea+pa*k;la=t[8];ra=t[9];sa=t[10];pa=t[11];f[8]=la*x+ra*H+sa*S+pa*ia;f[9]=la*C+ra*K+sa*W+pa*ca;f[10]=la*D+ra*N+sa*V+pa*oa;f[11]=la*E+ra*Q+sa*ea+pa*k;la=t[12];ra=t[13];sa=t[14];pa=t[15];f[12]=la*x+ra*H+sa*S+pa*ia;f[13]=la*C+ra*K+sa*W+pa*ca;f[14]=la*D+ra*N+sa*V+pa*oa;f[15]=la*
E+ra*Q+sa*ea+pa*k;return f}function p(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=x+x,K=C+C,N=D+D;k=x*H;var Q=x*K;x*=N;var S=C*K;C*=N;D*=N;H*=E;K*=E;E*=N;f[0]=1-(S+D);f[1]=Q+E;f[2]=x-K;f[3]=0;f[4]=Q-E;f[5]=1-(k+D);f[6]=C+H;f[7]=0;f[8]=x+K;f[9]=C-H;f[10]=1-(k+S);f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f}function q(f,k){f[0]=k[12];f[1]=k[13];f[2]=k[14];return f}function u(f,k){var t=k[4],x=k[5],C=k[6],D=k[8],E=k[9],H=k[10];f[0]=Math.hypot(k[0],k[1],k[2]);f[1]=Math.hypot(t,x,C);f[2]=Math.hypot(D,
E,H);return f}function r(f,k){var t=new qa(3);u(t,k);var x=1/t[0],C=1/t[1],D=1/t[2],E=k[0]*x;t=k[1]*C;var H=k[2]*D,K=k[4]*x,N=k[5]*C,Q=k[6]*D;x*=k[8];C*=k[9];k=k[10]*D;D=E+N+k;0<D?(E=2*Math.sqrt(D+1),f[3]=.25*E,f[0]=(Q-C)/E,f[1]=(x-H)/E,f[2]=(t-K)/E):E>N&&E>k?(E=2*Math.sqrt(1+E-N-k),f[3]=(Q-C)/E,f[0]=.25*E,f[1]=(t+K)/E,f[2]=(x+H)/E):N>k?(E=2*Math.sqrt(1+N-E-k),f[3]=(x-H)/E,f[0]=(t+K)/E,f[1]=.25*E,f[2]=(Q+C)/E):(E=2*Math.sqrt(1+k-E-N),f[3]=(t-K)/E,f[0]=(x+H)/E,f[1]=(Q+C)/E,f[2]=.25*E);return f}function v(f,
k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=(C+x)*t,f[14]=2*C*x*t):(f[10]=-1,f[14]=-2*x);return f}function w(f,k,t,x,C,D,E){var H=1/(k-t),K=1/(x-C),N=1/(D-E);f[0]=-2*H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=2*N;f[11]=0;f[12]=(k+t)*H;f[13]=(C+x)*K;f[14]=(E+D)*N;f[15]=1;return f}function y(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];
f[3]=k[3]-t[3];f[4]=k[4]-t[4];f[5]=k[5]-t[5];f[6]=k[6]-t[6];f[7]=k[7]-t[7];f[8]=k[8]-t[8];f[9]=k[9]-t[9];f[10]=k[10]-t[10];f[11]=k[11]-t[11];f[12]=k[12]-t[12];f[13]=k[13]-t[13];f[14]=k[14]-t[14];f[15]=k[15]-t[15];return f}function A(){var f=new qa(3);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);return f}function G(f){return Math.hypot(f[0],f[1],f[2])}function z(f,k,t){var x=new qa(3);x[0]=f;x[1]=k;x[2]=t;return x}function F(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];return f}function I(f,k,t){f[0]=
k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];return f}function J(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];return f}function M(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2])}function P(f,k){var t=k[0]-f[0],x=k[1]-f[1];f=k[2]-f[2];return t*t+x*x+f*f}function R(f){var k=f[0],t=f[1];f=f[2];return k*k+t*t+f*f}function T(f,k){var t=k[0],x=k[1],C=k[2];t=t*t+x*x+C*C;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f}function Z(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]}function X(f,
k,t){var x=k[0],C=k[1];k=k[2];var D=t[0],E=t[1];t=t[2];f[0]=C*t-k*E;f[1]=k*D-x*t;f[2]=x*E-C*D;return f}function ba(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[3]=0);return f}function Y(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k}function va(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C}function ta(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f}function ya(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f}function Na(f,k,t){f[0]=k[0]+t[0];
f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];return f}function Sa(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];f[2]=k[2]-t[2];f[3]=k[3]-t[3];return f}function Ta(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];f[2]=k[2]*t[2];f[3]=k[3]*t[3];return f}function Ua(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];f[2]=k[2]/t[2];f[3]=k[3]/t[3];return f}function Wa(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f}function eb(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1],k[2]-f[2],k[3]-f[3])}function fb(f,k){var t=k[0]-f[0],
x=k[1]-f[1],C=k[2]-f[2];f=k[3]-f[3];return t*t+x*x+C*C+f*f}function Pa(f){return Math.hypot(f[0],f[1],f[2],f[3])}function Va(f){var k=f[0],t=f[1],x=f[2];f=f[3];return k*k+t*t+x*x+f*f}function ib(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*t+x*x+C*C+k*k;0<D&&(D=1/Math.sqrt(D));f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=k*D;return f}function Ya(f,k){return f[0]*k[0]+f[1]*k[1]+f[2]*k[2]+f[3]*k[3]}function vb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-D);f[2]=E+x*(t[2]-E);f[3]=k+
x*(t[3]-k);return f}function wb(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]}function jb(){var f=new qa(4);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);f[3]=1;return f}function xb(f,k,t){t*=.5;var x=Math.sin(t);f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=Math.cos(t);return f}function yb(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2];t=t[3];f[0]=x*t+k*E+C*K-D*H;f[1]=C*t+k*H+D*E-x*K;f[2]=D*t+k*K+x*H-C*E;f[3]=k*t-x*E-C*H-D*K;return f}function zb(f,k,t){t*=.5;var x=k[0],C=
k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+k*E;f[1]=C*t+D*E;f[2]=D*t-C*E;f[3]=k*t-x*E;return f}function Ab(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t-D*E;f[1]=C*t+k*E;f[2]=D*t+x*E;f[3]=k*t-C*E;return f}function Bb(f,k,t){t*=.5;var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+C*E;f[1]=C*t-x*E;f[2]=D*t+k*E;f[3]=k*t-D*E;return f}function Cb(f,k){var t=k[0],x=k[1],C=k[2],D=Math.sqrt(t*t+x*x+C*C);k=Math.exp(k[3]);var E=
0<D?k*Math.sin(D)/D:0;f[0]=t*E;f[1]=x*E;f[2]=C*E;f[3]=k*Math.cos(D);return f}function Db(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=Math.sqrt(t*t+x*x+C*C);D=0<D?Math.atan2(D,k)/D:0;f[0]=t*D;f[1]=x*D;f[2]=C*D;f[3]=.5*Math.log(t*t+x*x+C*C+k*k);return f}function kb(f,k,t,x){var C=k[0],D=k[1],E=k[2];k=k[3];var H=t[0],K=t[1],N=t[2];t=t[3];var Q=C*H+D*K+E*N+k*t;0>Q&&(Q=-Q,H=-H,K=-K,N=-N,t=-t);if(1E-6<1-Q){var S=Math.acos(Q);var W=Math.sin(S);Q=Math.sin((1-x)*S)/W;x=Math.sin(x*S)/W}else Q=1-x;f[0]=Q*C+x*
H;f[1]=Q*D+x*K;f[2]=Q*E+x*N;f[3]=Q*k+x*t;return f}function Eb(f,k){var t=k[0]+k[4]+k[8];if(0<t)t=Math.sqrt(t+1),f[3]=.5*t,t=.5/t,f[0]=(k[5]-k[7])*t,f[1]=(k[6]-k[2])*t,f[2]=(k[1]-k[3])*t;else{var x=0;k[4]>k[0]&&(x=1);k[8]>k[3*x+x]&&(x=2);var C=(x+1)%3,D=(x+2)%3;t=Math.sqrt(k[3*x+x]-k[3*C+C]-k[3*D+D]+1);f[x]=.5*t;t=.5/t;f[3]=(k[3*C+D]-k[3*D+C])*t;f[C]=(k[3*C+x]+k[3*x+C])*t;f[D]=(k[3*D+x]+k[3*x+D])*t}return f}function Fb(f,k,t){var x=.5*t[0],C=.5*t[1];t=.5*t[2];var D=k[0],E=k[1],H=k[2];k=k[3];f[0]=D;
f[1]=E;f[2]=H;f[3]=k;f[4]=x*k+C*H-t*E;f[5]=C*k+t*D-x*H;f[6]=t*k+x*E-C*D;f[7]=-x*D-C*E-t*H;return f}function Gb(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];return f}function lb(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=t[4],K=t[5],N=t[6],Q=t[7],S=k[4],W=k[5],V=k[6];k=k[7];var ea=t[0],ia=t[1],ca=t[2];t=t[3];f[0]=x*t+E*ea+C*ca-D*ia;f[1]=C*t+E*ia+D*ea-x*ca;f[2]=D*t+E*ca+x*ia-C*ea;f[3]=E*t-x*ea-C*ia-D*ca;f[4]=x*Q+E*H+C*N-D*K+S*t+k*ea+W*ca-V*ia;f[5]=C*Q+E*K+D*H-x*
N+W*t+k*ia+V*ea-S*ca;f[6]=D*Q+E*N+x*K-C*H+V*t+k*ca+S*ia-W*ea;f[7]=E*Q-x*H-C*K-D*N+k*t-S*ea-W*ia-V*ca;return f}function Xa(){var f=new qa(2);qa!=Float32Array&&(f[0]=0,f[1]=0);return f}function mb(f,k,t){f[0]=k[0]-t[0];f[1]=k[1]-t[1];return f}function nb(f,k,t){f[0]=k[0]*t[0];f[1]=k[1]*t[1];return f}function Za(f,k,t){f[0]=k[0]/t[0];f[1]=k[1]/t[1];return f}function ob(f,k){return Math.hypot(k[0]-f[0],k[1]-f[1])}function Qa(f,k){var t=k[0]-f[0];f=k[1]-f[1];return t*t+f*f}function pb(f){return Math.hypot(f[0],
f[1])}function qb(f){var k=f[0];f=f[1];return k*k+f*f}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ma=Math.random,Mb=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var f=0,k=arguments.length;k--;)f+=arguments[k]*arguments[k];return Math.sqrt(f)});var Nb=Object.freeze({__proto__:null,EPSILON:1E-6,get Gea(){return qa},pka:Ma,Fea:"zyx",kra:function(f){qa=f},wra:function(f){return f*Mb},bd:function(f,k){return Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}}),Ob=Object.freeze({__proto__:null,
create:function(){var f=new qa(4);qa!=Float32Array&&(f[1]=0,f[2]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(4);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];return k},ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];return f},Tv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},tf:function(f,k,t,x){var C=new qa(4);C[0]=f;C[1]=k;C[2]=t;C[3]=x;return C},set:function(f,k,t,x,C){f[0]=k;f[1]=t;f[2]=x;f[3]=C;return f},ZU:function(f,k){if(f===k){var t=k[1];f[1]=k[2];f[2]=t}else f[0]=k[0],
f[1]=k[2],f[2]=k[1],f[3]=k[3];return f},Or:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t*k-C*x;if(!D)return null;D=1/D;f[0]=k*D;f[1]=-x*D;f[2]=-C*D;f[3]=t*D;return f},QT:function(f,k){var t=k[0];f[0]=k[3];f[1]=-k[1];f[2]=-k[2];f[3]=t;return f},AJ:function(f){return f[0]*f[3]-f[2]*f[1]},multiply:b,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=Math.sin(t);t=Math.cos(t);f[0]=x*t+D*E;f[1]=C*t+k*E;f[2]=x*-E+D*t;f[3]=C*-E+k*t;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],
E=t[0];t=t[1];f[0]=k[0]*E;f[1]=x*E;f[2]=C*t;f[3]=D*t;return f},KB:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;return f},FJ:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=k[1];return f},Kl:function(f){return"mat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},EJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3])},Dia:function(f,k,t,x){f[2]=x[2]/x[0];t[0]=x[0];t[1]=x[1];t[3]=x[3]-f[2]*t[1];return[f,k,t]},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+
t[3];return f},Ll:a,Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]},bd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],H=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,Math.abs(x),Math.abs(E))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},TJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;return f},UJ:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},qn:b,sub:a}),Pb=Object.freeze({__proto__:null,create:function(){var f=new qa(6);qa!=Float32Array&&(f[1]=0,f[2]=0,f[4]=0,f[5]=0);f[0]=1;f[3]=1;return f},clone:function(f){var k=new qa(6);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];return k},ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];return f},Tv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;return f},tf:function(f,
k,t,x,C,D){var E=new qa(6);E[0]=f;E[1]=k;E[2]=t;E[3]=x;E[4]=C;E[5]=D;return E},set:function(f,k,t,x,C,D,E){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;return f},Or:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4];k=k[5];var H=t*D-x*C;if(!H)return null;H=1/H;f[0]=D*H;f[1]=-x*H;f[2]=-C*H;f[3]=t*H;f[4]=(C*k-D*E)*H;f[5]=(x*E-t*k)*H;return f},AJ:function(f){return f[0]*f[3]-f[1]*f[2]},multiply:d,rotate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=Math.sin(t);t=Math.cos(t);f[0]=
x*t+D*K;f[1]=C*t+E*K;f[2]=x*-K+D*t;f[3]=C*-K+E*t;f[4]=H;f[5]=k;return f},scale:function(f,k,t){var x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=t[0];t=t[1];f[0]=k[0]*K;f[1]=x*K;f[2]=C*t;f[3]=D*t;f[4]=E;f[5]=H;return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4];k=k[5];var K=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=x*K+D*t+H;f[5]=C*K+E*t+k;return f},KB:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=-t;f[3]=k;f[4]=0;f[5]=0;return f},FJ:function(f,k){f[0]=k[0];f[1]=
0;f[2]=0;f[3]=k[1];f[4]=0;f[5]=0;return f},GJ:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=1;f[4]=k[0];f[5]=k[1];return f},Kl:function(f){return"mat2d("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+")"},EJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],1)},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];return f},Ll:c,TJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;return f},
UJ:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;return f},Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]},bd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4];f=f[5];var H=k[0],K=k[1],N=k[2],Q=k[3],S=k[4];k=k[5];return Math.abs(t-H)<=1E-6*Math.max(1,Math.abs(t),Math.abs(H))&&Math.abs(x-K)<=1E-6*Math.max(1,Math.abs(x),Math.abs(K))&&Math.abs(C-N)<=1E-6*Math.max(1,Math.abs(C),
Math.abs(N))&&Math.abs(D-Q)<=1E-6*Math.max(1,Math.abs(D),Math.abs(Q))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},qn:d,sub:c}),Qb=Object.freeze({__proto__:null,create:g,jda:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[4];f[4]=k[5];f[5]=k[6];f[6]=k[8];f[7]=k[9];f[8]=k[10];return f},clone:function(f){var k=new qa(9);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=f[8];return k},ma:function(f,
k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},tf:function(f,k,t,x,C,D,E,H,K){var N=new qa(9);N[0]=f;N[1]=k;N[2]=t;N[3]=x;N[4]=C;N[5]=D;N[6]=E;N[7]=H;N[8]=K;return N},set:function(f,k,t,x,C,D,E,H,K,N){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=H;f[7]=K;f[8]=N;return f},Tv:function(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},ZU:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[5];f[1]=k[3];f[2]=k[6];f[3]=t;f[5]=
k[7];f[6]=x;f[7]=C}else f[0]=k[0],f[1]=k[3],f[2]=k[6],f[3]=k[1],f[4]=k[4],f[5]=k[7],f[6]=k[2],f[7]=k[5],f[8]=k[8];return f},Or:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7];k=k[8];var Q=k*E-H*N,S=-k*D+H*K,W=N*D-E*K,V=t*Q+x*S+C*W;if(!V)return null;V=1/V;f[0]=Q*V;f[1]=(-k*x+C*N)*V;f[2]=(H*x-C*E)*V;f[3]=S*V;f[4]=(k*t-C*K)*V;f[5]=(-H*t+C*D)*V;f[6]=W*V;f[7]=(-N*t+x*K)*V;f[8]=(E*t-x*D)*V;return f},QT:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7];k=
k[8];f[0]=E*k-H*N;f[1]=C*N-x*k;f[2]=x*H-C*E;f[3]=H*K-D*k;f[4]=t*k-C*K;f[5]=C*D-t*H;f[6]=D*N-E*K;f[7]=x*K-t*N;f[8]=t*E-x*D;return f},AJ:function(f){var k=f[3],t=f[4],x=f[5],C=f[6],D=f[7],E=f[8];return f[0]*(E*t-x*D)+f[1]*(-E*k+x*C)+f[2]*(D*k-t*C)},multiply:m,translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=t[0];t=t[1];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=H;f[5]=K;f[6]=S*x+t*E+N;f[7]=S*C+t*H+Q;f[8]=S*D+t*K+k;return f},rotate:function(f,k,t){var x=k[0],C=
k[1],D=k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7];k=k[8];var S=Math.sin(t);t=Math.cos(t);f[0]=t*x+S*E;f[1]=t*C+S*H;f[2]=t*D+S*K;f[3]=t*E-S*x;f[4]=t*H-S*C;f[5]=t*K-S*D;f[6]=N;f[7]=Q;f[8]=k;return f},scale:function(f,k,t){var x=t[0];t=t[1];f[0]=x*k[0];f[1]=x*k[1];f[2]=x*k[2];f[3]=t*k[3];f[4]=t*k[4];f[5]=t*k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];return f},GJ:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=k[0];f[7]=k[1];f[8]=1;return f},KB:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=
t;f[2]=0;f[3]=-t;f[4]=k;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},FJ:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=k[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},apa:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=0;f[3]=k[2];f[4]=k[3];f[5]=0;f[6]=k[4];f[7]=k[5];f[8]=1;return f},kda:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,H=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=H;D*=k;E*=k;k*=H;f[0]=1-x-C;f[3]=K-k;f[6]=N+E;f[1]=K+k;f[4]=1-t-C;f[7]=Q-D;f[2]=N-E;f[5]=Q+D;f[8]=1-t-x;return f},mqa:function(f,
k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea;Q=Q*k-V*ea;var Ca=S*ca-W*ia;S=S*k-V*ia;W=W*k-V*ca;V=oa*W-la*S+ra*Ca+sa*Q-pa*Ba+za*Aa;if(!V)return null;V=1/V;f[0]=(H*W-K*S+N*Ca)*V;f[1]=(K*Q-E*W-N*Ba)*V;f[2]=(E*S-H*Q+N*Aa)*V;f[3]=(C*S-x*W-D*Ca)*V;f[4]=(t*W-C*Q+D*Ba)*V;f[5]=(x*Q-t*S-D*Aa)*V;f[6]=(ia*za-ca*pa+k*sa)*V;f[7]=(ca*ra-
ea*za-k*la)*V;f[8]=(ea*pa-ia*ra+k*oa)*V;return f},FU:function(f,k,t){f[0]=2/k;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/t;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f},Kl:function(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"},EJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];
return f},Ll:h,TJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;return f},UJ:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;return f},Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]},bd:function(f,k){var t=f[0],
x=f[1],C=f[2],D=f[3],E=f[4],H=f[5],K=f[6],N=f[7];f=f[8];var Q=k[0],S=k[1],W=k[2],V=k[3],ea=k[4],ia=k[5],ca=k[6],oa=k[7];k=k[8];return Math.abs(t-Q)<=1E-6*Math.max(1,Math.abs(t),Math.abs(Q))&&Math.abs(x-S)<=1E-6*Math.max(1,Math.abs(x),Math.abs(S))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(D-V)<=1E-6*Math.max(1,Math.abs(D),Math.abs(V))&&Math.abs(E-ea)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ea))&&Math.abs(H-ia)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ia))&&Math.abs(K-ca)<=1E-6*
Math.max(1,Math.abs(K),Math.abs(ca))&&Math.abs(N-oa)<=1E-6*Math.max(1,Math.abs(N),Math.abs(oa))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},qn:m,sub:h}),Rb=Object.freeze({__proto__:null,create:function(){var f=new qa(16);qa!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0);f[0]=1;f[5]=1;f[10]=1;f[15]=1;return f},clone:function(f){var k=new qa(16);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];k[8]=
f[8];k[9]=f[9];k[10]=f[10];k[11]=f[11];k[12]=f[12];k[13]=f[13];k[14]=f[14];k[15]=f[15];return k},ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=k[6];f[7]=k[7];f[8]=k[8];f[9]=k[9];f[10]=k[10];f[11]=k[11];f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=k[15];return f},tf:function(f,k,t,x,C,D,E,H,K,N,Q,S,W,V,ea,ia){var ca=new qa(16);ca[0]=f;ca[1]=k;ca[2]=t;ca[3]=x;ca[4]=C;ca[5]=D;ca[6]=E;ca[7]=H;ca[8]=K;ca[9]=N;ca[10]=Q;ca[11]=S;ca[12]=W;ca[13]=V;ca[14]=ea;ca[15]=ia;return ca},
set:function(f,k,t,x,C,D,E,H,K,N,Q,S,W,V,ea,ia,ca){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=H;f[7]=K;f[8]=N;f[9]=Q;f[10]=S;f[11]=W;f[12]=V;f[13]=ea;f[14]=ia;f[15]=ca;return f},Tv:l,ZU:function(f,k){if(f===k){var t=k[1],x=k[2],C=k[3],D=k[6],E=k[7],H=k[11];f[1]=k[4];f[2]=k[8];f[3]=k[12];f[4]=t;f[6]=k[9];f[7]=k[13];f[8]=x;f[9]=D;f[11]=k[14];f[12]=C;f[13]=E;f[14]=H}else f[0]=k[0],f[1]=k[4],f[2]=k[8],f[3]=k[12],f[4]=k[1],f[5]=k[5],f[6]=k[9],f[7]=k[13],f[8]=k[2],f[9]=k[6],f[10]=k[10],f[11]=k[14],
f[12]=k[3],f[13]=k[7],f[14]=k[11],f[15]=k[15];return f},Or:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca,Da=oa*Ka-la*Ja+ra*Fa+sa*Ca-pa*Ba+za*Aa;if(!Da)return null;Da=1/Da;f[0]=(H*Ka-K*Ja+N*Fa)*Da;f[1]=(C*Ja-x*Ka-D*Fa)*Da;f[2]=(ia*za-ca*pa+k*sa)*Da;f[3]=(W*pa-S*za-
V*sa)*Da;f[4]=(K*Ca-E*Ka-N*Ba)*Da;f[5]=(t*Ka-C*Ca+D*Ba)*Da;f[6]=(ca*ra-ea*za-k*la)*Da;f[7]=(Q*za-W*ra+V*la)*Da;f[8]=(E*Ja-H*Ca+N*Aa)*Da;f[9]=(x*Ca-t*Ja-D*Aa)*Da;f[10]=(ea*pa-ia*ra+k*oa)*Da;f[11]=(S*ra-Q*pa-V*oa)*Da;f[12]=(H*Ba-E*Fa-K*Aa)*Da;f[13]=(t*Fa-x*Ba+C*Aa)*Da;f[14]=(ia*la-ea*sa-ca*oa)*Da;f[15]=(Q*sa-S*la+W*oa)*Da;return f},QT:function(f,k){var t=k[0],x=k[1],C=k[2],D=k[3],E=k[4],H=k[5],K=k[6],N=k[7],Q=k[8],S=k[9],W=k[10],V=k[11],ea=k[12],ia=k[13],ca=k[14];k=k[15];var oa=t*H-x*E,la=t*K-C*E,ra=
t*N-D*E,sa=x*K-C*H,pa=x*N-D*H,za=C*N-D*K,Aa=Q*ia-S*ea,Ba=Q*ca-W*ea,Ca=Q*k-V*ea,Fa=S*ca-W*ia,Ja=S*k-V*ia,Ka=W*k-V*ca;f[0]=H*Ka-K*Ja+N*Fa;f[1]=C*Ja-x*Ka-D*Fa;f[2]=ia*za-ca*pa+k*sa;f[3]=W*pa-S*za-V*sa;f[4]=K*Ca-E*Ka-N*Ba;f[5]=t*Ka-C*Ca+D*Ba;f[6]=ca*ra-ea*za-k*la;f[7]=Q*za-W*ra+V*la;f[8]=E*Ja-H*Ca+N*Aa;f[9]=x*Ca-t*Ja-D*Aa;f[10]=ea*pa-ia*ra+k*oa;f[11]=S*ra-Q*pa-V*oa;f[12]=H*Ba-E*Fa-K*Aa;f[13]=t*Fa-x*Ba+C*Aa;f[14]=ia*la-ea*sa-ca*oa;f[15]=Q*sa-S*la+W*oa;return f},AJ:function(f){var k=f[0],t=f[1],x=f[2],
C=f[4],D=f[5],E=f[6],H=f[8],K=f[9],N=f[10],Q=f[12],S=f[13],W=f[14],V=k*D-t*C,ea=k*E-x*C,ia=t*E-x*D,ca=H*S-K*Q,oa=H*W-N*Q,la=K*W-N*S;return f[7]*(k*la-t*oa+x*ca)-f[3]*(C*la-D*oa+E*ca)+f[15]*(H*ia-K*ea+N*V)-f[11]*(Q*ia-S*ea+W*V)},multiply:n,translate:function(f,k,t){var x=t[0],C=t[1];t=t[2];if(k===f)f[12]=k[0]*x+k[4]*C+k[8]*t+k[12],f[13]=k[1]*x+k[5]*C+k[9]*t+k[13],f[14]=k[2]*x+k[6]*C+k[10]*t+k[14],f[15]=k[3]*x+k[7]*C+k[11]*t+k[15];else{var D=k[0];var E=k[1];var H=k[2];var K=k[3];var N=k[4];var Q=k[5];
var S=k[6];var W=k[7];var V=k[8];var ea=k[9];var ia=k[10];var ca=k[11];f[0]=D;f[1]=E;f[2]=H;f[3]=K;f[4]=N;f[5]=Q;f[6]=S;f[7]=W;f[8]=V;f[9]=ea;f[10]=ia;f[11]=ca;f[12]=D*x+N*C+V*t+k[12];f[13]=E*x+Q*C+ea*t+k[13];f[14]=H*x+S*C+ia*t+k[14];f[15]=K*x+W*C+ca*t+k[15]}return f},scale:function(f,k,t){var x=t[0],C=t[1];t=t[2];f[0]=k[0]*x;f[1]=k[1]*x;f[2]=k[2]*x;f[3]=k[3]*x;f[4]=k[4]*C;f[5]=k[5]*C;f[6]=k[6]*C;f[7]=k[7]*C;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12];f[13]=k[13];f[14]=k[14];f[15]=
k[15];return f},rotate:function(f,k,t,x){var C=x[0],D=x[1];x=x[2];var E=Math.hypot(C,D,x);if(1E-6>E)return null;E=1/E;C*=E;D*=E;x*=E;var H=Math.sin(t);var K=Math.cos(t);var N=1-K;t=k[0];E=k[1];var Q=k[2];var S=k[3];var W=k[4];var V=k[5];var ea=k[6];var ia=k[7];var ca=k[8];var oa=k[9];var la=k[10];var ra=k[11];var sa=C*C*N+K;var pa=D*C*N+x*H;var za=x*C*N-D*H;var Aa=C*D*N-x*H;var Ba=D*D*N+K;var Ca=x*D*N+C*H;var Fa=C*x*N+D*H;C=D*x*N-C*H;D=x*x*N+K;f[0]=t*sa+W*pa+ca*za;f[1]=E*sa+V*pa+oa*za;f[2]=Q*sa+ea*
pa+la*za;f[3]=S*sa+ia*pa+ra*za;f[4]=t*Aa+W*Ba+ca*Ca;f[5]=E*Aa+V*Ba+oa*Ca;f[6]=Q*Aa+ea*Ba+la*Ca;f[7]=S*Aa+ia*Ba+ra*Ca;f[8]=t*Fa+W*C+ca*D;f[9]=E*Fa+V*C+oa*D;f[10]=Q*Fa+ea*C+la*D;f[11]=S*Fa+ia*C+ra*D;k!==f&&(f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);return f},dK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[4],D=k[5],E=k[6],H=k[7],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[0]=k[0],f[1]=k[1],f[2]=k[2],f[3]=k[3],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[4]=C*t+K*x;f[5]=D*t+N*x;f[6]=
E*t+Q*x;f[7]=H*t+S*x;f[8]=K*t-C*x;f[9]=N*t-D*x;f[10]=Q*t-E*x;f[11]=S*t-H*x;return f},eK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],H=k[3],K=k[8],N=k[9],Q=k[10],S=k[11];k!==f&&(f[4]=k[4],f[5]=k[5],f[6]=k[6],f[7]=k[7],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t-K*x;f[1]=D*t-N*x;f[2]=E*t-Q*x;f[3]=H*t-S*x;f[8]=C*x+K*t;f[9]=D*x+N*t;f[10]=E*x+Q*t;f[11]=H*x+S*t;return f},fK:function(f,k,t){var x=Math.sin(t);t=Math.cos(t);var C=k[0],D=k[1],E=k[2],H=k[3],K=k[4],
N=k[5],Q=k[6],S=k[7];k!==f&&(f[8]=k[8],f[9]=k[9],f[10]=k[10],f[11]=k[11],f[12]=k[12],f[13]=k[13],f[14]=k[14],f[15]=k[15]);f[0]=C*t+K*x;f[1]=D*t+N*x;f[2]=E*t+Q*x;f[3]=H*t+S*x;f[4]=K*t-C*x;f[5]=N*t-D*x;f[6]=Q*t-E*x;f[7]=S*t-H*x;return f},GJ:function(f,k){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=k[0];f[13]=k[1];f[14]=k[2];f[15]=1;return f},FJ:function(f,k){f[0]=k[0];f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k[1];f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=k[2];f[11]=0;
f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},KB:function(f,k,t){var x=t[0],C=t[1];t=t[2];var D=Math.hypot(x,C,t);if(1E-6>D)return null;D=1/D;x*=D;C*=D;t*=D;D=Math.sin(k);k=Math.cos(k);var E=1-k;f[0]=x*x*E+k;f[1]=C*x*E+t*D;f[2]=t*x*E-C*D;f[3]=0;f[4]=x*C*E-t*D;f[5]=C*C*E+k;f[6]=t*C*E+x*D;f[7]=0;f[8]=x*t*E+C*D;f[9]=C*t*E-x*D;f[10]=t*t*E+k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},gpa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=t;f[7]=0;f[8]=0;f[9]=
-t;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},hpa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=0;f[2]=-t;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=t;f[9]=0;f[10]=k;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},ipa:function(f,k){var t=Math.sin(k);k=Math.cos(k);f[0]=k;f[1]=t;f[2]=0;f[3]=0;f[4]=-t;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},lda:p,cpa:function(f,k){var t=new qa(3),x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],
N=k[6],Q=k[7],S=x*x+C*C+D*D+E*E;0<S?(t[0]=2*(H*E+Q*x+K*D-N*C)/S,t[1]=2*(K*E+Q*C+N*x-H*D)/S,t[2]=2*(N*E+Q*D+H*C-K*x)/S):(t[0]=2*(H*E+Q*x+K*D-N*C),t[1]=2*(K*E+Q*C+N*x-H*D),t[2]=2*(N*E+Q*D+H*C-K*x));p(f,k,t);return f},oda:q,upa:u,tpa:r,Noa:function(f,k,t,x){k[0]=x[12];k[1]=x[13];k[2]=x[14];var C=x[0],D=x[1],E=x[2],H=x[4],K=x[5],N=x[6],Q=x[8];k=x[9];x=x[10];t[0]=Math.hypot(C,D,E);t[1]=Math.hypot(H,K,N);t[2]=Math.hypot(Q,k,x);var S=1/t[0],W=1/t[1],V=1/t[2];t=C*S;D*=W;E*=V;H*=S;K*=W;N*=V;Q*=S;k*=W;x*=V;
W=t+K+x;0<W?(x=2*Math.sqrt(W+1),f[3]=.25*x,f[0]=(N-k)/x,f[1]=(Q-E)/x,f[2]=(D-H)/x):t>K&&t>x?(x=2*Math.sqrt(1+t-K-x),f[3]=(N-k)/x,f[0]=.25*x,f[1]=(D+H)/x,f[2]=(Q+E)/x):K>x?(x=2*Math.sqrt(1+K-t-x),f[3]=(Q-E)/x,f[0]=(D+H)/x,f[1]=.25*x,f[2]=(N+k)/x):(x=2*Math.sqrt(1+x-t-K),f[3]=(D-H)/x,f[0]=(Q+E)/x,f[1]=(N+k)/x,f[2]=.25*x);return f},dpa:function(f,k,t,x){var C=k[0],D=k[1],E=k[2],H=k[3],K=C+C,N=D+D,Q=E+E;k=C*K;var S=C*N;C*=Q;var W=D*N;D*=Q;E*=Q;K*=H;N*=H;H*=Q;Q=x[0];var V=x[1];x=x[2];f[0]=(1-(W+E))*Q;
f[1]=(S+H)*Q;f[2]=(C-N)*Q;f[3]=0;f[4]=(S-H)*V;f[5]=(1-(k+E))*V;f[6]=(D+K)*V;f[7]=0;f[8]=(C+N)*x;f[9]=(D-K)*x;f[10]=(1-(k+W))*x;f[11]=0;f[12]=t[0];f[13]=t[1];f[14]=t[2];f[15]=1;return f},epa:function(f,k,t,x,C){var D=k[0],E=k[1],H=k[2],K=k[3],N=D+D,Q=E+E,S=H+H;k=D*N;var W=D*Q,V=D*S;D=E*Q;E*=S;var ea=H*S;H=K*N;Q*=K;var ia=K*S,ca=x[0],oa=x[1];S=x[2];x=C[0];K=C[1];C=C[2];N=(1-(D+ea))*ca;var la=(W+ia)*ca;ca*=V-Q;W=(W-ia)*oa;ea=(1-(k+ea))*oa;oa*=E+H;V=(V+Q)*S;E=(E-H)*S;k=(1-(k+D))*S;f[0]=N;f[1]=la;f[2]=
ca;f[3]=0;f[4]=W;f[5]=ea;f[6]=oa;f[7]=0;f[8]=V;f[9]=E;f[10]=k;f[11]=0;f[12]=t[0]+x-(N*x+W*K+V*C);f[13]=t[1]+K-(la*x+ea*K+E*C);f[14]=t[2]+C-(ca*x+oa*K+k*C);f[15]=1;return f},kda:function(f,k){var t=k[0],x=k[1],C=k[2];k=k[3];var D=t+t,E=x+x,H=C+C;t*=D;var K=x*D;x*=E;var N=C*D,Q=C*E;C*=H;D*=k;E*=k;k*=H;f[0]=1-x-C;f[1]=K+k;f[2]=N-E;f[3]=0;f[4]=K-k;f[5]=1-t-C;f[6]=Q+D;f[7]=0;f[8]=N+E;f[9]=Q-D;f[10]=1-t-x;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},mda:function(f,k,t,x,C,D,E){var H=1/(t-k),K=1/(C-
x),N=1/(D-E);f[0]=2*D*H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*D*K;f[6]=0;f[7]=0;f[8]=(t+k)*H;f[9]=(C+x)*K;f[10]=(E+D)*N;f[11]=-1;f[12]=0;f[13]=0;f[14]=E*D*2*N;f[15]=0;return f},wqa:v,perspective:v,xqa:function(f,k,t,x,C){k=1/Math.tan(k/2);f[0]=k/t;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=k;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[11]=-1;f[12]=0;f[13]=0;f[15]=0;null!=C&&Infinity!==C?(t=1/(x-C),f[10]=C*t,f[14]=C*x*t):(f[10]=-1,f[14]=-x);return f},vqa:function(f,k,t,x){var C=Math.tan(k.Dra*Math.PI/180),D=Math.tan(k.Poa*Math.PI/
180),E=Math.tan(k.$pa*Math.PI/180);k=Math.tan(k.Uqa*Math.PI/180);var H=2/(E+k),K=2/(C+D);f[0]=H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=K;f[6]=0;f[7]=0;f[8]=-((E-k)*H*.5);f[9]=(C-D)*K*.5;f[10]=x/(t-x);f[11]=-1;f[12]=0;f[13]=0;f[14]=x*t/(t-x);f[15]=0;return f},tqa:w,Vda:w,uqa:function(f,k,t,x,C,D,E){var H=1/(k-t),K=1/(x-C);E=1/(D-E);f[0]=-2*H;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=-2*K;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=E;f[11]=0;f[12]=(k+t)*H;f[13]=(C+x)*K;f[14]=D*E;f[15]=1;return f},Jda:function(f,k,t,x){var C=
k[0],D=k[1];k=k[2];var E=x[0];var H=x[1];var K=x[2];var N=t[0];x=t[1];var Q=t[2];if(1E-6>Math.abs(C-N)&&1E-6>Math.abs(D-x)&&1E-6>Math.abs(k-Q))return l(f);t=C-N;x=D-x;N=k-Q;var S=1/Math.hypot(t,x,N);t*=S;x*=S;N*=S;Q=H*N-K*x;K=K*t-E*N;E=E*x-H*t;(S=Math.hypot(Q,K,E))?(S=1/S,Q*=S,K*=S,E*=S):E=K=Q=0;H=x*E-N*K;var W=N*Q-t*E;var V=t*K-x*Q;(S=Math.hypot(H,W,V))?(S=1/S,H*=S,W*=S,V*=S):V=W=H=0;f[0]=Q;f[1]=H;f[2]=t;f[3]=0;f[4]=K;f[5]=W;f[6]=x;f[7]=0;f[8]=E;f[9]=V;f[10]=N;f[11]=0;f[12]=-(Q*C+K*D+E*k);f[13]=
-(H*C+W*D+V*k);f[14]=-(t*C+x*D+N*k);f[15]=1;return f},tra:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];var E=x[0],H=x[1],K=x[2];x=C-t[0];var N=D-t[1];t=k-t[2];var Q=x*x+N*N+t*t;0<Q&&(Q=1/Math.sqrt(Q),x*=Q,N*=Q,t*=Q);var S=H*t-K*N;K=K*x-E*t;E=E*N-H*x;Q=S*S+K*K+E*E;0<Q&&(Q=1/Math.sqrt(Q),S*=Q,K*=Q,E*=Q);f[0]=S;f[1]=K;f[2]=E;f[3]=0;f[4]=N*E-t*K;f[5]=t*S-x*E;f[6]=x*K-N*S;f[7]=0;f[8]=x;f[9]=N;f[10]=t;f[11]=0;f[12]=C;f[13]=D;f[14]=k;f[15]=1;return f},Kl:function(f){return"mat4("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+")"},EJ:function(f){return Math.hypot(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15])},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];f[8]=k[8]+t[8];f[9]=k[9]+t[9];f[10]=k[10]+t[10];f[11]=k[11]+t[11];f[12]=k[12]+t[12];f[13]=k[13]+t[13];
f[14]=k[14]+t[14];f[15]=k[15]+t[15];return f},Ll:y,TJ:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;f[8]=k[8]*t;f[9]=k[9]*t;f[10]=k[10]*t;f[11]=k[11]*t;f[12]=k[12]*t;f[13]=k[13]*t;f[14]=k[14]*t;f[15]=k[15]*t;return f},UJ:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;f[4]=k[4]+t[4]*x;f[5]=k[5]+t[5]*x;f[6]=k[6]+t[6]*x;f[7]=k[7]+t[7]*x;f[8]=k[8]+t[8]*x;f[9]=k[9]+t[9]*x;f[10]=k[10]+t[10]*x;f[11]=
k[11]+t[11]*x;f[12]=k[12]+t[12]*x;f[13]=k[13]+t[13]*x;f[14]=k[14]+t[14]*x;f[15]=k[15]+t[15]*x;return f},Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]&&f[8]===k[8]&&f[9]===k[9]&&f[10]===k[10]&&f[11]===k[11]&&f[12]===k[12]&&f[13]===k[13]&&f[14]===k[14]&&f[15]===k[15]},bd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],H=f[5],K=f[6],N=f[7],Q=f[8],S=f[9],W=f[10],V=f[11],ea=f[12],ia=f[13],ca=f[14];f=f[15];var oa=k[0],
la=k[1],ra=k[2],sa=k[3],pa=k[4],za=k[5],Aa=k[6],Ba=k[7],Ca=k[8],Fa=k[9],Ja=k[10],Ka=k[11],Da=k[12],Hb=k[13],Ib=k[14];k=k[15];return Math.abs(t-oa)<=1E-6*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(x-la)<=1E-6*Math.max(1,Math.abs(x),Math.abs(la))&&Math.abs(C-ra)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(D-sa)<=1E-6*Math.max(1,Math.abs(D),Math.abs(sa))&&Math.abs(E-pa)<=1E-6*Math.max(1,Math.abs(E),Math.abs(pa))&&Math.abs(H-za)<=1E-6*Math.max(1,Math.abs(H),Math.abs(za))&&Math.abs(K-Aa)<=
1E-6*Math.max(1,Math.abs(K),Math.abs(Aa))&&Math.abs(N-Ba)<=1E-6*Math.max(1,Math.abs(N),Math.abs(Ba))&&Math.abs(Q-Ca)<=1E-6*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(S-Fa)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Fa))&&Math.abs(W-Ja)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ja))&&Math.abs(V-Ka)<=1E-6*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(ea-Da)<=1E-6*Math.max(1,Math.abs(ea),Math.abs(Da))&&Math.abs(ia-Hb)<=1E-6*Math.max(1,Math.abs(ia),Math.abs(Hb))&&Math.abs(ca-Ib)<=1E-6*Math.max(1,Math.abs(ca),
Math.abs(Ib))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},qn:n,sub:y}),rb=function(){var f=A();return function(k,t,x,C,D,E){t||(t=3);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2];return k}}();rb=Object.freeze({__proto__:null,create:A,clone:function(f){var k=new qa(3);k[0]=f[0];k[1]=f[1];k[2]=f[2];return k},length:G,tf:z,ma:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];return f},set:function(f,k,
t,x){f[0]=k;f[1]=t;f[2]=x;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];return f},Ll:F,multiply:I,El:J,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],
t[2]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;return f},gK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;return f},Qv:M,TU:P,XB:R,AU:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];return f},normalize:T,nn:Z,zJ:X,Td:function(f,k,t,x){var C=k[0],D=k[1];k=k[2];f[0]=C+x*(t[0]-C);f[1]=D+x*(t[1]-
D);f[2]=k+x*(t[2]-k);return f},kea:function(f,k,t,x){var C=Math.acos(Math.min(Math.max(Z(k,t),-1),1)),D=Math.sin(C),E=Math.sin((1-x)*C)/D;x=Math.sin(x*C)/D;f[0]=E*k[0]+x*t[0];f[1]=E*k[1]+x*t[1];f[2]=E*k[2]+x*t[2];return f},zpa:function(f,k,t,x,C,D){var E=D*D,H=E*(2*D-3)+1,K=E*(D-2)+D,N=E*(D-1);D=E*(3-2*D);f[0]=k[0]*H+t[0]*K+x[0]*N+C[0]*D;f[1]=k[1]*H+t[1]*K+x[1]*N+C[1]*D;f[2]=k[2]*H+t[2]*K+x[2]*N+C[2]*D;return f},uoa:function(f,k,t,x,C,D){var E=1-D,H=E*E,K=D*D,N=H*E;H*=3*D;E*=3*K;D*=K;f[0]=k[0]*N+
t[0]*H+x[0]*E+C[0]*D;f[1]=k[1]*N+t[1]*H+x[1]*E+C[1]*D;f[2]=k[2]*N+t[2]*H+x[2]*E+C[2]*D;return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI,x=2*Ma()-1,C=Math.sqrt(1-x*x)*k;f[0]=Math.cos(t)*C;f[1]=Math.sin(t)*C;f[2]=x*k;return f},oK:function(f,k,t){var x=k[0],C=k[1];k=k[2];var D=t[3]*x+t[7]*C+t[11]*k+t[15];D=D||1;f[0]=(t[0]*x+t[4]*C+t[8]*k+t[12])/D;f[1]=(t[1]*x+t[5]*C+t[9]*k+t[13])/D;f[2]=(t[2]*x+t[6]*C+t[10]*k+t[14])/D;return f},uea:function(f,k,t){var x=k[0],C=k[1];k=k[2];f[0]=x*t[0]+C*t[3]+
k*t[6];f[1]=x*t[1]+C*t[4]+k*t[7];f[2]=x*t[2]+C*t[5]+k*t[8];return f},vea:function(f,k,t){var x=t[0],C=t[1],D=t[2],E=k[0],H=k[1];k=k[2];var K=C*k-D*H,N=D*E-x*k,Q=x*H-C*E;t=2*t[3];f[0]=E+K*t+2*(C*Q-D*N);f[1]=H+N*t+2*(D*K-x*Q);f[2]=k+Q*t+2*(x*N-C*K);return f},dK:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0];D[1]=C[1]*Math.cos(x)-C[2]*Math.sin(x);D[2]=C[1]*Math.sin(x)+C[2]*Math.cos(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},eK:function(f,k,t,x){var C=
[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[2]*Math.sin(x)+C[0]*Math.cos(x);D[1]=C[1];D[2]=C[2]*Math.cos(x)-C[0]*Math.sin(x);f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},fK:function(f,k,t,x){var C=[],D=[];C[0]=k[0]-t[0];C[1]=k[1]-t[1];C[2]=k[2]-t[2];D[0]=C[0]*Math.cos(x)-C[1]*Math.sin(x);D[1]=C[0]*Math.sin(x)+C[1]*Math.cos(x);D[2]=C[2];f[0]=D[0]+t[0];f[1]=D[1]+t[1];f[2]=D[2]+t[2];return f},angle:function(f,k){var t=f[0],x=f[1],C=f[2],D=k[0],E=k[1],H=k[2];f=(t=Math.sqrt((t*
t+x*x+C*C)*(D*D+E*E+H*H)))&&Z(f,k)/t;return Math.acos(Math.min(Math.max(f,-1),1))},jV:function(f){f[0]=0;f[1]=0;f[2]=0;return f},Kl:function(f){return"vec3("+f[0]+", "+f[1]+", "+f[2]+")"},Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]},bd:function(f,k){var t=f[0],x=f[1];f=f[2];var C=k[0],D=k[1];k=k[2];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(x-D)<=1E-6*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:F,
qn:I,dU:J,bU:M,SU:P,Yv:G,WB:R,forEach:rb});var sb=function(){var f=ba();return function(k,t,x,C,D,E){t||(t=4);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],f[2]=k[x+2],f[3]=k[x+3],D(f,f,E),k[x]=f[0],k[x+1]=f[1],k[x+2]=f[2],k[x+3]=f[3];return k}}();sb=Object.freeze({__proto__:null,create:ba,clone:Y,tf:va,ma:ta,set:ya,add:Na,Ll:Sa,multiply:Ta,El:Ua,ceil:function(f,k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);f[2]=Math.ceil(k[2]);f[3]=Math.ceil(k[3]);return f},floor:function(f,
k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);f[2]=Math.floor(k[2]);f[3]=Math.floor(k[3]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);f[2]=Math.min(k[2],t[2]);f[3]=Math.min(k[3],t[3]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);f[2]=Math.max(k[2],t[2]);f[3]=Math.max(k[3],t[3]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);f[2]=Math.round(k[2]);f[3]=Math.round(k[3]);return f},scale:Wa,gK:function(f,
k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;f[2]=k[2]+t[2]*x;f[3]=k[3]+t[3]*x;return f},Qv:eb,TU:fb,length:Pa,XB:Va,AU:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=-k[3];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];f[2]=1/k[2];f[3]=1/k[3];return f},normalize:ib,nn:Ya,zJ:function(f,k,t,x){var C=t[0]*x[1]-t[1]*x[0],D=t[0]*x[2]-t[2]*x[0],E=t[0]*x[3]-t[3]*x[0],H=t[1]*x[2]-t[2]*x[1],K=t[1]*x[3]-t[3]*x[1];t=t[2]*x[3]-t[3]*x[2];x=k[0];var N=k[1],Q=k[2];k=k[3];f[0]=N*t-Q*K+k*H;f[1]=-(x*t)+
Q*E-k*D;f[2]=x*K-N*E+k*C;f[3]=-(x*H)+N*D-Q*C;return f},Td:vb,random:function(f,k){k=k||1;do{var t=2*Ma()-1;var x=2*Ma()-1;var C=t*t+x*x}while(1<=C);do{var D=2*Ma()-1;var E=2*Ma()-1;var H=D*D+E*E}while(1<=H);C=Math.sqrt((1-C)/H);f[0]=k*t;f[1]=k*x;f[2]=k*D*C;f[3]=k*E*C;return f},oK:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];f[0]=t[0]*x+t[4]*C+t[8]*D+t[12]*k;f[1]=t[1]*x+t[5]*C+t[9]*D+t[13]*k;f[2]=t[2]*x+t[6]*C+t[10]*D+t[14]*k;f[3]=t[3]*x+t[7]*C+t[11]*D+t[15]*k;return f},vea:function(f,k,t){var x=
k[0],C=k[1],D=k[2],E=t[0],H=t[1],K=t[2];t=t[3];var N=t*x+H*D-K*C,Q=t*C+K*x-E*D,S=t*D+E*C-H*x;x=-E*x-H*C-K*D;f[0]=N*t+x*-E+Q*-K-S*-H;f[1]=Q*t+x*-H+S*-E-N*-K;f[2]=S*t+x*-K+N*-H-Q*-E;f[3]=k[3];return f},jV:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=0;return f},Kl:function(f){return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"},Zi:wb,bd:function(f,k){var t=f[0],x=f[1],C=f[2];f=f[3];var D=k[0],E=k[1],H=k[2];k=k[3];return Math.abs(t-D)<=1E-6*Math.max(1,Math.abs(t),Math.abs(D))&&Math.abs(x-E)<=1E-6*Math.max(1,
Math.abs(x),Math.abs(E))&&Math.abs(C-H)<=1E-6*Math.max(1,Math.abs(C),Math.abs(H))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},sub:Sa,qn:Ta,dU:Ua,bU:eb,SU:fb,Yv:Pa,WB:Va,forEach:sb});var tb=function(){var f=A(),k=z(1,0,0),t=z(0,1,0);return function(x,C,D){var E=Z(C,D);if(-.999999>E)return X(f,k,C),1E-6>G(f)&&X(f,t,C),T(f,f),xb(x,f,Math.PI),x;if(.999999<E)return x[0]=0,x[1]=0,x[2]=0,x[3]=1,x;X(f,C,D);x[0]=f[0];x[1]=f[1];x[2]=f[2];x[3]=1+E;return ib(x,x)}}(),ub=function(){var f=jb(),k=
jb();return function(t,x,C,D,E,H){kb(f,x,E,H);kb(k,C,D,H);kb(t,f,k,2*H*(1-H));return t}}(),gb=function(){var f=g();return function(k,t,x,C){f[0]=x[0];f[3]=x[1];f[6]=x[2];f[1]=C[0];f[4]=C[1];f[7]=C[2];f[2]=-t[0];f[5]=-t[1];f[8]=-t[2];return ib(k,Eb(k,f))}}();tb=Object.freeze({__proto__:null,create:jb,Tv:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f},ira:xb,qpa:function(f,k){var t=2*Math.acos(k[3]),x=Math.sin(t/2);1E-6<x?(f[0]=k[0]/x,f[1]=k[1]/x,f[2]=k[2]/x):(f[0]=1,f[1]=0,f[2]=0);return t},opa:function(f,
k){f=Ya(f,k);return Math.acos(2*f*f-1)},multiply:yb,dK:zb,eK:Ab,fK:Bb,woa:function(f,k){var t=k[0],x=k[1];k=k[2];f[0]=t;f[1]=x;f[2]=k;f[3]=Math.sqrt(Math.abs(1-t*t-x*x-k*k));return f},exp:Cb,Ida:Db,pow:function(f,k,t){Db(f,k);Wa(f,f,t);Cb(f,f);return f},kea:kb,random:function(f){var k=Ma(),t=Ma(),x=Ma(),C=Math.sqrt(1-k);k=Math.sqrt(k);f[0]=C*Math.sin(2*Math.PI*t);f[1]=C*Math.cos(2*Math.PI*t);f[2]=k*Math.sin(2*Math.PI*x);f[3]=k*Math.cos(2*Math.PI*x);return f},Or:function(f,k){var t=k[0],x=k[1],C=k[2];
k=k[3];var D=t*t+x*x+C*C+k*k;D=D?1/D:0;f[0]=-t*D;f[1]=-x*D;f[2]=-C*D;f[3]=k*D;return f},Xca:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];return f},bpa:Eb,$oa:function(f,k,t,x){var C=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"zyx",D=Math.PI/360;k*=D;x*=D;t*=D;D=Math.sin(k);var E=Math.cos(k),H=Math.sin(t),K=Math.cos(t),N=Math.sin(x),Q=Math.cos(x);switch(C){case "xyz":f[0]=D*K*Q+E*H*N;f[1]=E*H*Q-D*K*N;f[2]=E*K*N+D*H*Q;f[3]=E*K*Q-D*H*N;break;case "xzy":f[0]=D*K*Q-E*H*N;f[1]=E*
H*Q-D*K*N;f[2]=E*K*N+D*H*Q;f[3]=E*K*Q+D*H*N;break;case "yxz":f[0]=D*K*Q+E*H*N;f[1]=E*H*Q-D*K*N;f[2]=E*K*N-D*H*Q;f[3]=E*K*Q+D*H*N;break;case "yzx":f[0]=D*K*Q+E*H*N;f[1]=E*H*Q+D*K*N;f[2]=E*K*N-D*H*Q;f[3]=E*K*Q-D*H*N;break;case "zxy":f[0]=D*K*Q-E*H*N;f[1]=E*H*Q+D*K*N;f[2]=E*K*N+D*H*Q;f[3]=E*K*Q-D*H*N;break;case "zyx":f[0]=D*K*Q-E*H*N;f[1]=E*H*Q+D*K*N;f[2]=E*K*N-D*H*Q;f[3]=E*K*Q+D*H*N;break;default:throw Error("Unknown angle order "+C);}return f},Kl:function(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+
", "+f[3]+")"},clone:Y,tf:va,ma:ta,set:ya,add:Na,qn:yb,scale:Wa,nn:Ya,Td:vb,length:Pa,Yv:Pa,XB:Va,WB:Va,normalize:ib,Zi:wb,bd:function(f,k){return.999999<=Math.abs(Ya(f,k))},Yqa:tb,ora:ub,hra:gb});ub=Object.freeze({__proto__:null,create:function(){var f=new qa(8);qa!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0,f[4]=0,f[5]=0,f[6]=0,f[7]=0);f[3]=1;return f},clone:function(f){var k=new qa(8);k[0]=f[0];k[1]=f[1];k[2]=f[2];k[3]=f[3];k[4]=f[4];k[5]=f[5];k[6]=f[6];k[7]=f[7];return k},tf:function(f,k,t,x,C,D,E,H){var K=
new qa(8);K[0]=f;K[1]=k;K[2]=t;K[3]=x;K[4]=C;K[5]=D;K[6]=E;K[7]=H;return K},fpa:function(f,k,t,x,C,D,E){var H=new qa(8);H[0]=f;H[1]=k;H[2]=t;H[3]=x;C*=.5;D*=.5;E*=.5;H[4]=C*x+D*t-E*k;H[5]=D*x+E*f-C*t;H[6]=E*x+C*k-D*f;H[7]=-C*f-D*k-E*t;return H},lda:Fb,GJ:function(f,k){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=.5*k[0];f[5]=.5*k[1];f[6]=.5*k[2];f[7]=0;return f},KB:function(f,k){f[0]=k[0];f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},jda:function(f,k){var t=jb();r(t,k);var x=new qa(3);q(x,
k);Fb(f,t,x);return f},ma:Gb,Tv:function(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;f[4]=0;f[5]=0;f[6]=0;f[7]=0;return f},set:function(f,k,t,x,C,D,E,H,K){f[0]=k;f[1]=t;f[2]=x;f[3]=C;f[4]=D;f[5]=E;f[6]=H;f[7]=K;return f},spa:ta,rpa:function(f,k){f[0]=k[4];f[1]=k[5];f[2]=k[6];f[3]=k[7];return f},lra:ta,jra:function(f,k){f[4]=k[0];f[5]=k[1];f[6]=k[2];f[7]=k[3];return f},oda:function(f,k){var t=k[4],x=k[5],C=k[6],D=k[7],E=-k[0],H=-k[1],K=-k[2];k=k[3];f[0]=2*(t*k+D*E+x*K-C*H);f[1]=2*(x*k+D*H+C*E-t*K);f[2]=2*(C*k+
D*K+t*H-x*E);return f},translate:function(f,k,t){var x=k[0],C=k[1],D=k[2],E=k[3],H=.5*t[0],K=.5*t[1];t=.5*t[2];var N=k[4],Q=k[5],S=k[6];k=k[7];f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=E*H+C*t-D*K+N;f[5]=E*K+D*H-x*t+Q;f[6]=E*t+x*K-C*H+S;f[7]=-x*H-C*K-D*t+k;return f},dK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=H*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-H*D,V=N*E+Q*D+H*C-K*x;H=Q*E-H*x-K*C-N*D;zb(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+H*x+W*D-V*C;f[5]=W*E+H*C+V*x-S*D;f[6]=V*E+
H*D+S*C-W*x;f[7]=H*E-S*x-W*C-V*D;return f},eK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=H*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-H*D,V=N*E+Q*D+H*C-K*x;H=Q*E-H*x-K*C-N*D;Ab(f,k,t);x=f[0];C=f[1];D=f[2];E=f[3];f[4]=S*E+H*x+W*D-V*C;f[5]=W*E+H*C+V*x-S*D;f[6]=V*E+H*D+S*C-W*x;f[7]=H*E-S*x-W*C-V*D;return f},fK:function(f,k,t){var x=-k[0],C=-k[1],D=-k[2],E=k[3],H=k[4],K=k[5],N=k[6],Q=k[7],S=H*E+Q*x+K*D-N*C,W=K*E+Q*C+N*x-H*D,V=N*E+Q*D+H*C-K*x;H=Q*E-H*x-K*C-N*D;Bb(f,k,t);x=f[0];C=
f[1];D=f[2];E=f[3];f[4]=S*E+H*x+W*D-V*C;f[5]=W*E+H*C+V*x-S*D;f[6]=V*E+H*D+S*C-W*x;f[7]=H*E-S*x-W*C-V*D;return f},Wqa:function(f,k,t){var x=t[0],C=t[1],D=t[2];t=t[3];var E=k[0],H=k[1],K=k[2],N=k[3];f[0]=E*t+N*x+H*D-K*C;f[1]=H*t+N*C+K*x-E*D;f[2]=K*t+N*D+E*C-H*x;f[3]=N*t-E*x-H*C-K*D;E=k[4];H=k[5];K=k[6];N=k[7];f[4]=E*t+N*x+H*D-K*C;f[5]=H*t+N*C+K*x-E*D;f[6]=K*t+N*D+E*C-H*x;f[7]=N*t-E*x-H*C-K*D;return f},Xqa:function(f,k,t){var x=k[0],C=k[1],D=k[2];k=k[3];var E=t[0],H=t[1],K=t[2],N=t[3];f[0]=x*N+k*E+C*
K-D*H;f[1]=C*N+k*H+D*E-x*K;f[2]=D*N+k*K+x*H-C*E;f[3]=k*N-x*E-C*H-D*K;E=t[4];H=t[5];K=t[6];N=t[7];f[4]=x*N+k*E+C*K-D*H;f[5]=C*N+k*H+D*E-x*K;f[6]=D*N+k*K+x*H-C*E;f[7]=k*N-x*E-C*H-D*K;return f},Vqa:function(f,k,t,x){if(1E-6>Math.abs(x))return Gb(f,k);var C=Math.hypot(t[0],t[1],t[2]);x*=.5;var D=Math.sin(x),E=D*t[0]/C,H=D*t[1]/C;t=D*t[2]/C;x=Math.cos(x);C=k[0];D=k[1];var K=k[2],N=k[3];f[0]=C*x+N*E+D*t-K*H;f[1]=D*x+N*H+K*E-C*t;f[2]=K*x+N*t+C*H-D*E;f[3]=N*x-C*E-D*H-K*t;C=k[4];D=k[5];K=k[6];k=k[7];f[4]=
C*x+k*E+D*t-K*H;f[5]=D*x+k*H+K*E-C*t;f[6]=K*x+k*t+C*H-D*E;f[7]=k*x-C*E-D*H-K*t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];f[2]=k[2]+t[2];f[3]=k[3]+t[3];f[4]=k[4]+t[4];f[5]=k[5]+t[5];f[6]=k[6]+t[6];f[7]=k[7]+t[7];return f},multiply:lb,qn:lb,scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;f[2]=k[2]*t;f[3]=k[3]*t;f[4]=k[4]*t;f[5]=k[5]*t;f[6]=k[6]*t;f[7]=k[7]*t;return f},nn:Ya,Td:function(f,k,t,x){var C=1-x;0>Ya(k,t)&&(x=-x);f[0]=k[0]*C+t[0]*x;f[1]=k[1]*C+t[1]*x;f[2]=k[2]*C+t[2]*x;f[3]=
k[3]*C+t[3]*x;f[4]=k[4]*C+t[4]*x;f[5]=k[5]*C+t[5]*x;f[6]=k[6]*C+t[6]*x;f[7]=k[7]*C+t[7]*x;return f},Or:function(f,k){var t=Va(k);f[0]=-k[0]/t;f[1]=-k[1]/t;f[2]=-k[2]/t;f[3]=k[3]/t;f[4]=-k[4]/t;f[5]=-k[5]/t;f[6]=-k[6]/t;f[7]=k[7]/t;return f},Xca:function(f,k){f[0]=-k[0];f[1]=-k[1];f[2]=-k[2];f[3]=k[3];f[4]=-k[4];f[5]=-k[5];f[6]=-k[6];f[7]=k[7];return f},length:Pa,Yv:Pa,XB:Va,WB:Va,normalize:function(f,k){var t=Va(k);if(0<t){t=Math.sqrt(t);var x=k[0]/t,C=k[1]/t,D=k[2]/t,E=k[3]/t,H=k[4],K=k[5],N=k[6];
k=k[7];var Q=x*H+C*K+D*N+E*k;f[0]=x;f[1]=C;f[2]=D;f[3]=E;f[4]=(H-x*Q)/t;f[5]=(K-C*Q)/t;f[6]=(N-D*Q)/t;f[7]=(k-E*Q)/t}return f},Kl:function(f){return"quat2("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+")"},Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]&&f[2]===k[2]&&f[3]===k[3]&&f[4]===k[4]&&f[5]===k[5]&&f[6]===k[6]&&f[7]===k[7]},bd:function(f,k){var t=f[0],x=f[1],C=f[2],D=f[3],E=f[4],H=f[5],K=f[6];f=f[7];var N=k[0],Q=k[1],S=k[2],W=k[3],V=k[4],ea=k[5],ia=k[6];k=k[7];
return Math.abs(t-N)<=1E-6*Math.max(1,Math.abs(t),Math.abs(N))&&Math.abs(x-Q)<=1E-6*Math.max(1,Math.abs(x),Math.abs(Q))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(E-V)<=1E-6*Math.max(1,Math.abs(E),Math.abs(V))&&Math.abs(H-ea)<=1E-6*Math.max(1,Math.abs(H),Math.abs(ea))&&Math.abs(K-ia)<=1E-6*Math.max(1,Math.abs(K),Math.abs(ia))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))}});gb=function(){var f=Xa();return function(k,
t,x,C,D,E){t||(t=2);x||(x=0);for(C=C?Math.min(C*t+x,k.length):k.length;x<C;x+=t)f[0]=k[x],f[1]=k[x+1],D(f,f,E),k[x]=f[0],k[x+1]=f[1];return k}}();gb=Object.freeze({__proto__:null,create:Xa,clone:function(f){var k=new qa(2);k[0]=f[0];k[1]=f[1];return k},tf:function(f,k){var t=new qa(2);t[0]=f;t[1]=k;return t},ma:function(f,k){f[0]=k[0];f[1]=k[1];return f},set:function(f,k,t){f[0]=k;f[1]=t;return f},add:function(f,k,t){f[0]=k[0]+t[0];f[1]=k[1]+t[1];return f},Ll:mb,multiply:nb,El:Za,ceil:function(f,
k){f[0]=Math.ceil(k[0]);f[1]=Math.ceil(k[1]);return f},floor:function(f,k){f[0]=Math.floor(k[0]);f[1]=Math.floor(k[1]);return f},min:function(f,k,t){f[0]=Math.min(k[0],t[0]);f[1]=Math.min(k[1],t[1]);return f},max:function(f,k,t){f[0]=Math.max(k[0],t[0]);f[1]=Math.max(k[1],t[1]);return f},round:function(f,k){f[0]=Math.round(k[0]);f[1]=Math.round(k[1]);return f},scale:function(f,k,t){f[0]=k[0]*t;f[1]=k[1]*t;return f},gK:function(f,k,t,x){f[0]=k[0]+t[0]*x;f[1]=k[1]+t[1]*x;return f},Qv:ob,TU:Qa,length:pb,
XB:qb,AU:function(f,k){f[0]=-k[0];f[1]=-k[1];return f},inverse:function(f,k){f[0]=1/k[0];f[1]=1/k[1];return f},normalize:function(f,k){var t=k[0],x=k[1];t=t*t+x*x;0<t&&(t=1/Math.sqrt(t));f[0]=k[0]*t;f[1]=k[1]*t;return f},nn:function(f,k){return f[0]*k[0]+f[1]*k[1]},zJ:function(f,k,t){k=k[0]*t[1]-k[1]*t[0];f[0]=f[1]=0;f[2]=k;return f},Td:function(f,k,t,x){var C=k[0];k=k[1];f[0]=C+x*(t[0]-C);f[1]=k+x*(t[1]-k);return f},random:function(f,k){k=k||1;var t=2*Ma()*Math.PI;f[0]=Math.cos(t)*k;f[1]=Math.sin(t)*
k;return f},Ara:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k;f[1]=t[1]*x+t[3]*k;return f},Bra:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[2]*k+t[4];f[1]=t[1]*x+t[3]*k+t[5];return f},uea:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[3]*k+t[6];f[1]=t[1]*x+t[4]*k+t[7];return f},oK:function(f,k,t){var x=k[0];k=k[1];f[0]=t[0]*x+t[4]*k+t[12];f[1]=t[1]*x+t[5]*k+t[13];return f},rotate:function(f,k,t,x){var C=k[0]-t[0];k=k[1]-t[1];var D=Math.sin(x);x=Math.cos(x);f[0]=C*x-k*D+t[0];f[1]=C*D+k*
x+t[1];return f},angle:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];var C=Math.sqrt((t*t+f*f)*(x*x+k*k));return Math.acos(Math.min(Math.max(C&&(t*x+f*k)/C,-1),1))},jV:function(f){f[0]=0;f[1]=0;return f},Kl:function(f){return"vec2("+f[0]+", "+f[1]+")"},Zi:function(f,k){return f[0]===k[0]&&f[1]===k[1]},bd:function(f,k){var t=f[0];f=f[1];var x=k[0];k=k[1];return Math.abs(t-x)<=1E-6*Math.max(1,Math.abs(t),Math.abs(x))&&Math.abs(f-k)<=1E-6*Math.max(1,Math.abs(f),Math.abs(k))},Yv:pb,sub:mb,qn:nb,dU:Za,
bU:ob,SU:Qa,WB:qb,forEach:gb});e.$i=Nb;e.eqa=Ob;e.fqa=Pb;e.gqa=Qb;e.Gl=Rb;e.Fqa=tb;e.Gqa=ub;e.Ira=gb;e.aC=rb;e.gw=sb;Object.defineProperty(e,"__esModule",{value:!0})}"object"===typeof exports&&"undefined"!==typeof module?$a(exports):"function"===typeof define&&define.noa?define(["exports"],$a):(Oa="undefined"!==typeof globalThis?globalThis:Oa||self,$a(Oa.$i={}));
{"use strict";function e(v,w,y,A){var G=w[0]-v[0];w=w[1]-v[1];var z=A[0]-y[0],F=A[1]-y[1];if(0===z*w-F*G)return!1;A=(G*(y[1]-v[1])+w*(v[0]-y[0]))/(z*w-F*G);v=(z*(v[1]-y[1])+F*(y[0]-v[0]))/(F*G-z*w);return 0<=A&&1>=A&&0<=v&&1>=v}function b(v,w,y){return(w[0]-v[0])*(y[1]-v[1])-(y[0]-v[0])*(w[1]-v[1])}function a(v,w,y){return 0<b(v,w,y)}function d(v,w,y){return 0<=b(v,w,y)}function c(v,w,y){return 0>=b(v,w,y)}var ab=[],bb=[];function g(v,w){var y=w[0]-v[0];v=w[1]-v[1];return y*y+v*v}function m(v,w){var y=
v.length;return v[0>w?w%y+y:w%y]}function h(v,w,y,A){for(;y<A;y++)v.push(w[y])}function l(v,w){var y=m(v,w-1),A=m(v,w);v=m(v,w+1);return 0>b(y,A,v)}var cb=[],Jb=[];function n(v,w,y,A){A=A||[];A.length=0;if(w<y)for(var G=w;G<=y;G++)A.push(v[G]);else{for(G=0;G<=y;G++)A.push(v[G]);for(G=w;G<v.length;G++)A.push(v[G])}return A}function p(v){for(var w=[],y,A,G=[],z=Number.MAX_VALUE,F=0;F<v.length;++F)if(l(v,F))for(var I=0;I<v.length;++I){a:{A=v;var J=F,M=I;if(d(m(A,J+1),m(A,J),m(A,M))&&c(m(A,J-1),m(A,J),
m(A,M)))y=!1;else{y=g(m(A,J),m(A,M));for(var P=0;P!==A.length;++P)if((P+1)%A.length!==J&&P!==J&&d(m(A,J),m(A,M),m(A,P+1))&&c(m(A,J),m(A,M),m(A,P))){cb[0]=m(A,J);cb[1]=m(A,M);Jb[0]=m(A,P);Jb[1]=m(A,P+1);var R=[0,0];var T=cb[1][1]-cb[0][1];var Z=cb[0][0]-cb[1][0];var X=T*cb[0][0]+Z*cb[0][1];var ba=Jb[1][1]-Jb[0][1];var Y=Jb[0][0]-Jb[1][0];var va=ba*Jb[0][0]+Y*Jb[0][1];var ta=T*Y-ba*Z;0>=Math.abs(ta-0)||(R[0]=(Y*X-Z*va)/ta,R[1]=(T*va-ba*X)/ta);ta=R;if(g(m(A,J),ta)<y){y=!1;break a}}y=!0}}if(y){y=p(n(v,
F,I,G));A=p(n(v,I,F,G));for(J=0;J<A.length;J++)y.push(A[J]);y.length<z&&(w=y,z=y.length,w.push([m(v,F),m(v,I)]))}}return w}function q(v,w){if(0===w.length)return[v];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){v=[v];for(var y=0;y<w.length;y++)for(var A=w[y],G=0;G<v.length;G++){var z=q(v[G],A);if(z){v.splice(G,1);v.push(z[0],z[1]);break}}return v}A=w;y=v.indexOf(A[0]);G=v.indexOf(A[1]);return-1!==y&&-1!==G?[n(v,y,G),n(v,G,y)]:!1}function u(v,w,y,
A,G){var z=w[1]-v[1];w=v[0]-w[0];v=z*v[0]+w*v[1];var F=A[1]-y[1];A=y[0]-A[0];y=F*y[0]+A*y[1];var I=z*A-F*w;return Math.abs(I-0)<=(G||0)?[0,0]:[(A*v-w*y)/I,(z*y-F*v)/I]}function r(v,w,y,A,G,z,F){z=z||100;F=F||0;G=G||25;w="undefined"!==typeof w?w:[];y=y||[];A=A||[];var I=[0,0],J=[0,0],M=[0,0],P,R=0,T=0,Z=0,X=[],ba=[];if(3>v.length)return w;F++;if(F>z)return console.warn("quickDecomp: max level ("+z+") reached."),w;for(var Y=0;Y<v.length;++Y)if(l(v,Y)){y.push(v[Y]);var va=P=Number.MAX_VALUE;for(var ta=
0;ta<v.length;++ta){if(a(m(v,Y-1),m(v,Y),m(v,ta))&&c(m(v,Y-1),m(v,Y),m(v,ta-1))){M=u(m(v,Y-1),m(v,Y),m(v,ta),m(v,ta-1));var ya=m(v,Y+1);var Na=m(v,Y);0>b(ya,Na,M)&&(ya=g(v[Y],M),ya<P&&(P=ya,J=M,T=ta))}a(m(v,Y+1),m(v,Y),m(v,ta+1))&&c(m(v,Y+1),m(v,Y),m(v,ta))&&(M=u(m(v,Y+1),m(v,Y),m(v,ta),m(v,ta+1)),a(m(v,Y-1),m(v,Y),M)&&(ya=g(v[Y],M),ya<va&&(va=ya,I=M,R=ta)))}if(T===(R+1)%v.length)M[0]=(J[0]+I[0])/2,M[1]=(J[1]+I[1])/2,A.push(M),Y<R?(h(X,v,Y,R+1),X.push(M),ba.push(M),0!==T&&h(ba,v,T,v.length),h(ba,
v,0,Y+1)):(0!==Y&&h(X,v,Y,v.length),h(X,v,0,R+1),X.push(M),ba.push(M),h(ba,v,T,Y+1));else{T>R&&(R+=v.length);I=Number.MAX_VALUE;if(R<T)return w;for(ta=T;ta<=R;++ta)if(d(m(v,Y-1),m(v,Y),m(v,ta))&&c(m(v,Y+1),m(v,Y),m(v,ta))){ya=g(m(v,Y),m(v,ta));if(T=ya<I)a:{T=v;J=Y;M=ta;for(va=0;va!==T.length;++va)if(va!==J&&va!==M&&(va+1)%T.length!==J&&(va+1)%T.length!==M&&e(m(T,J),m(T,M),m(T,va),m(T,va+1))){T=!1;break a}T=!0}T&&(I=ya,Z=ta%v.length)}Y<Z?(h(X,v,Y,Z+1),0!==Z&&h(ba,v,Z,v.length),h(ba,v,0,Y+1)):(0!==
Y&&h(X,v,Y,v.length),h(X,v,0,Z+1),h(ba,v,Z,Y+1))}X.length<ba.length?(r(X,w,y,A,G,z,F),r(ba,w,y,A,G,z,F)):(r(ba,w,y,A,G,z,F),r(X,w,y,A,G,z,F));return w}w.push(v);return w}self.Aqa={Moa:function(v){var w=p(v);return 0<w.length?q(v,w):[v]},Hqa:r,Gpa:function(v){var w;for(w=0;w<v.length-1;w++)for(var y=0;y<w-1;y++)if(e(v[w],v[w+1],v[y],v[y+1]))return!1;for(w=1;w<v.length-2;w++)if(e(v[0],v[v.length-1],v[w],v[w+1]))return!1;return!0},Mqa:function(v,w){for(var y=0,A=v.length-1;3<v.length&&0<=A;--A){var G=
m(v,A-1);var z=m(v,A),F=m(v,A+1),I=w;I?(ab[0]=z[0]-G[0],ab[1]=z[1]-G[1],bb[0]=F[0]-z[0],bb[1]=F[1]-z[1],G=Math.acos((ab[0]*bb[0]+ab[1]*bb[1])/(Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1])*Math.sqrt(bb[0]*bb[0]+bb[1]*bb[1])))<I):G=0===b(G,z,F);G&&(v.splice(A%v.length,1),y++)}return y},Nqa:function(v,w){for(var y=v.length-1;1<=y;--y)for(var A=v[y],G=y-1;0<=G;--G){var z=A,F=v[G],I=w;Math.abs(z[0]-F[0])<=(I||0)&&Math.abs(z[1]-F[1])<=(I||0)&&v.splice(y,1)}},dqa:function(v){for(var w=0,y=1;y<v.length;++y)if(v[y][1]<
v[w][1]||v[y][1]===v[w][1]&&v[y][0]>v[w][0])w=y;if(a(m(v,w-1),m(v,w),m(v,w+1)))return!1;w=[];y=v.length;for(var A=0;A!==y;A++)w.push(v.pop());for(A=0;A!==y;A++)v[A]=w[A];return!0}}}{"use strict";const e=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};e.Vv=!1;e.PJ=!1;e.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Rh={}}
{"use strict";const e=self.B;e.QM=class{constructor(b){this.pca=b;this.Ha=new Map;this.A9()}A9(){var b=this.pca;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.B9(a)}B9(b){if(b)if(b.includes("=")){var a=b.indexOf("="),d=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ha.set(d,b)}else this.Ha.set(b,null)}vx(b){return this.Ha.has(b)}Y(b){b=this.Ha.get(b);return"undefined"===typeof b?null:b}};e.SD=new e.QM(location.search);e.Ria=
new e.QM(location.hash);e.SD.Y("mode")}
{"use strict";const e=self.B,b=navigator.userAgent;let a={Hda:/linux|openbsd|freebsd|netbsd/i.test(b),Uca:/CrOS/.test(b),bC:/trident|iemobile|msie|tizen/i.test(b),npa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),UT:/bb10/i.test(b),hda:/edge\//i.test(b),aV:/trident/i.test(b),webkit:/webkit/i.test(b),dea:/safari\//i.test(b),Tca:/chrome\//i.test(b),Vca:/chromium\//i.test(b),Yca:/crosswalk|xwalk/i.test(b),nqa:/nwjs/i.test(b),Jca:/amazonwebappplatform/i.test(b),Bea:/wv\)/.test(b),Kca:/android/i.test(b),
Qda:/nokiabrowser\/[0-9.]+/i.test(b)};var Kb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Sb=/OPR\/[0-9.]+/.exec(b),Tb=/tizen\s+[0-9.]+/i.exec(b),Ub=/iphone\s+os\s+[0-9_]+/i.exec(b),Vb=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Wb=/windows\s+phone\s+[0-9.]+/i.exec(b),Xb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Yb=/chrome\/[0-9.]+/i.exec(b),Zb=/chromium\/[0-9.]+/i.exec(b),$b=/nwjs\/[0-9.]+/i.exec(b),ac=/firefox\/[0-9.]+/i.exec(b),bc=/msie\s+[0-9.]+/i.exec(b),cc=/edge\/[0-9.]+/i.exec(b),
dc=/edg\/[0-9.]+/i.exec(b),ec=/silk\/[0-9.]+/i.exec(b);let d="(unknown)",c="(unknown)",g="(unknown)",m="(unknown)",h="(unknown)",l="browser",n=!1,p=!1,q=new Map;function u(v,w,y){!0===w?(y(),q.set(v,!0)):w&&w.length&&(y(w[0]),q.set(v,!0))}u("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),v=>{d="Windows";if(v=v.split(" ")[2])switch(v){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});u("isOSX",Kb,v=>{d="Mac OS X";(v=v.split(" ")[3])&&(c=v.replace("_","."))});u("isLinux",a.Hda,()=>{d="Linux"});u("isChromeOS",a.Uca,()=>{d="Chrome OS"});u("isAndroid",!a.bC&&Lb,v=>{d="Android";(v=v.split(" ")[1])&&(c=v)});u("isTizen",Tb,v=>{d="Tizen";(v=v.split(" ")[1])&&(c=v)});u("isIPhone",!a.bC&&Ub,v=>{d="iOS";(v=v.split(" ")[2])&&(c=v.replace("_","."))});u("isIPad",!a.bC&&Vb,v=>{d="iOS";(v=v.split(" ")[3])&&(c=v.replace("_","."))});u("isWindowsPhone",Wb,v=>{d="Windows Phone";
(v=v.split(" ")[2])&&(c=v)});u("isWindowsPhoneOS",Xb,v=>{d="Windows Phone";(v=v.split(" ")[3])&&(c=v)});u("isBlackberry",a.UT,()=>{d="Blackberry";c="10";g="stock";h="webkit"});u("isChrome",!a.hda&&!a.opera&&Yb,v=>{g="Chrome";h="Chromium";(v=v.split("/")[1])&&(m=v)});u("isOpera",Sb,v=>{g="Opera";h="Chromium";(v=v.split("/")[1])&&(m=v)});u("isChromium",Zb,v=>{h=g="Chromium";(v=v.split("/")[1])&&(m=v)});u("isFirefox",ac,v=>{g="Firefox";h="Gecko";(v=v.split("/")[1])&&(m=v)});u("isInternetExplorer",bc,
v=>{g="Internet Explorer";h="Trident";(v=v.split(" ")[1])&&(m=v)});u("isTrident","Internet Explorer"!==g&&a.aV,()=>{h="Trident";var v=/rv:[0-9.]+/i.exec(b);v&&v.length&&(g="Internet Explorer",(v=v[0].split(":")[1])&&(m=v))});u("isEdge",cc,v=>{h=g="Edge";(v=v.split("/")[1])&&(m=v)});u("isEdgeChromium",dc,v=>{g="Edge";h="Chromium";(v=v.split("/")[1])&&(m=v)});u("isSafari",a.dea&&!a.Qda&&!a.Tca&&!a.Vca&&!a.mpa&&!a.UT,()=>{g="Safari";h="WebKit";var v=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
y=/fxios\/[0-9.]+/i.exec(b);v&&v.length&&(v=v[0].split("/")[1])&&(m=v);w&&w.length&&(g="Chrome for iOS",(w=w[0].split("/")[1])&&(m=w));y&&y.length&&(g="Firefox for iOS",(y=y[0].split("/")[1])&&(m=y))});u("isSilk",ec,v=>{g="Silk";(v=v.split("/")[1])&&(m=v)});u("isCrosswalk",a.Yca,()=>l="crosswalk");u("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");u("isNWJS",$b,v=>{l="nwjs";g="NW.js";h="Chromium";(v=v.split("/")[1])&&(m=v)});u("isAmazonWebApp",a.Jca,()=>l="webapp");
u("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");u("isFalseSafari","Safari"===g&&("Android"===d||"Tizen"===d||"Blackberry"===d),()=>g="stock");u("isAndroidWebview","Chrome"===g&&"browser"===l&&a.Bea,()=>l="webview");u("isFirefoxOS","Firefox"===g&&"(unknown)"===d,()=>d="Firefox OS");u("isAndroidFallback","(unknown)"===d&&!a.bC&&a.Kca,()=>d="Android");u("isTridentFallback",
"(unknown)"===d&&a.aV,()=>h="Trident");u("isWebkitFallback","(unknown)"===d&&a.webkit,()=>h="WebKit");u("isDesktop","Windows"===d||"Mac OS X"===d||"Linux"===d||"Chrome OS"===d||"nwjs"===l,()=>n=!0);p="nwjs"===l;const r="Mac OS X"===d&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;r&&(d="iOS",c=m,p=n=!1);e.Fb={Zg:d,kja:c,Ec:g,Ifa:m,pC:parseFloat(m),pw:h,xC:l,Mha:n,Dx:!n,Nha:p,Hha:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Cha:"Mac OS X"===d||"iOS"===d,Tha:r,Xha:"Linux"===d}}"use strict";
{const e=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function d(r){return new Promise((v,w)=>{r.onsuccess=()=>v(r.result);r.onerror=()=>w(r.error)})}function c(r){return new Promise((v,w)=>{r.oncomplete=()=>v();r.onerror=()=>w(r.error);r.onabort=()=>w(r.error)})}function g(r,v){return h(r,v)}function m(r,v){return h(r,v,!0)}async function h(r,v,w=!1,
y=!0){const A=await l(r);try{const G=A.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return v(G)}catch(G){if(y&&"InvalidStateError"===G.name)return e.delete(r),h(r,v,w,!1);throw G;}}function l(r){p(r);let v=e.get(r);v instanceof Promise||(v=n(r),e.set(r,v),v.catch(()=>e.delete(r)));return v}async function n(r){p(r);const v=indexedDB.open(r,2);v.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(y){console.error(`Failed to create objectstore for database ${r}`,
y)}});return d(v)}function p(r){if("string"!==typeof r)throw new TypeError("expected string");}function q(r,v){const w=r.objectStore("keyvaluepairs").openCursor();return new Promise(y=>{const A=[];w.onsuccess=G=>{if(G=G.target.result){switch(v){case "entries":A.push([G.key,G.value]);break;case "keys":A.push(G.key);break;case "values":A.push(G.value)}G.continue()}else y(A)}})}class u{constructor(r){p(r);this.name=r}async ready(){await l(this.name)}set(r,v){p(r);return m(this.name,async w=>{var y=w.objectStore("keyvaluepairs").put(v,
r);y=d(y);w=c(w);await Promise.all([w,y])})}get(r){p(r);return g(this.name,async v=>{var w=v.objectStore("keyvaluepairs").get(r);w=d(w);v=c(v);[,v]=await Promise.all([v,w]);return v})}delete(r){p(r);return m(this.name,async v=>{var w=v.objectStore("keyvaluepairs").delete(r);w=d(w);v=c(v);await Promise.all([v,w])})}clear(){return m(this.name,async r=>{var v=r.objectStore("keyvaluepairs").clear();v=d(v);r=c(r);await Promise.all([r,v])})}keys(){return g(this.name,async r=>{if(a){var v=r.objectStore("keyvaluepairs").getAllKeys();
v=d(v)}else v=q(r,"keys");r=c(r);[,r]=await Promise.all([r,v]);return r})}values(){return g(this.name,async r=>{if(b){var v=r.objectStore("keyvaluepairs").getAll();v=d(v)}else v=q(r,"values");r=c(r);[,r]=await Promise.all([r,v]);return r})}entries(){return g(this.name,async r=>{var v=q(r,"entries");r=c(r);[,v]=await Promise.all([r,v]);return v})}}self.o0=u}"use strict";
{const e=self.o0,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let d=!1;"undefined"===typeof indexedDB&&(d=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function g(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function m(l){return"object"===typeof l?new Promise(n=>{const {port1:p,port2:q}=new MessageChannel;q.onmessage=u=>n(u.data);p.postMessage(l)}):Promise.resolve(l)}class h{constructor(l){this.na=l;a.set(this,new Map)}At(l){if(!d)for(const n of b)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);d=!0;break}}async ER(l){l=
a.get(this).get(l);l=await m(l);return"undefined"===typeof l?null:l}async eT(l,n){n=await m(n);a.get(this).set(l,n)}$S(l){a.get(this).delete(l)}cR(){a.get(this).clear()}kS(){return Array.from(a.get(this).keys())}async getItem(l,n){g(n);if(d)return await this.ER(l);let p;try{p=await this.na.get(l)}catch(q){this.At(q);if(d)return await this.ER(l);console.error(`Error reading '${l}' from storage, returning null: `,q);return null}return"undefined"===typeof p?null:p}async setItem(l,n,p){g(p);"undefined"===
typeof n&&(n=null);if(d)await this.eT(l,n);else try{await this.na.set(l,n)}catch(q){if(this.At(q),d)await this.eT(l,n);else throw q;}}async removeItem(l,n){g(n);if(d)this.$S(l);else try{await this.na.delete(l)}catch(p){this.At(p),d?this.$S(l):console.error(`Error removing '${l}' from storage: `,p)}}async clear(l){g(l);if(d)this.cR();else try{await this.na.clear()}catch(n){this.At(n),d?this.cR():console.error("Error clearing storage: ",n)}}async keys(l){g(l);if(d)return this.kS();l=[];try{l=await this.na.keys()}catch(n){this.At(n);
if(d)return this.kS();console.error("Error getting storage keys: ",n)}return l}ready(l){g(l);return d?Promise.resolve(!0):this.na.ready()}yJ(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new e(l);return new h(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new h(new e("localforage"))}
{"use strict";const e=self.B;e.dc={};e.dc.Vna=(()=>{try{if("Safari"===e.Fb.Ec||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();e.dc.xga="undefined"!==typeof HTMLDialogElement;e.dc.Dka=!!self.requestIdleCallback;e.dc.ImageBitmap=!!self.createImageBitmap&&"Safari"!==e.Fb.Ec;e.dc.ImageBitmapOptions=!1;if(e.dc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,
32),{resizeWidth:10,resizeHeight:10,premultiplyAlpha:"none"}).then(b=>{e.dc.ImageBitmapOptions=10===b.width&&10===b.height?!0:!1}).catch(()=>{e.dc.ImageBitmapOptions=!1})}catch(b){e.dc.ImageBitmapOptions=!1}e.dc.Rfa=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===e.Fb.Ec);e.dc.Ija=!(!navigator.permissions||!navigator.permissions.query);e.dc.PM="undefined"!==typeof Proxy;e.dc.Bga="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;e.dc.qw="undefined"!==
typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;e.dc.Pga="function"===typeof fetch;e.dc.Kja=!!(self.isSecureContext&&"Opera"!==e.Fb.Ec&&navigator.storage&&navigator.storage.persist);e.dc.dna=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var fc;if("undefined"===typeof document||"iOS"===e.Fb.Zg)fc=!1;else{var gc=document.documentElement;fc=!!(gc.requestFullscreen||gc.msRequestFullscreen||gc.mozRequestFullScreen||gc.webkitRequestFullscreen)}e.dc.Yga=fc;e.dc.vha=
"undefined"!==typeof self.ImageDecoder;e.dc.fja=!!self.showOpenFilePicker;e.dc.gja=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const e=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(e.es(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,d){return a.reduce((c,g)=>{0<d&&Array.isArray(g)?Array.prototype.push.apply(c,b(g,d-1)):c.push(g);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.Sd||(Array.prototype.Sd=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.Sd||(String.prototype.Sd=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((d,
c)=>b({usage:d,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const e=self.B;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+e.Pw())}}
{"use strict";const e=self.B,b=self.Rh;e.am=function(d){return"number"===typeof d};e.Xl=function(d){return e.am(d)&&isFinite(d)};e.Ff=function(d){if(!e.am(d))throw new TypeError("expected number");};e.ZM=function(){};e.Zka=function(d,c,g){if(!e.am(d)||isNaN(d)||c>d||g<d)throw new RangeError("number outside of range");};e.Lka=function(...d){for(let c of d);};e.Dk=function(d){if(!e.Xl(d))throw new TypeError("expected finite number");};e.WM=function(){};e.Ika=function(...d){for(let c of d);};e.ei=function(d){return"string"===
typeof d};e.td=function(d){if(!e.ei(d))throw new TypeError("expected string");};e.aN=function(){};e.Nka=function(...d){for(let c of d);};e.lM=function(d){return"object"!==typeof d||null===d?!1:(d=Object.getPrototypeOf(d))?d.constructor===Object:null===d};e.lla=function(d){if(!e.lM(d))throw new TypeError("expected simple object");};e.ila=function(d){if(!e.Vd(d)&&!e.lM(d))throw new TypeError("expected simple object");};e.kM=function(d){return"object"===typeof d&&null!==d&&!Array.isArray(d)};e.UM=function(d){if(!e.kM(d))throw new TypeError("expected object");
};e.$M=function(){};e.Mka=function(...d){for(let c of d);};e.yD=function(d){return e.Yl(d,Blob)&&"string"===typeof d.name};e.Xka=function(d){if(!e.yD(d))throw new TypeError("expected file");};e.gla=function(){};e.On=function(d){return Array.isArray(d)};e.YD=function(d){if(!e.On(d))throw new TypeError("expected array");};e.VM=function(){};e.Hka=function(...d){for(let c of d);};e.R_=function(d){return e.On(d)?d.length?e.On(d[0])?!0:!1:!0:!1};e.Gka=function(d){if(!e.R_(d))throw new TypeError("expected 2d array");
for(let c of d)if(!e.On(c))throw new TypeError("expected 2d array");};e.$ka=function(){};e.zD=function(d){return"function"===typeof d};e.vj=function(d,c){if(!e.zD(d))throw new TypeError("expected function");if(!e.Vd(c)&&d!==c)throw new TypeError("expected same function reference");};e.XM=function(){};e.Jka=function(...d){for(let c of d);};e.Pka=function(d,...c){if(!e.zD(d))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let g of c)if(!e.Vd(g)&&
d===g)return;throw new TypeError("expected same function reference");};e.ala=function(...d){if(!e.Vd(d))for(let c of d);};e.Yl=function(d,c){return d instanceof c};e.jM=function(d,...c){for(let g of c)if(e.Yl(d,g))return!0;return!1};e.ZD=function(d,c){if(!e.Yl(d,c))throw new TypeError("unexpected type");};e.YM=function(){};e.Kka=function(d,...c){for(let g of c);};e.Qka=function(d,...c){if(!e.jM(d,...c))throw new TypeError("unexpected type");};e.Rka=function(d,...c){if(!e.Vd(d)&&!e.jM(d,...c))throw new TypeError("unexpected type");
};e.Dha=function(d,c){for(let g of d)if(!e.Yl(g,c))return!1;return!0};e.Eha=function(d){for(let c of d)if(!e.Xl(c))return!1;return!0};e.Ska=function(d){for(let c of d);};e.bla=function(d){if(!e.Vd(d))for(let c of d);};e.Tka=function(d){for(let c of d);};e.cla=function(d){if(!e.Vd(d))for(let c of d);};e.Jha=function(d,c){return e.Vd(d)||!e.ei(d.nodeName)?!1:!c||e.Yi(d.nodeName,c)};e.Uka=function(d,c){if(e.Vd(d)||!e.ei(d.nodeName))throw new TypeError("expected DOM node");if(c&&!e.Yi(d.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};e.dla=function(){};e.BD=function(d,c){return e.Vd(d)||!e.ei(d.tagName)?!1:!c||e.Yi(d.tagName,c)};e.Yka=function(d,c){if(e.Vd(d)||!e.ei(d.tagName))throw new TypeError("expected HTML element");if(c&&!e.Yi(d.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};e.hla=function(){};e.dM=function(d){return e.BD(d,"img")||e.BD(d,"canvas")||e.BD(d,"video")||"undefined"!==typeof OffscreenCanvas&&d instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&d instanceof ImageBitmap};e.Vka=function(d){if(!e.dM(d))throw new TypeError("expected drawable");
};e.ela=function(){};e.eM=function(d){return d instanceof ImageData?!0:e.dM(d)};e.Wka=function(d){if(!e.eM(d))throw new TypeError("expected drawable or image data");};e.fla=function(d){if(!e.Vd(d)&&!e.eM(d))throw new TypeError("expected drawable or image data");};e.i0=function(d){return"string"===typeof d||d instanceof e.nD||d instanceof e.Nl};e.mla=function(d){if(!e.i0(d))throw new TypeError("expected string-like");};e.jla=function(){};e.Oka=function(...d){for(let c of d);};e.kla=function(){throw Error("must be overridden");
};e.jja=function(){throw Error("not yet implemented");};e.Lha=function(d,...c){if("undefined"===typeof d)return!1;for(let g of c){if("undefined"===typeof d[g])return!1;d=d[g]}return!0};e.Vd=function(d){return"undefined"===typeof d||null===d};e.ufa=function(d){let c=d[0].constructor;for(let g of d)if(g.constructor!==c)return!1;return c};e.vfa=function(d,c){for(let g of d)if(!(g instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);e.wia=function(d){return e.Yl(d,a)};e.nla=function(){};
e.Una=function(d){e.I4(d,a)};e.Tna=function(d,...c){if(!e.H4(d,...c))throw new TypeError("unexpected type");};e.H4=function(d,...c){for(const g of c)if(e.gO(d,g))return!0;return!1};e.I4=function(d,c){if(!e.gO(d,c))throw new TypeError("unexpected type");};e.gO=function(d,c){for(;d=Object.getPrototypeOf(d);)if(d.constructor.name===c.name)return!0;return!1};b.Ff=e.Ff;b.ZM=e.ZM;b.Dk=e.Dk;b.WM=e.WM;b.td=e.td;b.aN=e.aN;b.UM=e.UM;b.$M=e.$M;b.YD=e.YD;b.VM=e.VM;b.vj=e.vj;b.XM=e.XM;b.ZD=e.ZD;b.YM=e.YM;b.Vd=
e.Vd}
{"use strict";const e=self.B,b=new Map;e.qka=function(u,...r){b.has(u)||b.set(u,-1);-1===b.get(u)&&b.set(u,requestAnimationFrame(()=>{console.log(`%c${u}`,"font-weight: bold",...r);b.set(u,-1)}))};let a;e.$ma=function(u){performance.mark(u);a||(a=new Map);a.has(u)||a.set(u,{current:0,total:0,TT:0,sJ:1,toString:function(){return`current => ${this.current.toPrecision(3)} :: average => ${this.TT.toPrecision(3)} :: calls => ${this.sJ}`}})};e.Fga=function(u){performance.measure("measure",u);const r=performance.getEntriesByName("measure")[0];
u=a.get(u);u.current=r.duration;u.total+=u.current;u.TT=u.total/u.sJ;u.sJ++;console.log(u.toString());performance.clearMarks();performance.clearMeasures()};e.Pw=function(){return Error().stack};e.uga=function(){debugger};e.Coa=function(u,r){return u&&u instanceof r?u:null};e.fk=function(u){return"undefined"===typeof u?"undefined":null===u?"null":"boolean"===typeof u?"<boolean>":e.am(u)?"<number>":e.ei(u)?"<string>":e.On(u)?"<array>":"symbol"===typeof u?"<"+u.toString()+">":e.zD(u)?u.name&&"Function"!==
u.name?u.name:"<anonymous function>":"object"===typeof u?u.constructor&&u.constructor.name&&"Object"!==u.constructor.name?u.constructor.name:"<anonymous object>":"<unknown>"};e.MB=function(u){return null===u?"null":Array.isArray(u)?"array":typeof u};e.range=function*(u,r){if(!isFinite(Math.abs(u-r)))throw Error("Invalid parameters");if(u>r)for(--u;u>=r;u--)yield u;else for(;u<r;u++)yield u};let d=new Map,c=new Map,g=new WeakMap,m=new WeakMap;e.Ep={};const h=new Set(["then","splice"]);function l(u){console.warn("[Defence] "+
u+" @",e.Pw())}e.Ep.get=function(u,r){r in u||"symbol"===typeof r||h.has(r)||l(`Accessed missing property '${r}' from defended object '${e.fk(u)}', returning undefined`);m.has(u)&&"symbol"!==typeof r&&!h.has(r)&&l(`Accessed property '${r}' on a released object '${e.fk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);return u[r]};e.Ep.set=function(u,r,v){r in u||d.has(u)||l(`Set non-existent property '${r}' to '${v}' on defended object '${e.fk(u)}'`);{var w=e.MB(u[r]);
let y=e.MB(v);w="null"===w||"null"===y?!0:"undefined"===w||"undefined"===y?!1:w===y}w||d.has(u)||l(`Set '${e.MB(u[r])}' property '${r}' to type '${e.MB(v)}' on defended object '${e.fk(u)}'`);m.has(u)&&l(`Set property '${r}' on a released object '${e.fk(u)}'\nObject was originally released at: ${m.get(u)})\nCall stack at access: `);u[r]=v;return!0};e.Ep.deleteProperty=function(u,r){throw new ReferenceError(`Cannot delete property '${r}' from defended object '${e.fk(u)}'`);};e.Ep.defineProperty=function(u,
r){throw new ReferenceError(`Cannot define property '${r}' on defended object '${e.fk(u)}'`);};e.Ep.Roa=function(u){throw new ReferenceError(`Cannot enumerate defended object '${e.fk(u)}'`);};let n=-1;function p(){n=-1;if(0<d.size||0<c.size){let u=[...new Set([...d.keys()].map(r=>e.fk(r)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${u}`);d.clear();c.clear()}}
e.aa=class{constructor(){if(e.PJ&&e.dc.PM){var u=new.target;u=Object.create(u.prototype);var r=new Proxy(u,e.Ep);d.set(u,r);c.set(r,u);g.set(r,u);-1===n&&(n=requestAnimationFrame(p));return r}}};e.$ca=function(u){if(e.PJ&&e.dc.PM&&u instanceof e.aa){if(!c.has(u))return u;let r=c.get(u);c.delete(u);d.delete(r);return u}return e.Vv?Object.seal(u):u};e.m=function(u,...r){let v;try{v=new u(...r)}catch(A){throw c.clear(),d.clear(),A;}if(e.PJ){r=v;var w=new Set;for(y in r)w.add(y);var y=w;if(r=q.get(u)){w=
[];for(let A of r.values())y.has(A)?y.delete(A):w.push(A);e.Cl(w,[...y]);w.length&&console.warn(`[Defence] '${e.fk(u)}' constructor creates inconsistent properties: ${w.join(", ")}`)}else q.set(u,y)}return e.$ca(v)};e.j=function(u){(u=g.get(u))&&m.set(u,e.Pw())};e.fO=function(u){return(u=g.get(u))?!!m.get(u):!1};let q=new Map;e.Hja=class{constructor(u){this.Da="";u&&this.start(u)}start(u){this.Da=u;performance.mark(this.Da+"-Start")}end(){performance.mark(this.Da+"-End");performance.measure(this.Da,
this.Da+"-Start",this.Da+"-End")}next(u){this.end();this.Da=u;performance.mark(this.Da+"-Start")}}}
{"use strict";const e=self.B,b=2*Math.PI,a=Math.PI/180,d=180/Math.PI;e.wrap=function(g,m,h){g=Math.floor(g);m=Math.floor(m);h=Math.floor(h);return g<m?(g=h-(m-g)%(h-m),g===h?0:g):m+(g-m)%(h-m)};e.Kda=function(g,m,h,l){return(g-m)*(l-0)/(h-m)};e.normalize=function(g,m,h){return(g-m)/(h-m)};e.fa=function(g,m,h){return g<m?m:g>h?h:g};e.je=function(g){g%=b;0>g&&(g+=b);return g};e.Wa=function(g){return g*a};e.Oh=function(g){return g*d};e.Kr=function(g,m,h,l){return Math.hypot(h-g,l-m)};e.cU=function(g,
m,h,l){g=h-g;m=l-m;return g*g+m*m};e.qJ=function(g,m,h,l){return Math.atan2(l-m,h-g)};e.Jr=function(g,m){if(g===m)return 0;g=Math.sin(g)*Math.sin(m)+Math.cos(g)*Math.cos(m);return 1<=g?0:-1>=g?Math.PI:Math.acos(g)};e.pJ=function(g,m,h){let l=Math.sin(g),n=Math.cos(g),p=Math.sin(m),q=Math.cos(m);return Math.acos(l*p+n*q)>h?0<n*p-l*q?e.je(g+h):e.je(g-h):e.je(m)};e.pf=function(g,m){return 0>=Math.cos(g)*Math.sin(m)-Math.sin(g)*Math.cos(m)};e.oJ=function(g,m,h,l=0){let n=e.Jr(g,m);l*=b;return e.pf(m,
g)?e.je(g+(n+l)*h):e.je(g-(n+l)*h)};e.Mca=function(g,m,h,l=0){const n=e.Jr(g,m);l*=b;return e.pf(m,g)?e.je(g+(n+l)*h):e.je((b-n+l)*h)};e.Lca=function(g,m,h,l=0){const n=e.Jr(g,m);l*=b;return e.pf(m,g)?e.je((-b+n-l)*h):e.je(g-(n+l)*h)};e.Td=function(g,m,h){return g+h*(m-g)};e.ZB=function(g,m,h){return g===m?0:(h-g)/(m-g)};e.$da=function(g,m,h,l){return e.Td(0,l,e.ZB(g,m,h))};e.TB=function(g,m,h,l){return e.Td(e.Td(g,m,l),e.Td(m,h,l),l)};e.aU=function(g,m,h,l,n){return e.Td(e.TB(g,m,h,n),e.TB(m,h,l,
n),n)};e.$T=function(g,m,h){return(g+m+(g-m)*Math.cos(h*Math.PI))/2};e.gk=function(g){return 0<g&&0===(g-1&g)};e.BU=function(g){--g;for(let m=1;32>m;m<<=1)g|=g>>m;return g+1};e.Zqa=function(g,m){return Math.round(g*m)/m};e.Yoa=function(g,m){return Math.floor(g*m)/m};e.LU=function(g){return Math.round(1E6*g)/1E6};e.toFixed=function(g,m){g=g.toFixed(m);for(m=g.length-1;0<=m&&"0"===g.charAt(m);--m);0<=m&&"."===g.charAt(m)&&--m;return 0>m?g:g.substr(0,m+1)};e.L1=function(g,m,h){return e.fa(g,0,255)|e.fa(m,
0,255)<<8|e.fa(h,0,255)<<16};e.Lx=function(g,m,h,l){g=e.fa(Math.floor(1024*g),-8192,8191);m=e.fa(Math.floor(1024*m),-8192,8191);h=e.fa(Math.floor(1024*h),-8192,8191);l=e.fa(Math.floor(1023*l),0,1023);0>g&&(g+=16384);0>m&&(m+=16384);0>h&&(h+=16384);return-(274877906944*g+16777216*m+1024*h+l)};e.LM=function(g,m,h){return e.Lx(g,m,h,1)};e.cD=function(g){if(0<=g)return(g&255)/255;g=Math.floor(-g/274877906944);8191<g&&(g-=16384);return g/1024};e.VC=function(g){if(0<=g)return((g&65280)>>8)/255;g=Math.floor(-g%
274877906944/16777216);8191<g&&(g-=16384);return g/1024};e.LC=function(g){if(0<=g)return((g&16711680)>>16)/255;g=Math.floor(-g%16777216/1024);8191<g&&(g-=16384);return g/1024};e.rY=function(g){return 0===g&&0>1/g?0:0<=g?1:Math.floor(-g%1024)/1023};e.rda=function(g,m){g=Math.floor(g);for(m=Math.floor(m);0!==m;){let h=m;m=g%m;g=h}return g};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];e.ppa=function(g,m){g=Math.floor(g);m=Math.floor(m);if(g===m)return[1,1];for(var h of c){let l=
g/h[0]*h[1];if(1>Math.abs(m-l))return h.slice(0);l=g/h[1]*h[0];if(1>Math.abs(m-l))return[h[1],h[0]]}h=e.rda(g,m);return[g/h,m/h]};e.gra=function(g,m,h,l,n,p,q,u){var r=Math.min(g,h),v=Math.max(n,q);if(Math.max(g,h)<Math.min(n,q)||r>v)return!1;r=Math.min(m,l);v=Math.max(p,u);if(Math.max(m,l)<Math.min(p,u)||r>v)return!1;r=n-g+q-h;v=p-m+u-l;g=h-g;m=l-m;n=q-n;p=u-p;u=Math.abs(m*n-p*g);return Math.abs(n*v-p*r)>u?!1:Math.abs(g*v-m*r)<=u};e.Il=function(g,m,h,l,n,p,q,u,r,v,w,y){const A=Math.max(r,w);if(p<
Math.min(r,w)||n>A)return!1;n=Math.max(v,y);if(u<Math.min(v,y)||q>n)return!1;q=r-g+w-h;u=v-m+y-l;g=h-g;m=l-m;r=w-r;v=y-v;y=Math.abs(m*r-v*g);return Math.abs(r*u-v*q)>y?!1:Math.abs(g*u-m*q)<=y};e.UB=function(g,m,h,l,n){const p=Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),r=Math.max(m,l),v=n.rb,w=n.sb,y=n.Tb,A=n.Ub,G=n.Ob,z=n.Pb,F=n.Mb;n=n.Nb;return e.Il(g,m,h,l,p,q,u,r,v,w,y,A)||e.Il(g,m,h,l,p,q,u,r,y,A,G,z)||e.Il(g,m,h,l,p,q,u,r,G,z,F,n)||e.Il(g,m,h,l,p,q,u,r,F,n,v,w)};e.fra=function(g,m,h,l,n){const p=
Math.min(g,h),q=Math.max(g,h),u=Math.min(m,l),r=Math.max(m,l);let v=0;for(let w=n.length-4;v<=w;v+=2)if(e.Il(g,m,h,l,p,q,u,r,n[v],n[v+1],n[v+2],n[v+3]))return!0;return e.Il(g,m,h,l,p,q,u,r,n[v],n[v+1],n[0],n[1])};e.Zda=function(g,m,h,l,n,p,q,u){h-=g;p=u-p;const r=h*p-(l-m)*(q-n);if(0===r)return 2;l=((m-l)*(q-g)+h*(u-m))/r;return 0<l&&1.000001>l?(p*(q-g)+(n-q)*(u-m))/r:2};e.cw=function(g,m,h,l,n,p,q,u,r){const v=(q-n)*r;r*=u-p;return e.Zda(g,m,h,l,n-v,p-r,q+v,u+r)};e.Bda=function(g,m,h,l,n,p,q,u){n-=
h;p-=l;q-=h;u-=l;g-=h;h=m-l;m=n*n+p*p;l=n*q+p*u;n=n*g+p*h;p=q*q+u*u;q=q*g+u*h;u=1/(m*p-l*l);p=(p*n-l*q)*u;n=(m*q-l*n)*u;return 0<=p&&0<=n&&1>=p+n};e.yea=function(g,m,h,l,n,p,q,u){n-=h;p-=l;q-=h;u-=l;g-=h;const r=m-l;m=n*n+p*p;l=n*q+p*u;h=q*q+u*u;n=g*n+r*p;p=g*q+r*u;q=m*h-l*l;u=(h*n-l*p)/q;n=(m*p-l*n)/q;return[1-u-n,u,n]};e.xea=function(g,m,h,l,n,p,q,u,r){return[g*l+m*p+h*u,g*n+m*q+h*r]}}
{"use strict";const e=self.B;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}e.$ga=function(){return a};e.MC=function(){if(!b)return"";const l=b.location;return e.rZ(l.origin+l.pathname)+a};e.rZ=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};e.cha=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};e.QY=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};e.Uw=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};e.L0=function(l){return l.replace(/\\/g,"/")};e.Pha=function(l,n){return n===(l?e.QY(l).slice(1):"")};e.Qga=function(l,n){let p,q;e.yD(l)&&(p=e.Uw(l.name));e.ei(l)&&(p=
e.Uw(l));e.yD(n)&&(q=e.Uw(n.name));e.ei(n)&&(q=e.Uw(n));return p===q};e.Fja=function(l){l=e.L0(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var p=l.lastIndexOf("/")+1;let q="",u=l,r="";0<p&&(q=l.slice(0,p),u=l.slice(p));l=u;p=u.lastIndexOf(".");0<p&&(r=u.slice(p),l=u.slice(0,-r.length));return{dir:q,toa:u,name:l,root:n,ext:r,jpa:n+q+u}};e.dO=function(l,n){return new Promise(p=>{self.setTimeout(p,
l,n)})};e.sra=function(l){try{l()}catch(n){e.Vv&&console.warn("Swallowed exception: ",n)}};e.lqa=function(){};e.Yi=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};e.Soa=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};e.zea=function(l,n){var p=0;l[p++]=n[0];l[p++]=n[1];l[p++]=n[2];l[p++]=n[3];l[p++]=n[4];l[p++]=n[5];l[p++]=n[6];l[p++]=n[7];l[p++]=n[8];l[p++]=n[9];
l[p++]=n[10];l[p++]=n[11];l[p++]=n[12];l[p++]=n[13];l[p++]=n[14];l[p]=n[15]};e.Ke=function(l,n){l.length=n};e.D=function(l){l&&0!==l.length&&e.Ke(l,0)};e.Wca=function(l){if(l){for(let n=0;n<l.length;n++)e.Ke(l[n],0);e.Ke(l,0)}};e.IB=function(l,n,p){n|=0;var q=l.length;if(!(n<=q))for(;q<n;++q)l.push(p)};e.KU=function(l){var n=4;const p=l.length;n<p?e.Ke(l,n):n>p&&e.IB(l,n,"0")};e.Dc=function(l,n){e.D(l);e.Cl(l,n)};e.Cl=function(l,n){if(1E4>n.length)l.push(...n);else for(let p=0,q=n.length;p<q;++p)l.push(n[p])};
e.Pca=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var p=l.length-1;n<p;++n)l[n]=l[n+1];e.Ke(l,p)}};e.ek=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};e.soa=function(l,n){let p=l.length;if(n.length!==p)return!1;for(let q=0;q<p;++q)if(l[q]!==n[q])return!1;return!0};e.Oca=function(l,n){let p=[],q=0;for(let u=0,r=l.length;u<r;++u){let v=l[u];n(v)?p.push(v):(l[q]=v,++q)}e.Ke(l,q);return p};e.Vf=function(l,n){const p=l.length;let q=0;for(let u=0,r=l.length;u<r;++u){let v=l[u];n.has(v)||
(l[q++]=v)}e.Ke(l,q);return p-q};e.xda=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};e.Hra=function(l,n){if(!e.xda(l,n))throw new RangeError("array index out of bounds");};e.xJ=function(l){return l.slice()};e.ada=function(l,n){let p=[];for(let q of l)if(e.kM(q)){l=n(q);if(!l)throw Error("missing clone");if(l.constructor!==q.constructor)throw Error("object is not a clone");p.push(l)}else e.On(q)?p.push(e.ada(q,n)):p.push(q);return p};e.Doa=function(l){let n=[];for(let p of l)n.push(p.slice());
return n};e.hqa=function(l,n){return new Set([...l,...n])};e.iqa=function(l,n){for(const p of n)l.add(p);return l};e.first=function(l){for(let n of l)return n;return null};e.xor=function(l,n){return!l!==!n};e.compare=function(l,n,p){switch(n){case 0:return l===p;case 1:return l!==p;case 2:return l<p;case 3:return l<=p;case 4:return l>p;case 5:return l>=p;default:return!1}};e.ypa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};e.b2=function(l,n){return l.length?new Promise((p,
q)=>{const u=[];let r=0,v=!1;for(let w=0,y=l.length;w<y;++w)u.push(void 0),l[w].then(A=>{v||(u[w]=A,++r,r===l.length?p(u):n(r,l.length))}).catch(A=>{v=!0;q(A)})}):Promise.resolve([])};let d=[];e.cfa=function(l){d.push(l)};e.bha=function(){let l=0;for(let n of d){let p=n();l+=p}return Math.floor(l)};let c=1;const g=new Map,m=new MessageChannel;m.port2.onmessage=function(l){l=l.data;const n=g.get(l);g.delete(l);n&&n(performance.now())};e.XD=function(l){const n=c++;g.set(n,l);m.port1.postMessage(n);
return n};e.bW=function(l){g.delete(l)};e.V1=e.XD;e.F4=function(){return new Promise(l=>e.V1(l))};const h=new Set;e.Fka=function(l){const n=self.requestAnimationFrame(async p=>{await e.F4();h.has(n)&&(h.delete(n),l(p))});h.add(n);return n};e.Lfa=function(l){h.has(l)&&(self.cancelAnimationFrame(l),h.delete(l))}}
{"use strict";const e=self.B;e.XL=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};e.FD=function(b){return!e.XL(b)};e.k4=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};e.Mw=function(b){return fetch(b,void 0).then(a=>{e.k4(a);return a})};e.gs=function(b){return e.Mw(b).then(a=>a.text())};e.cL=function(b){return e.Mw(b).then(a=>a.json())};e.kk=function(b){return e.Mw(b).then(a=>a.blob())};e.fs=function(b){return e.Mw(b).then(a=>
a.arrayBuffer())};e.iY=function(b){return new Promise((a,d)=>{const c=new Image;c.onload=()=>a(c);c.onerror=g=>d(g);c.src=b})};e.QV=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsArrayBuffer(b)})};e.xK=function(b){return"function"===typeof b.text?b.text():new Promise((a,d)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>d(c.error);c.readAsText(b)})};e.Ffa=function(b){return e.xK(b).then(a=>
JSON.parse(a))};e.RV=async function(b){b=URL.createObjectURL(b);try{const a=await e.iY(b);URL.revokeObjectURL(b);b="";"function"===typeof a.decode&&await a.decode();return a}finally{b&&URL.revokeObjectURL(b)}};e.Sg=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const d=document.createElement("canvas");d.width=b;d.height=a;return d}return new OffscreenCanvas(b,a)};e.qw=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.fa(d,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,d)):b.convertToBlob?b.convertToBlob({type:a,quality:d}):e.hk(()=>e.CK(b,a,d))};e.CK=function(b,a,d){"number"!==typeof d&&(d=1);a=a||"image/png";d=e.fa(d,0,1);return e.IW(b.toDataURL(a,d))};e.IW=function(b){b=e.M1(b);return e.PV(b.data,b.Lda)};e.M1=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var d=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];d="base64"===a[1]||"base64"===c?atob(d):decodeURIComponent(d);return{Lda:b,data:d}};e.PV=function(b,a){var d=b.length;let c=d>>2,g=new Uint8Array(d),m=new Uint32Array(g.buffer,0,c),h,l;for(l=h=0;h<c;++h)m[h]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(d&=3;d--;)g[l]=b.charCodeAt(l),++l;return a?new Blob([g],{type:a}):new Blob([g])};e.XK=function(b,a,d){const c=e.Sg(b.width,b.height);c.getContext("2d").drawImage(b,0,0);return e.qw(c,a,d)};e.uha=function(b,
a,d){const c=e.Sg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.CK(c,a,d)};e.tha=function(b,a,d){if(e.dc.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(c=>e.XK(c,a,d));if(e.dc.ImageBitmap)return createImageBitmap(b).then(c=>e.XK(c,a,d));{const c=e.Sg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return e.qw(c,a,d)}};e.wW=function(b,a){b.clear();for(const d of a)b.add(d)};e.Via=function(b){const a=Object.create(null);for(const [d,c]of b.entries())a[d]=
c;return a};e.lja=function(b,a){a.clear();for(const [d,c]of Object.entries(b))a.set(d,c)};e.AE=function d(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>d(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],d(c[1])])};{const c=Object.create(null);for(const [g,m]of Object.entries(a))c[g]=d(m);return c}}return a};e.IC=function c(d){if("object"===typeof d&null!==d){if("set"===d._c3type_)return new Set(d.data.map(g=>c(g)));if("map"===
d._c3type_)return new Map(d.data.map(g=>[g[0],c(g[1])]));{const g=Object.create(null);for(const [m,h]of Object.entries(d))g[m]=c(h);return g}}return d};e.VV=function(d){let c="",g=!1;for(const m of d)"-"===m?g=!0:g?(c+=m.toUpperCase(),g=!1):c+=m;return c};e.$l=function(d){return"object"===typeof d&&"function"===typeof d.next};e.C0=function(d){const c=[];for(let g=0;g<d;++g)c.push(0);return c}}
{"use strict";const e=self.B;e.Za=class{constructor(b,a,d,c){this.Sa=this.Ta=this.Ua=this.Ra=0;b instanceof e.Za?this.set(b):this.sn(b||0,a||0,d||0,c||0)}Vr(b,a,d){this.Ra=+b;this.Ua=+a;this.Ta=+d;this.fa()}sn(b,a,d,c){this.Ra=+b;this.Ua=+a;this.Ta=+d;this.Sa=+c;this.fa()}set(b){this.Ra=b.Ra;this.Ua=b.Ua;this.Ta=b.Ta;this.Sa=b.Sa;return this}ma(b){return this.set(b)}add(b){this.Ra+=b.Ra;this.Ua+=b.Ua;this.Ta+=b.Ta;this.Sa+=b.Sa;this.fa()}PT(b,a,d){this.Ra+=+b;this.Ua+=+a;this.Ta+=+d;this.Sa+=0;this.fa()}Wi(b){this.Ra=
b.Ra;this.Ua=b.Ua;this.Ta=b.Ta}PU(b){this.Ra=e.fa(+b,0,1)}iea(b){this.Ua=e.fa(+b,0,1)}fea(b){this.Ta=e.fa(+b,0,1)}Tr(b){this.Sa=e.fa(+b,0,1)}clone(){return e.m(e.Za,this.Ra,this.Ua,this.Ta,this.Sa)}toArray(){return[this.Ra,this.Ua,this.Ta,this.Sa]}Ph(b,a){b[a++]=this.Ra;b[a++]=this.Ua;b[a++]=this.Ta;b[a]=this.Sa}bd(b){return this.Ra===b.Ra&&this.Ua===b.Ua&&this.Ta===b.Ta&&this.Sa===b.Sa}Fl(b){return this.Ra===b.Ra&&this.Ua===b.Ua&&this.Ta===b.Ta}HB(b,a,d,c){return this.Ra===b&&this.Ua===a&&this.Ta===
d&&this.Sa===c}multiply(b){this.Ra*=b.Ra;this.Ua*=b.Ua;this.Ta*=b.Ta;this.Sa*=b.Sa}aK(){this.Ra*=this.Sa;this.Ua*=this.Sa;this.Ta*=this.Sa}fa(){this.Ra=e.fa(this.Ra,0,1);this.Ua=e.fa(this.Ua,0,1);this.Ta=e.fa(this.Ta,0,1);this.Sa=e.fa(this.Sa,0,1);return this}Ur(b){this.Ra=e.cD(b);this.Ua=e.VC(b);this.Ta=e.LC(b);this.Sa=e.rY(b)}nda(){return`rgb(${100*(e.Xl(void 0)?NaN:this.Ra)}%, ${100*(e.Xl(void 0)?NaN:this.Ua)}%, ${100*(e.Xl(void 0)?NaN:this.Ta)}%)`}DU(b){if("string"===typeof b){b=b.replace(/^rgb\(|\)|%/,
"");var a=b.split(",");if(!(3>a.length)){b=parseInt(a[0].trim(),10)/255;var d=parseInt(a[1].trim(),10)/255;a=parseInt(a[2].trim(),10)/255;isFinite(b)&&this.PU(b);isFinite(d)&&this.iea(d);isFinite(a)&&this.fea(a);this.Tr(1)}}}toJSON(){return[this.Ra,this.Ua,this.Ta,this.Sa]}Jl(b){!Array.isArray(b)||3>b.length||(this.Ra=b[0],this.Ua=b[1],this.Ta=b[2],this.Sa=4<=b.length?b[3]:1)}set r(b){this.PU(b)}get r(){return this.Ra}set up(b){this.Tr(b)}get up(){return this.Sa}static BC(b,a){return e.fa(Math.max(b,
a)-Math.min(b,a),0,1)}};e.Za.Zna=Object.freeze(e.m(e.Za,1,1,1,1));e.Za.Efa=Object.freeze(e.m(e.Za,0,0,0,1));e.Za.zna=Object.freeze(e.m(e.Za,0,0,0,0))}
{"use strict";const e=self.B;e.gy=class{constructor(b,a){this.N=this.O=0;b instanceof e.gy?this.ma(b):this.set(b||0,a||0)}set(b,a){this.O=+b;this.N=+a}ma(b){this.O=b.O;this.N=b.N}bd(b){return this.O===b.O&&this.N===b.N}toArray(){return[this.O,this.N]}Ph(b,a){b[a++]=this.O;b[a]=this.N}offset(b,a){this.O+=+b;this.N+=+a}scale(b,a){this.O*=b;this.N*=a}El(b,a){this.O/=b;this.N/=a}round(){this.O=Math.round(this.O);this.N=Math.round(this.N)}floor(){this.O=Math.floor(this.O);this.N=Math.floor(this.N)}ceil(){this.O=
Math.ceil(this.O);this.N=Math.ceil(this.N)}angle(){return e.qJ(0,0,this.O,this.N)}Gda(){return this.O*this.O+this.N*this.N}length(){return Math.sqrt(this.Gda())}cea(b,a){const d=this.O*a-this.N*b;this.N=this.N*a+this.O*b;this.O=d}rotate(b){0!==b&&this.cea(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.O+=Math.cos(b)*a,this.N+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.O/=b,this.N/=b)}fa(b,a){this.O=e.fa(this.O,b,a);this.N=e.fa(this.N,b,a)}}}
{"use strict";const e=self.B;e.Rect=class{constructor(b,a,d,c){this.Z=this.ca=this.S=this.X=0;b instanceof e.Rect?this.ma(b):this.set(b||0,a||0,d||0,c||0)}set(b,a,d,c){this.X=+b;this.S=+a;this.ca=+d;this.Z=+c}Nh(b,a,d,c){b=+b;a=+a;this.X=b;this.S=a;this.ca=b+ +d;this.Z=a+ +c}ma(b){this.X=+b.X;this.S=+b.S;this.ca=+b.ca;this.Z=+b.Z}clone(){return new e.Rect(this.X,this.S,this.ca,this.Z)}bd(b){return this.X===b.X&&this.S===b.S&&this.ca===b.ca&&this.Z===b.Z}toArray(){return[this.X,this.S,this.ca,this.Z]}sea(){new DOMRect(this.X,
this.S,this.width(),this.height())}Ph(b,a){b[a++]=this.X;b[a++]=this.S;b[a++]=this.ca;b[a]=this.Z}Cea(b,a){b[a++]=this.X;b[a++]=this.S;b[a++]=this.ca;b[a++]=this.S;b[a++]=this.ca;b[a++]=this.Z;b[a++]=this.X;b[a]=this.Z}width(){return this.ca-this.X}height(){return this.Z-this.S}Rr(){return(this.X+this.ca)/2}Sr(){return(this.S+this.Z)/2}offset(b,a){b=+b;a=+a;this.X+=b;this.S+=a;this.ca+=b;this.Z+=a}offsetLeft(b){this.X+=+b}offsetTop(b){this.S+=+b}Tda(b){this.ca+=+b}Sda(b){this.Z+=+b}JJ(b,a){b=+b;a=
+a;this.X-=b;this.S-=a;this.ca+=b;this.Z+=a}multiply(b,a){this.X*=b;this.S*=a;this.ca*=b;this.Z*=a}El(b,a){this.X/=b;this.S/=a;this.ca/=b;this.Z/=a}pn(){this.S=1-this.S;this.Z=1-this.Z}pea(){const b=this.X;this.X=this.ca;this.ca=b}qea(){const b=this.S;this.S=this.Z;this.Z=b}round(){this.X=Math.round(this.X);this.S=Math.round(this.S);this.ca=Math.round(this.ca);this.Z=Math.round(this.Z)}floor(){this.X=Math.floor(this.X);this.S=Math.floor(this.S);this.ca=Math.floor(this.ca);this.Z=Math.floor(this.Z)}ceil(){this.X=
Math.ceil(this.X);this.S=Math.ceil(this.S);this.ca=Math.ceil(this.ca);this.Z=Math.ceil(this.Z)}fa(b,a,d,c){this.X<b&&(this.X=+b);this.S<a&&(this.S=+a);this.ca>d&&(this.ca=+d);this.Z>c&&(this.Z=+c)}normalize(){this.X>this.ca&&this.pea();this.S>this.Z&&this.qea()}NB(b){return!(b.ca<this.X||b.Z<this.S||b.X>this.ca||b.S>this.Z)}wda(b,a,d){return!(b.ca+a<this.X||b.Z+d<this.S||b.X+a>this.ca||b.S+d>this.Z)}rf(b,a){return b>=this.X&&b<=this.ca&&a>=this.S&&a<=this.Z}}}
{"use strict";const e=self.B;e.sd=class{constructor(b,a,d,c,g,m,h,l){this.Nb=this.Mb=this.Pb=this.Ob=this.Ub=this.Tb=this.sb=this.rb=0;b instanceof e.sd?this.ma(b):this.set(b||0,a||0,d||0,c||0,g||0,m||0,h||0,l||0)}set(b,a,d,c,g,m,h,l){this.rb=+b;this.sb=+a;this.Tb=+d;this.Ub=+c;this.Ob=+g;this.Pb=+m;this.Mb=+h;this.Nb=+l}QU(b,a,d,c){this.set(b,a,d,a,d,c,b,c)}ma(b){this.rb=b.rb;this.sb=b.sb;this.Tb=b.Tb;this.Ub=b.Ub;this.Ob=b.Ob;this.Pb=b.Pb;this.Mb=b.Mb;this.Nb=b.Nb}bd(b){return this.rb===b.rb&&this.sb===
b.sb&&this.Tb===b.Tb&&this.Ub===b.Ub&&this.Ob===b.Ob&&this.Pb===b.Pb&&this.Mb===b.Mb&&this.Nb===b.Nb}toArray(){return[this.rb,this.sb,this.Tb,this.Ub,this.Ob,this.Pb,this.Mb,this.Nb]}Ph(b,a){b[a++]=this.rb;b[a++]=this.sb;b[a++]=this.Tb;b[a++]=this.Ub;b[a++]=this.Ob;b[a++]=this.Pb;b[a++]=this.Mb;b[a]=this.Nb}Dea(b,a,d){b[a++]=this.rb;b[a++]=this.sb;b[a++]=d;b[a++]=this.Tb;b[a++]=this.Ub;b[a++]=d;b[a++]=this.Ob;b[a++]=this.Pb;b[a++]=d;b[a++]=this.Mb;b[a++]=this.Nb;b[a]=d}offset(b,a){b=+b;a=+a;this.rb+=
b;this.sb+=a;this.Tb+=b;this.Ub+=a;this.Ob+=b;this.Pb+=a;this.Mb+=b;this.Nb+=a}round(){this.rb=Math.round(this.rb);this.sb=Math.round(this.sb);this.Tb=Math.round(this.Tb);this.Ub=Math.round(this.Ub);this.Ob=Math.round(this.Ob);this.Pb=Math.round(this.Pb);this.Mb=Math.round(this.Mb);this.Nb=Math.round(this.Nb)}floor(){this.rb=Math.floor(this.rb);this.sb=Math.floor(this.sb);this.Tb=Math.floor(this.Tb);this.Ub=Math.floor(this.Ub);this.Ob=Math.floor(this.Ob);this.Pb=Math.floor(this.Pb);this.Mb=Math.floor(this.Mb);
this.Nb=Math.floor(this.Nb)}ceil(){this.rb=Math.ceil(this.rb);this.sb=Math.ceil(this.sb);this.Tb=Math.ceil(this.Tb);this.Ub=Math.ceil(this.Ub);this.Ob=Math.ceil(this.Ob);this.Pb=Math.ceil(this.Pb);this.Mb=Math.ceil(this.Mb);this.Nb=Math.ceil(this.Nb)}aj(b){this.rb=b.X;this.sb=b.S;this.Tb=b.ca;this.Ub=b.S;this.Ob=b.ca;this.Pb=b.Z;this.Mb=b.X;this.Nb=b.Z}hea(b,a){0===a?this.aj(b):this.OU(b,Math.sin(a),Math.cos(a))}OU(b,a,d){const c=b.X*a,g=b.S*a,m=b.ca*a;a*=b.Z;const h=b.X*d,l=b.S*d,n=b.ca*d;b=b.Z*
d;this.rb=h-g;this.sb=l+c;this.Tb=n-g;this.Ub=l+m;this.Ob=n-a;this.Pb=b+m;this.Mb=h-a;this.Nb=b+c}HJ(b){b.set(Math.min(this.rb,this.Tb,this.Ob,this.Mb),Math.min(this.sb,this.Ub,this.Pb,this.Nb),Math.max(this.rb,this.Tb,this.Ob,this.Mb),Math.max(this.sb,this.Ub,this.Pb,this.Nb))}rf(b,a){var d=this.Tb-this.rb,c=this.Ub-this.sb;const g=this.Ob-this.rb,m=this.Pb-this.sb;b-=this.rb;a-=this.sb;var h=d*d+c*c;let l=d*g+c*m;c=d*b+c*a;const n=g*g+m*m,p=g*b+m*a;let q=1/(h*n-l*l);d=(n*c-l*p)*q;h=(h*p-l*c)*q;
if(0<=d&&0<h&&1>d+h)return!0;d=this.Mb-this.rb;c=this.Nb-this.sb;h=d*d+c*c;l=d*g+c*m;c=d*b+c*a;q=1/(h*n-l*l);d=(n*c-l*p)*q;h=(h*p-l*c)*q;return 0<=d&&0<h&&1>d+h}Rr(){return(this.rb+this.Tb+this.Ob+this.Mb)/4}Sr(){return(this.sb+this.Ub+this.Pb+this.Nb)/4}LJ(b){var a=b.Rr(),d=b.Sr();if(this.rf(a,d))return!0;a=this.Rr();d=this.Sr();if(b.rf(a,d))return!0;a=this.rb;d=this.sb;const c=this.Tb,g=this.Ub,m=this.Ob,h=this.Pb,l=this.Mb,n=this.Nb;return e.UB(a,d,c,g,b)||e.UB(c,g,m,h,b)||e.UB(m,h,l,n,b)||e.UB(l,
n,a,d,b)}bea(){const b=this.rb,a=this.sb;this.rb=this.Tb;this.sb=this.Ub;this.Tb=this.Ob;this.Ub=this.Pb;this.Ob=this.Mb;this.Pb=this.Nb;this.Mb=b;this.Nb=a}hU(){this.lB(0,6);this.lB(1,7);this.lB(2,4);this.lB(3,5)}lB(b,a){const d=this.CR(b);this.dT(b,this.CR(a));this.dT(a,d)}CR(b){switch(b){case 0:return this.rb;case 1:return this.sb;case 2:return this.Tb;case 3:return this.Ub;case 4:return this.Ob;case 5:return this.Pb;case 6:return this.Mb;case 7:return this.Nb;default:throw new RangeError("invalid quad point index");
}}dT(b,a){a=+a;switch(b){case 0:this.rb=a;break;case 1:this.sb=a;break;case 2:this.Tb=a;break;case 3:this.Ub=a;break;case 4:this.Ob=a;break;case 5:this.Pb=a;break;case 6:this.Mb=a;break;case 7:this.Nb=a;break;default:throw new RangeError("invalid quad point index");}}}}
{"use strict";const e=self.B,b=[0,0,1,0,1,1,0,1],a=e.m(e.sd);e.yn=class extends e.aa{constructor(d,c=!0){super();d||(d=b);this.Od=Float64Array.from(d);this.Vy=new e.Rect;this.Cm=!0;this.xg=c}j(){}VB(d){this.Od.length===d.length?this.Od.set(d):this.Od=Float64Array.from(d);this.Cm=!0}gea(){this.VB(b)}ma(d){this.VB(d.Od)}hK(){this.Cm=!0}Dca(){if(this.Cm){var d=this.Od,c=d[0],g=d[1],m=c,h=g;for(let l=0,n=d.length;l<n;l+=2){const p=d[l],q=d[l+1];p<c&&(c=p);p>m&&(m=p);q<g&&(g=q);q>h&&(h=q)}this.Vy.set(c,
g,m,h);this.Cm=!1}}aj(d){let c=this.Od;8!==c.length&&(this.Od=c=new Float64Array(8));c[0]=d.X-NaN;c[1]=d.S-NaN;c[2]=d.ca-NaN;c[3]=d.S-NaN;c[4]=d.ca-NaN;c[5]=d.Z-NaN;c[6]=d.X-NaN;c[7]=d.Z-NaN;this.Vy.ma(d);this.Vy.offset(NaN,NaN);this.Cm=!1}iK(d,c,g){a.ma(d);a.offset(c,g);this.VB(a.toArray());this.Cm=!0}transform(d,c,g){let m=0,h=1;0!==g&&(m=Math.sin(g),h=Math.cos(g));this.pK(d,c,m,h)}pK(d,c,g,m){const h=this.Od;for(let l=0,n=h.length;l<n;l+=2){const p=l+1,q=h[l]*d,u=h[p]*c;h[l]=q*m-u*g;h[p]=u*m+q*
g}this.Cm=!0}offset(d,c){const g=this.Od;for(let m=0,h=g.length;m<h;m+=2)g[m]+=d,g[m+1]+=c}rf(d,c){const g=this.Od;if(d===g[0]&&c===g[1])return!0;this.Dca();var m=this.Vy;const h=m.X-110,l=m.S-101,n=m.ca+131;m=m.Z+120;let p,q,u,r,v,w,y,A;h<d?(p=h,u=d):(p=d,u=h);l<c?(q=l,r=c):(q=c,r=l);n<d?(v=n,y=d):(v=d,y=n);m<c?(w=m,A=c):(w=c,A=m);let G=0,z=0;for(let I=0,J=g.length;I<J;I+=2){var F=(I+2)%J;const M=g[I],P=g[I+1],R=g[F];F=g[F+1];e.Il(h,l,d,c,p,u,q,r,M,P,R,F)&&++G;e.Il(n,m,d,c,v,y,w,A,M,P,R,F)&&++z}return 1===
G%2||1===z%2}Uv(d,c,g){const m=d.Od,h=this.Od;if(this.rf(m[0]+c,m[1]+g)||d.rf(h[0]-c,h[1]-g))return!0;for(let n=0,p=h.length;n<p;n+=2){var l=(n+2)%p;d=h[n];const q=h[n+1],u=h[l];l=h[l+1];let r,v,w,y;d<u?(r=d,w=u):(r=u,w=d);q<l?(v=q,y=l):(v=l,y=q);for(let A=0,G=m.length;A<G;A+=2){const z=(A+2)%G;if(e.Il(d,q,u,l,r,w,v,y,m[A]+c,m[A+1]+g,m[z]+c,m[z+1]+g))return!0}}return!1}hU(d){const c=this.Od;for(let g=0,m=c.length;g<m;g+=2){const h=g+1;c[h]=2*d-c[h]}this.Cm=!0}Sn(){return this.xg}}}
{"use strict";const e=self.B;e.Qs=class extends e.aa{constructor(b){super();this.Lj=new Map;if(b)for(const [a,d,c]of b)this.Set(a,d,c)}j(){this.jd();this.Lj=null}jd(){const b=this.Lj;for(const a of b.values())a.clear();b.clear()}Set(b,a,d){const c=this.Lj;let g=c.get(b);g||(g=new Map,c.set(b,g));g.set(a,d)}Y(b,a){return(b=this.Lj.get(b))?b.get(a):b}vx(b){return(b=this.Lj.get(b))?b.has(void 0):!1}zn(b,a){const d=this.Lj,c=d.get(b);c&&c.delete(a)&&0===c.size&&d.delete(b)}VK(b){const a=this.Lj,d=a.get(b);
d&&(d.clear(),a.delete(b));for(const [c,g]of a.entries())g.delete(b)&&0===g.size&&a.delete(c)}Hn(){let b=0;for(const a of this.Lj.values())b+=a.size;return b}*values(){for(const b of this.Lj.values())yield*b.values()}*entries(){for(const [b,a]of this.Lj.entries())for(const [d,c]of a.entries())yield[b,d,c]}}}
{"use strict";const e=self.B;e.mC=class extends e.aa{constructor(){super();this.Rm=new Set;this.Ty=[];this.$u=!1}j(){this.jd()}jd(){this.Rm.clear();e.D(this.Ty);this.$u=!1}Uc(b){this.Rm.has(b)||(this.Rm.add(b),this.$u||this.Ty.push(b))}vx(b){return this.Rm.has(b)}zn(b){this.Rm.delete(b)&&(this.$u=!0)}Hn(){return this.Rm.size}Rn(){return 0===this.Rm.size}KC(){this.$u&&(this.I9(),this.$u=!1);return this.Ty}I9(){const b=this.Ty;e.D(b);for(const a of this.Rm)b.push(a)}}}
{"use strict";const e=new Map,b=new Map,a=new Map,d=new Map,c=new Map,g=new Map;g.set("linear","noease");g.set("default","noease");self.ds=class m{constructor(){}static a0(h){this.JE();return[...b.keys()].includes(h)}static i7(h){const l=g.get(h);if(l)return e.get(l);if(m.a0(h))return e.get(h);if(c.has(h))return c.get(h)}static Gn(h){this.JE();const l=m.i7(h);return l?l:d.get(h)}static JE(){0===e.size&&(this.xb("default",()=>{}),this.xb("noease",this.K0),this.xb("easeinsine",this.NX),this.xb("easeoutsine",
this.WX),this.xb("easeinoutsine",this.JX),this.xb("easeinelastic",this.yX),this.xb("easeoutelastic",this.RX),this.xb("easeinoutelastic",this.EX),this.xb("easeinback",this.vX),this.xb("easeoutback",this.OX),this.xb("easeinoutback",this.AX),this.xb("easeinbounce",this.YK),this.xb("easeoutbounce",this.DC),this.xb("easeinoutbounce",this.BX),this.xb("easeincubic",this.xX),this.xb("easeoutcubic",this.QX),this.xb("easeinoutcubic",this.DX),this.xb("easeinquad",this.KX),this.xb("easeoutquad",this.TX),this.xb("easeinoutquad",
this.GX),this.xb("easeinquart",this.LX),this.xb("easeoutquart",this.UX),this.xb("easeinoutquart",this.HX),this.xb("easeinquint",this.MX),this.xb("easeoutquint",this.VX),this.xb("easeinoutquint",this.IX),this.xb("easeincirc",this.wX),this.xb("easeoutcirc",this.PX),this.xb("easeinoutcirc",this.CX),this.xb("easeinexpo",this.zX),this.xb("easeoutexpo",this.SX),this.xb("easeinoutexpo",this.FX),this.qO("cubicbezier",this.uX),this.qO("spline",this.XX))}static xb(h,l){m.EE(h,l,"predefined")}static qO(h,l){m.EE(h,
l,"private")}static oV(h,l){this.JE();m.EE(h,l,"custom",void 0)}static EE(h,l,n,p){switch(n){case "predefined":e.set(h,l);b.set(h,l);break;case "custom":p?(a.has(p)||a.set(p,new Map),a.get(p).set(h,l)):d.set(h,l);break;case "private":e.set(h,l);c.set(h,l);break;default:throw Error("unexpected ease mode");}}static K0(h,l,n,p){return n*h/p+l}static KX(h,l,n,p){return n*(h/=p)*h+l}static TX(h,l,n,p){return-n*(h/=p)*(h-2)+l}static GX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h+l:-n/2*(--h*(h-2)-1)+l}static xX(h,
l,n,p){return n*(h/=p)*h*h+l}static QX(h,l,n,p){return n*((h=h/p-1)*h*h+1)+l}static DX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h+l:n/2*((h-=2)*h*h+2)+l}static LX(h,l,n,p){return n*(h/=p)*h*h*h+l}static UX(h,l,n,p){return-n*((h=h/p-1)*h*h*h-1)+l}static HX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h+l:-n/2*((h-=2)*h*h*h-2)+l}static MX(h,l,n,p){return n*(h/=p)*h*h*h*h+l}static VX(h,l,n,p){return n*((h=h/p-1)*h*h*h*h+1)+l}static IX(h,l,n,p){return 1>(h/=p/2)?n/2*h*h*h*h*h+l:n/2*((h-=2)*h*h*h*h+2)+l}static NX(h,
l,n,p){return-n*Math.cos(h/p*(Math.PI/2))+n+l}static WX(h,l,n,p){return n*Math.sin(h/p*(Math.PI/2))+l}static JX(h,l,n,p){return-n/2*(Math.cos(Math.PI*h/p)-1)+l}static zX(h,l,n,p){return 0===h?l:n*Math.pow(2,10*(h/p-1))+l}static SX(h,l,n,p){return h===p?l+n:n*(-Math.pow(2,-10*h/p)+1)+l}static FX(h,l,n,p){return 0===h?l:h===p?l+n:1>(h/=p/2)?n/2*Math.pow(2,10*(h-1))+l:n/2*(-Math.pow(2,-10*--h)+2)+l}static wX(h,l,n,p){return-n*(Math.sqrt(1-(h/=p)*h)-1)+l}static PX(h,l,n,p){return n*Math.sqrt(1-(h=h/p-
1)*h)+l}static CX(h,l,n,p){return 1>(h/=p/2)?-n/2*(Math.sqrt(1-h*h)-1)+l:n/2*(Math.sqrt(1-(h-=2)*h)+1)+l}static yX(h,l,n,p){let q=0,u=n;if(0===h)return l;if(1===(h/=p))return l+n;q||(q=.3*p);u<Math.abs(n)?(u=n,n=q/4):n=q/(2*Math.PI)*Math.asin(n/u);return-(u*Math.pow(2,10*--h)*Math.sin(2*(h*p-n)*Math.PI/q))+l}static RX(h,l,n,p){let q,u=0,r=n;if(0===h)return l;if(1===(h/=p))return l+n;u||(u=.3*p);r<Math.abs(n)?(r=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*h)*Math.sin(2*(h*p-q)*
Math.PI/u)+n+l}static EX(h,l,n,p){let q,u=0,r=n;if(0===h)return l;if(2===(h/=p/2))return l+n;u||(u=.3*p*1.5);r<Math.abs(n)?(r=n,q=u/4):q=u/(2*Math.PI)*Math.asin(n/r);return 1>h?-.5*r*Math.pow(2,10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)+l:r*Math.pow(2,-10*--h)*Math.sin(2*(h*p-q)*Math.PI/u)*.5+n+l}static vX(h,l,n,p,q){void 0===q&&(q=1.70158);return n*(h/=p)*h*((q+1)*h-q)+l}static OX(h,l,n,p,q){void 0===q&&(q=1.70158);return n*((h=h/p-1)*h*((q+1)*h+q)+1)+l}static AX(h,l,n,p,q){void 0===q&&(q=1.70158);return 1>
(h/=p/2)?n/2*h*h*(((q*=1.525)+1)*h-q)+l:n/2*((h-=2)*h*(((q*=1.525)+1)*h+q)+2)+l}static YK(h,l,n,p){return n-m.DC(p-h,0,n,p)+l}static DC(h,l,n,p){return(h/=p)<1/2.75?7.5625*n*h*h+l:h<2/2.75?n*(7.5625*(h-=1.5/2.75)*h+.75)+l:h<2.5/2.75?n*(7.5625*(h-=2.25/2.75)*h+.9375)+l:n*(7.5625*(h-=2.625/2.75)*h+.984375)+l}static BX(h,l,n,p){return h<p/2?.5*m.YK(2*h,0,n,p)+l:.5*m.DC(2*h-p,0,n,p)+.5*n+l}static uX(h,l,n,p,q){return l+3*h*(n-l)+3*h**2*(l+p-2*n)+h**3*(q-l+3*n-3*p)}static XX(h,l,n,p,q,u,r,v,w,y){if(p===
q&&u===r)return h;if(1==h)h=1;else{for(var A=0,G=1,z=y[G];10!=G&&z<=h;)G++,z=y[G],A+=.1;G--;z=y[G];y=A+(h-z)/(y[G+1]-z)*.1;v=v-3*u+3*p-l;u=3*u-6*p+3*l;l=3*(p-l);p=3*v*y*y+2*u*y+l;if(0!==p)if(.02<=p)for(A=0;4>A;++A)y-=(((v*y+u)*y+l)*y-h)/(3*v*y*y+2*u*y+l);else{p=A;A+=.1;G=0;let F;do y=p+(A-p)/2,z=((v*y+u)*y+l)*y-h,0<z?A=y:p=y,z=1E-7<Math.abs(z),F=10>++G;while(z&&F)}h=y}return(((w-3*r+3*q-n)*h+(3*r-6*q+3*n))*h+3*(q-n))*h}static xY(h,l,n,p){const q=[];p=p-3*n+3*l-h;n=3*n-6*l+3*h;h=3*(l-h);for(let u=
0;11>u;++u)l=.1*u,q.push(((p*l+n)*l+h)*l);return q}}}{"use strict";const e=self.B;e.kka=class{constructor(){this.hS=[]}j(){this.jd();this.hS=null}jd(){e.Wca(this.hS)}}}"use strict";
self.B.Event=class{constructor(e,b){this.type=e;this.cancelable=!!b;this.yda=this.bK=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.yda)throw Error(`cannot stop async event '${this.type}' propagation`);this.bK=!0}};
{"use strict";const e=self.B;e.Event.IZ=class extends e.aa{constructor(b){super();this.ra=b;this.Ze=[];this.Bq=new Set;this.ef=[];this.Yq=new Set;this.mu=0;this.ir=[]}j(){0<this.mu||(e.D(this.Ze),this.Bq.clear(),e.D(this.ef),this.Yq.clear(),e.D(this.ir),e.j(this))}oO(b,a){this.DP()?this.ir.push({XJ:"add",Lh:b,capture:a}):a?this.Bq.has(b)||(this.Ze.push(b),this.Bq.add(b)):this.Yq.has(b)||(this.ef.push(b),this.Yq.add(b))}X9(b,a){this.DP()?this.ir.push({XJ:"remove",Lh:b,capture:a}):a?this.Bq.has(b)&&
(this.Bq.delete(b),e.ek(this.Ze,b)):this.Yq.has(b)&&(this.Yq.delete(b),e.ek(this.ef,b))}V7(){return!this.Ze.length&&!this.ef.length}DP(){return 0<this.mu}F9(){const b=new Set,a=new Set;for(const d of this.ir)if("add"===d.XJ)this.oO(d.Lh,d.capture),d.capture?a.delete(d.Lh):b.delete(d.Lh);else if("remove"===d.XJ)d.capture?(this.Bq.delete(d.Lh),a.add(d.Lh)):(this.Yq.delete(d.Lh),b.add(d.Lh));else throw Error("invalid op");e.Vf(this.ef,b);e.Vf(this.Ze,a);e.D(this.ir)}U6(b){this.rq();let a=!1;for(let d=
0,c=this.Ze.length;d<c;++d)if(this.Ze[d](b),b.bK){a=!0;break}if(!a)for(let d=0,c=this.ef.length;d<c&&(this.ef[d](b),!b.bK);++d);this.oq();return!b.defaultPrevented}W6(b){this.rq();for(let a=0,d=this.Ze.length;a<d;++a)this.Ze[a](b);for(let a=0,d=this.ef.length;a<d;++a)this.ef[a](b);this.oq();return!0}rq(){this.mu++}oq(){this.mu--;0===this.mu&&0<this.ir.length&&this.F9()}eq(b){b?this.rq():this.oq()}XO(b){const a=[];this.rq();for(let c=0,g=this.Ze.length;c<g;++c){var d=this.Ze[c](b);d instanceof Promise&&
a.push(d)}for(let c=0,g=this.ef.length;c<g;++c)d=this.ef[c](b),d instanceof Promise&&a.push(d);this.oq();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async R6(b){return await this.XO(b)}async S6(b){this.rq();for(let d=0,c=this.Ze.length;d<c;++d){var a=this.Ze[d](b);a instanceof Promise&&await a}for(let d=0,c=this.ef.length;d<c;++d)a=this.ef[d](b),a instanceof Promise&&await a;this.oq();return!b.defaultPrevented}*T6(b){this.rq();for(let d=0,c=this.Ze.length;d<c;++d){var a=
this.Ze[d](b);e.$l(a)&&(yield*a)}for(let d=0,c=this.ef.length;d<c;++d)a=this.ef[d](b),e.$l(a)&&(yield*a);this.oq()}}}
{"use strict";const e=self.B;e.Event.Jb=class extends e.aa{constructor(){super();this.Co=new Map;this.wG=!1}j(){if(this.wG)throw Error("already released");this.hW();this.wG=!0;e.j(this)}fO(){return this.wG}hW(){for(let b of this.Co.values())b.j();this.Co.clear()}oo(b,a){let d=this.Co.get(b);return d?d:a?(d=e.m(e.Event.IZ,b),this.Co.set(b,d),d):null}iD(b){return this.Co.has(b)}addEventListener(b,a,d){this.oo(b,!0).oO(a,!!d)}removeEventListener(b,a,d){let c=this.oo(b,!1);c&&(c.X9(a,!!d),c.V7()&&this.Co.delete(b))}dispatchEvent(b){const a=
this.oo(b.type,!1);return a?b.cancelable?a.U6(b):a.W6(b):!0}async BJ(b){const a=this.oo(b.type,!1);return a?await a.R6(b):!0}fda(b){const a=this.oo(b.type,!1);return a?a.XO(b):!0}async eda(b){const a=this.oo(b.type,!1);a&&await a.S6(b)}gda(b){const a=this.oo(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.T6(b)}eq(b){for(const a of this.Co.values())a.eq(b)}}}
{"use strict";const e=self.B,b="undefined"!==typeof requestIdleCallback;let a=[],d=-1,c=0;function g(n){d=b&&0===c?requestIdleCallback(m,{timeout:35}):setTimeout(m,0<c?1:n)}function m(n){d=-1;if(a.length){var p=performance.now(),q=0;do{h(a.shift());var u=performance.now();++q;var r=(u-p)/q*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?r<n.timeRemaining():12>u-p+r));-1===d&&a.length&&g(Math.max(16-(u-p),4))}}function h(n){let p;try{p=n.Lh()}catch(q){n.reject(q);return}n.resolve(p)}let l=e.SD.vx("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");e.hk=function(n){let p=null;e.Vv&&(p=e.Pw());return new Promise((q,u)=>{a.push({Lh:n,resolve:q,reject:u,stack:p});l?h(a.pop()):-1===d&&g(16)})};e.hk.uN=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const e=self.B;let b=-1;function a(){b=-1}e.Lw=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let d=-1,c=-1,g=new Set;function m(){c=d=-1;let h=Date.now();for(let l of g)if(l.v5(h)){let n=l.zo;if(-1===c||n<c)c=n}else g.delete(l);-1!==c&&(d=self.setTimeout(m,Math.max(c-h+100,1E3)))}e.i_=class{constructor(h,l){this.Aq=h;this.oB=1E3*l;this.zo=0;this.Cb=!1}Yc(){let h=e.Lw();this.zo=h+this.oB;this.Cb||(g.add(this),this.Cb=!0);-1===d?(c=this.zo,d=self.setTimeout(m,this.oB+
100)):this.zo<c&&c>h+1E3&&(self.clearTimeout(d),c=this.zo,d=self.setTimeout(m,this.oB+100))}v5(h){return h>=this.zo?this.Aq()?(this.zo=h+this.oB,!0):this.Cb=!1:!0}aW(){this.Cb&&(g.delete(this),this.Cb=!1,0===g.size&&-1!==d&&(self.clearTimeout(d),c=d=-1))}j(){this.aW();this.Aq=null}}}
{"use strict";const e=self.B;e.uc=class b{constructor(a){this.Kq=!1;this.xG=a}Hw(){this.Kq||(this.Kq=!0,this.xG&&(this.xG(),this.xG=null))}j(){this.Hw()}static j(a){return new b(()=>a.j())}static kd(a,d,c){if("undefined"===typeof g||null===g)var g=!1;else if("boolean"!==typeof g&&"object"!==typeof g)throw new TypeError("invalid event listener options");if(d.includes(" ")){d=d.split(" ");const m=new e.bs;for(let h of d)a.addEventListener(h,c,g),m.Uc(e.m(e.uc,()=>a.removeEventListener(h,c,g)));return m}a.addEventListener(d,
c,g);return e.m(e.uc,()=>a.removeEventListener(d,c,g))}};e.mna=class extends e.uc{};e.bs=class extends e.uc{constructor(...b){super();this.Yd=new Set;for(let a of b)this.Uc(a)}Uc(...b){if(this.Kq)throw Error("already disposed");for(let a of b)this.Yd.add(a)}ah(b){if(this.Kq)throw Error("already disposed");this.Yd.delete(b)}Hw(){if(this.Kq)throw Error("already disposed");this.Kq=!0;for(let b of this.Yd)b.Hw();this.Yd.clear();this.Yd=null}j(){this.Hw()}}}
{"use strict";const e=self.B;e.HD=class extends e.aa{constructor(){super();this.qr=this.wv=this.N=this.Yy=0}Uc(b){this.N=+b-this.Yy;this.wv=this.qr+this.N;this.Yy=this.wv-this.qr-this.N;this.qr=this.wv}Y(){return this.qr}Yc(){this.qr=this.wv=this.N=this.Yy=0}Set(b){this.wv=this.N=this.Yy=0;this.qr=+b}j(){}}}
{"use strict";const e=self.B,b={UD:function(a){this.$U=a;this.left=this.right=this.$U.jb;this.parent=null;this.color=!1;this.key=null},Xn:function(a){this.size=0;this.jb=new b.UD(this);this.jb.color=!1;this.root=this.jb;this.root.parent=this.jb;this.compare=a||this.bda}};xa=b.Xn.prototype;xa.bda=function(a,d){return a<d?-1:d<a?1:0};xa.clone=function(){var a=new b.Xn(this.compare);a.uda(this);return a};xa.clear=function(){this.size=0;this.jb=new b.UD(this);this.jb.color=!1;this.root=this.jb;this.root.parent=
this.jb};xa.Xv=function(a){var d=a.right;a.right=d.left;d.left!=this.jb&&(d.left.parent=a);d.parent=a.parent;a.parent==this.jb?this.root=d:a==a.parent.left?a.parent.left=d:a.parent.right=d;d.left=a;a.parent=d};xa.dw=function(a){var d=a.left;a.left=d.right;d.right!=this.jb&&(d.right.parent=a);d.parent=a.parent;a.parent==this.jb?this.root=d:a==a.parent.right?a.parent.right=d:a.parent.left=d;d.right=a;a.parent=d};xa.Mr=function(a){if(this.contains(a))this.Sv(a).key=a;else{var d=new b.UD(this);d.key=
a;a=this.jb;for(var c=this.root;c!=this.jb;)a=c,c=0>this.compare(d.key,c.key)?c.left:c.right;d.parent=a;a==this.jb?this.root=d:0>this.compare(d.key,a.key)?a.left=d:a.right=d;d.left=this.jb;d.right=this.jb;d.color=!0;this.vda(d);this.size++}};xa.vda=function(a){for(;a!=this.jb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var d=a.parent.parent.right;1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Xv(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.jb&&this.dw(a.parent.parent))}else d=a.parent.parent.left,1==d.color?(a.parent.color=!1,d.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.dw(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.jb&&this.Xv(a.parent.parent));this.root.color=!1};xa.dda=function(a){var d=a.left==this.jb||a.right==this.jb?a:this.tn(a);var c=d.left!=this.jb?d.left:d.right;c.parent=d.parent;d.parent==
this.jb?this.root=c:d==d.parent.left?d.parent.left=c:d.parent.right=c;d!=a&&(a.key=d.key);0==d.color&&this.cda(c);this.size--};xa.cda=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var d=a.parent.right;1==d.color&&(d.color=!1,a.parent.color=!0,this.Xv(a.parent),d=a.parent.right);0==d.left.color&&0==d.right.color?(d.color=!0,a=a.parent):(0==d.right.color&&(d.left.color=!1,d.color=!0,this.dw(d),d=a.parent.right),d.color=a.parent.color,a.parent.color=!1,d.right.color=!1,this.Xv(a.parent),
a=this.root)}else d=a.parent.left,1==d.color&&(d.color=!1,a.parent.color=!0,this.dw(a.parent),d=a.parent.left),0==d.right.color&&0==d.left.color?(d.color=!0,a=a.parent):(0==d.left.color&&(d.right.color=!1,d.color=!0,this.Xv(d),d=a.parent.left),d.color=a.parent.color,a.parent.color=!1,d.left.color=!1,this.dw(a.parent),a=this.root);a.color=!1};xa.remove=function(a){a=this.Sv(a);if(a!=this.jb){var d=a.key;this.dda(a);return d}return null};xa.min=function(a){for(;a.left!=this.jb;)a=a.left;return a};xa.max=
function(a){for(;a.right!=this.jb;)a=a.right;return a};xa.tn=function(a){if(a.right!=this.jb)return this.min(a.right);for(var d=a.parent;d!=this.jb&&a==d.right;)a=d,d=d.parent;return d};xa.Sv=function(a){for(var d=this.root;d!=this.jb&&0!=this.compare(d.key,a);)d=0>this.compare(a,d.key)?d.left:d.right;return d};xa.contains=function(a){return null!=this.Sv(a).key};xa.IJ=function(){var a=[];this.forEach(function(d){a.push(d)});return a};xa.uda=function(a){if("array"==b.qK(a))for(var d=0;d<a.length;d++)this.Mr(a[d]);
else if("function"==b.qK(a.forEach))a.forEach(this.Mr,this);else if("function"==b.qK(a.IJ))for(a=a.IJ(),d=0;d<a.length;d++)this.Mr(a[d]);else if("object"==b.qK(a))for(d in a)this.Mr(a[d])};xa.range=function(a,d){var c=[];this.wea(function(g){c.push(g)},a,d);return c};xa.wea=function(a,d,c){if(!this.Pr())for(d=this.Sv(d),c=this.Sv(c);d!=c&&!a.call(void 0,d.key,this);)d=this.tn(d)};xa.forEach=function(a,d){if(!this.Pr())for(var c=this.min(this.root);c!=this.jb;c=this.tn(c))a.call(d,c.key,c.key,this)};
xa.some=function(a,d){if(this.Pr())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.tn(c))if(a.call(d,c.key,c.key,this))return!0;return!1};xa.every=function(a,d){if(this.Pr())return!1;for(var c=this.min(this.root);c!=this.jb;c=this.tn(c))if(!a.call(d,c.key,c.key,this))return!1;return!0};xa.map=function(a,d){var c=[];if(this.Pr())return c;for(var g=this.min(this.root);g!=this.jb;g=this.tn(g))c.push(a.call(d,g.key,g.key,this));return c};xa.filter=function(a,d){var c=[];if(this.Pr())return c;
for(var g=this.min(this.root);g!=this.jb;g=this.tn(g))a.call(d,g.key,g.key,this)&&c.push(g.key);return c};xa.Pr=function(){return 0==this.size};e.Xn=class extends e.aa{constructor(a){super();this.Ig=new b.Xn(a);this.Nq=!1;this.fp=new Set;this.gp=new Set}Uc(a){this.Nq?this.Ig.contains(a)?this.gp.delete(a):this.fp.add(a):this.Ig.Mr(a)}ah(a){this.Nq?this.Ig.contains(a)?this.gp.add(a):this.fp.delete(a):this.Ig.remove(a)}vx(a){return this.Nq?this.fp.has(a)?!0:!this.gp.has(a)&&this.Ig.contains(a):this.Ig.contains(a)}jd(){this.Ig.clear();
this.fp.clear();this.gp.clear()}toArray(){if(this.Nq)throw Error("cannot be used in queueing mode");return this.Ig.IJ()}Hn(){return this.Ig.size+this.fp.size-this.gp.size}Rn(){return 0===this.Hn()}bh(a){a=!!a;if(this.Nq!==a&&(this.Nq=a,!a)){for(const d of this.gp)this.Ig.remove(d);this.gp.clear();for(const d of this.fp)this.Ig.Mr(d);this.fp.clear()}}fL(a){this.Ig.forEach(a)}*values(){if(!this.Rn()){var a=this.Ig;for(let d=a.min(a.root);d!=a.jb;d=a.tn(d))yield d.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const e=self.B;e.MM=class{constructor(b=e.hardwareConcurrency){this.cca=b;this.qI=[];this.MF=0}Uc(b){return new Promise((a,d)=>{this.qI.push({Lh:b,resolve:a,reject:d});this.OP()})}async OP(){if(this.qI.length&&!(this.MF>=this.cca)){this.MF++;var b=this.qI.shift();try{const a=await b.Lh();b.resolve(a)}catch(a){b.reject(a)}this.MF--;this.OP()}}}}
{"use strict";const e=self.B;e.i2=class{constructor(b,a,d){this.Aq=b;this.Nba=a;this.Oba=d||2*a;this.zr=-1;this.mA=-Infinity;this.xT=()=>this.p9();this.rba=this.ZG=!1;this.$t=null}m7(){return"undefined"!==typeof e.NV&&e.NV.dia()?this.Oba:this.Nba}$V(){var b=[];if(-1===this.zr){this.$t=b;b=e.Lw();var a=b-this.mA,d=this.m7();a>=d&&this.rba?(this.mA=b,this.mQ()):this.zr=self.setTimeout(this.xT,Math.max(d-a,4))}}mQ(){this.ZG=!0;const b=this.$t;this.$t=null;b?this.Aq(...b):this.Aq();this.ZG=!1}Yc(){this.ZG||
(this.yO(),this.$t=null,this.mA=e.Lw())}p9(){this.zr=-1;this.mA=e.Lw();this.mQ()}yO(){-1!==this.zr&&(self.clearTimeout(this.zr),this.zr=-1)}j(){this.yO();this.xT=this.$t=this.Aq=null}}}"use strict";function hc(e,b){if(!e.DR)throw Error("no get base size callback set");return e.DR(b)}self.B.Ela=class{constructor(){this.Kba=new Map;this.WS=this.ZS=this.DR=null}Ox(){if(!this.WS)throw Error("no redraw callback set");this.WS()}};"use strict";
self.B.Dla=class{constructor(e,b){this.Eg=e;this.yba=b;this.Bc=0;hc(this.Eg,b).then(()=>{this.Eg.Ox()}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);this.Eg.Ox()});this.rI=null}j(){if(0>=this.Bc)throw Error("already released");this.Bc--;0===this.Bc&&this.Ft()}Ft(){if(this.rI){var e=this.Eg;if(!e.ZS)throw Error("no release result callback set");e.ZS(this.rI);this.rI=null}this.Eg.Kba.delete(this.yba);this.Eg=null}};
{"use strict";const e=self.B;e.Ena="\ufeff";const b=new Set([..."0123456789"]);e.b0=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);e.Fx=function(n){return a.has(n)};e.Rga=function(n){return[...n].filter(p=>!e.Fx(p)).join("")};e.GD=function(n){for(const p of n)if(!e.Fx(p))return!1;return!0};e.m0=function(n){return 1===n.length&&32>n.charCodeAt(0)};e.kY=function(n){return[...n].filter(p=>
!e.m0(p)).join("")};const d=new Set([..."0123456789.+-e"]);e.uia=function(n){n=n.trim();if(!n.length)return!1;let p=n.charAt(0);if("-"!==p&&!b.has(p))return!1;for(let q of n)if(!d.has(q))return!1;return!0};e.r2=function(n){let p=n.length;for(;0<p&&e.b0(n.charAt(p-1));)--p;return n.substr(0,p)};e.wha=function(n){let p=e.r2(n);n=(n=n.substr(p.length))?(parseInt(n,10)+1).toString():"2";return p+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function g(n){return c.get(n)}
const m=/[&<>"']/g;e.cY=function(n){return n.replace(m,g)};e.Gga=function(n){n=e.fi(n,"\\","\\\\");n=e.fi(n,'"','\\"');n=e.fi(n,"\t","\\t");n=e.fi(n,"\r","");return e.fi(n,"\n","\\n")};e.Hga=function(n){n=e.fi(n,"&","&amp;");n=e.fi(n,"<","&lt;");n=e.fi(n,">","&gt;");return e.fi(n,'"',"&quot;")};const h=/[-[\]{}()*+?.,\\^$|#\s]/g;e.es=function(n){return n.replace(h,"\\$&")};e.Sga=function(n,p,q=!1){if(!p)return[];q||(n=n.toLowerCase(),p=p.toLowerCase());q=p.length;var u=0;let r=[];for(;-1<(u=n.indexOf(p,
u));)r.push(u),u+=q;return r};e.fi=function(n,p,q){return n.replaceAll(p,()=>q)};e.Cka=function(n,p,q){return n.replace(new RegExp(e.es(p),"gi"),()=>q)};e.ama=function(n,p){"string"===typeof p?n.textContent=p:p.dS?n.textContent=p.toString():(n.innerHTML=p.mK(),p instanceof e.Nl&&p.Qca(n))};e.hna=function(n,p){return n instanceof e.nD||n instanceof e.Nl?n.bd(p):p instanceof e.nD||p instanceof e.Nl?p.bd(n):n===p};e.ina=function(n,...p){let q=n;for(let u=0,r=p.length;u<r;++u){const v=`{${u}}`;if(!n.includes(v))throw Error(`missing placeholder '${v}' in string substitution`);
q=q.replace(v,p[u].toString())}return q};e.jna=function(n,...p){let q=n,u=-1,r=-1;for(let v=0,w=p.length;v<w;++v){const y=`{${v}}`;n.includes(y)?(r=v,q=q.replace(y,p[v].toString())):-1===u&&(u=v)}if(0<=u&&0<=r&&u<r)throw Error(`missing placeholder '${u}' in string substitution`);return q};e.kna=function(n,p){for(let [q,u]of Object.entries(p))n=n.replaceAll(q,u.toString());return n};e.Vma=function(n,p){n=n.toLowerCase();p=p.toLowerCase();return n>p?1:n<p?-1:0};e.Wga=function(n,p){p="common."+(p?"dataRates":
"dataSizes")+".";const q=self.Ipa;if(1024>n)return q(p+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),q(p+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return q(p+"terabytes",n)};const l={Nca:!1,Zca:!0,tda:!0,Mda:!0,MU:!0};e.Xga=function(n,p){p=Object.assign({},
l,p);e.p0.nka("common.time");const q=[],u=self.lang,r=self.Hpa;if(p.Zca){var v=Math.floor(n/86400);0<v&&(n-=86400*v,q.push(r(".days",null,v)))}p.tda&&(v=Math.floor(n/3600),0<v||q.length)&&(n-=3600*v,q.push(r(".hours",null,v)));p.Mda&&(v=Math.floor(n/60),0<v||q.length||!p.MU)&&(n-=60*v,q.push(r(".minutes",null,v)));p.MU&&q.push(r(".seconds",null,Math.floor(n%60)));n=(p.Nca?u(".approx-prefix"):"")+q.join(u(".separator"));e.p0.eka();return n};e.ioa=function(n,p){let q=0>n?"-":"";n=Math.abs(n);n=n.toString();
p-=n.length;for(let u=0;u<p;++u)q+="0";return q+n};e.lna=function(n){return n.toLowerCase().replace(/\b\w/g,p=>p.toUpperCase())};e.fga=function(n,p){n=n.split(".").map(q=>q.trim());p=p.split(".").map(q=>q.trim());e.KU(n);e.KU(p);n=n.map(q=>parseInt(q,10));p=p.map(q=>parseInt(q,10));for(let q=0;4>q;++q){const u=n[q]-p[q];if(0!==u)return 0>u?-1:1}return 0};e.rga=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const p=Math.floor(16*Math.random());return("x"===n?p:p&3|8).toString(16)})};
e.fna=function(n,p){if(n.length!==p.length)throw Error("strings must be same length");let q=0;for(let u=0,r=n.length;u<r;++u)n.charAt(u)!==p.charAt(u)&&++q;return q};e.gna=function(n,p){if(0===n.length)return p.length;if(0===p.length)return n.length;let q,u,r,v;if(n.length>p.length){var w=n;n=p;p=w}v=Array(n.length+1);for(w=0;w<=n.length;w++)v[w]=w;for(w=1;w<=p.length;w++){u=w;for(q=1;q<=n.length;q++)r=p[w-1]===n[q-1]?v[q-1]:Math.min(v[q-1]+1,Math.min(u+1,v[q]+1)),v[q-1]=u,u=r;v[n.length]=u}return v[n.length]}}
{"use strict";const e=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
d=/\[(\/?)([^\[\n]*?)\]/g;let c=null,g=0;function m(l,n,p){var q=b.get(p);if(q){if("string"===typeof q){if("a"!==q||n)return"<"+n+q+">";n=parseInt(p.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");q=c[n];if("string"===typeof q)return`<a href="${c[n]}">`;if("function"===typeof q)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(q))return l=q[0],q=q[1],n?"</"+l+">":`<${l} class="${q}">`}else return"class"===p?n?
"</span>":`<span class="bbclass${g++}">`:l}const h=/\n/g;e.Nl=class{constructor(l,n){this.kh=n&&n.Pda?l:e.cY(l);this.YG="";this.dR=!1;this.Su=[];if(n&&(this.dR=!!n.Foa,n.links)){if(9<n.links.length)throw Error("too many links");this.Su=n.links}this.IR=this.kh.includes("[");this.GS=this.dR&&this.kh.includes("\n");this.dS=!this.IR&&!this.GS&&!this.kh.includes("&");this.MR=!1;this.ou=[]}toString(){return this.kh}valueOf(){return this.kh}mK(){if(this.dS)return this.kh;if(!this.YG&&this.kh){let l=this.kh;
this.IR&&(g=0,c=this.Su,l=l.replace(a,m),c=null);this.GS&&(l=l.replace(h,"<br>"));this.YG=l}return this.YG}Qca(l){if(this.Su.length)for(let n=0,p=this.Su.length;n<p;++n){const q=this.Su[n];if("function"!==typeof q)continue;const u=l.querySelector(".bblink"+n);if(!u)throw Error("unable to attach BBString link handler");u.onclick=q}}bd(l){return l instanceof e.nD?this.mK()===l.mK():l instanceof e.Nl?this.kh===l.kh:this.kh===l}tea(){if(this.MR)return this.ou;const l=this.kh,n=[];let p=d.lastIndex=0;
for(var q;null!==(q=d.exec(l));){var u=q.index;if(0<u&&"\\"===l.charAt(u-1))continue;var r=q[1],v=q[2];const w=l.substring(p,u);p=u+q[0].length;w&&this.ou.push({text:w,cd:n.slice(0)});if(v)if(r)for(v=v.toLowerCase(),q=n.length-1;0<=q;--q){if(n[q].tag===v){n.splice(q,1);break}}else q=v,u=null,r=v.indexOf("="),-1!==r?(q=v.substring(0,r).toLowerCase(),u=v.substring(r+1)):q=q.toLowerCase(),n.push({tag:q,Mh:u})}p<l.length&&this.ou.push({text:l.substring(p),cd:n.slice(0)});for(const w of this.ou)w.text=
this.E9(w.text);this.MR=!0;return this.ou}E9(l){l=e.fi(l,"\\[","[");return e.fi(l,"\\\\","\\")}static TN(l){return l.replace(d,"")}}}
{"use strict";const e=self.B;e.DE=class{constructor(){this.Gm=[]}QP(b,a){let d=0,c=0,g=0,m=0,h=0;for(const l of b)-1===l.width&&(b=a(l.text,l.cd),l.width=b.width,l.height=b.height,l.Wf=b.Wf||0,l.sf=b.sf||0,l.vf=b.vf||0),d+=l.width,c=Math.max(c,l.height),g=Math.max(g,l.Wf),m=Math.max(m,l.sf),h=Math.max(h,l.vf);return{width:d,height:c,Wf:g,sf:m,vf:h}}iy(b,a,d,c,g,m){this.Gm.push({iU:b,width:a,height:d,Wf:c,sf:g,vf:m})}DE(b,a,d,c,g){"string"===typeof b&&(b=[{text:b,cd:[]}]);e.D(this.Gm);if(!(!b.length||
1===b.length&&!b[0].text.length||2>d)){if(1===b.length){var m=b[0];const h=m.text;m=m.cd;if(100>=h.length&&!h.includes("\n")){let {width:l,height:n,Wf:p,sf:q,vf:u}=a(h,m);l+=g;p=p||0;q=q||0;u=u||0;if(l<=d){this.iy([{text:h,cd:m,width:l,height:n,Wf:p,sf:q,vf:u}],l,n,p,q,u);return}}}if("word"===c)c=this.Faa(b);else{c=[];for(const h of b)e.Cl(c,[...h.text].map(l=>[{text:l,cd:h.cd}]))}this.Zaa(c,a,d,g)}}Faa(b){const a=[];let d=[],c=!1;for(const m of b){var g=m.text;b=m.cd;for(const h of g)"\n"===h?(0<
d.length&&a.push(d),a.push([{text:"\n",cd:b}]),d=[]):0===d.length?(d.push({text:h,cd:b}),c=e.Fx(h)):(g=e.Fx(h),g===c?(g=d.Sd(-1),g.cd===b?g.text+=h:d.push({text:h,cd:b})):(a.push(d),d=[],d.push({text:h,cd:b}),c=g))}0<d.length&&a.push(d);return a}y5(b){return b.map(a=>({text:a.text,cd:a.cd,width:a.width,height:a.height,Wf:a.Wf,sf:a.sf,vf:a.vf}))}tO(b,a){var d=b.length?b.Sd(-1):null;let c=0;d&&a[0].cd===d.cd&&(d.text+=a[0].text,d.width=-1,d.height=-1,d.Wf=-1,d.sf=-1,d.vf=-1,c=1);for(d=a.length;c<d;++c){const g=
a[c];b.push({text:g.text,cd:g.cd,width:-1,height:-1,Wf:-1,sf:-1,vf:-1})}}Zaa(b,a,d,c){let g=[],m=0,h=0,l=0,n=0;var p=0;for(const q of b){if(1===q.length&&"\n"===q[0].text){0===h&&(p=a(" ",q[0].cd),h=p.height,l=p.Wf||0,n=p.sf||0,p=p.vf||0);this.iy(g,m,h,l,n,p);g=[];p=n=l=h=m=0;continue}b=this.y5(g);this.tO(b,q);const u=this.QP(b,a),r=u.width;r>=d?(0<g.length&&this.iy(g,m,h,l,n,p),g=[],e.GD(q[0].text)?p=n=l=h=m=0:(this.tO(g,q),p=this.QP(g,a),m=p.width,h=p.height,l=p.Wf,n=p.sf,p=p.vf)):(g=b,m=r,h=u.height,
l=u.Wf,n=u.sf,p=u.vf)}0<g.length&&this.iy(g,m,h,l,n,p);this.Iaa(a,c)}Iaa(b,a){for(const c of this.Gm){const g=c.iU;if(!g.length)continue;let m=g.Sd(-1);var d=m.text;const h=d.trimEnd();if(!h)c.width-=m.width,g.pop();else if(h.length<d.length){d=b(h,m.cd).width;const l=m.width-d;m.width=d;m.text=h;c.width-=l}0!==a&&0<g.length&&(m=g.Sd(-1),m.width+=a,c.width+=a)}}jd(){e.D(this.Gm)}kZ(){return this.Gm.reduce((b,a)=>Math.max(b,a.width),0)}DZ(){return this.Gm.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const e=self.B,b=self.$i,a=b.aC,d=b.gw,c=b.Gl,g=a.create(),m=a.create(),h=a.create(),l=d.create(),n=c.create(),p=a.create(),q=a.create(),u=a.create(),r=a.create(),v=a.create(),w=a.create(),y=a.create(),A=a.create(),G=d.tf(0,0,1,1);e.I={a2(J,M,P,R,T,Z,X){const ba=R[0]*J+R[4]*M+R[8]*P+R[12],Y=R[1]*J+R[5]*M+R[9]*P+R[13],va=R[2]*J+R[6]*M+R[10]*P+R[14];R=R[3]*J+R[7]*M+R[11]*P+R[15];J=T[0]*ba+T[4]*Y+T[8]*va+T[12]*R;M=T[1]*ba+T[5]*Y+T[9]*va+T[13]*R;P=T[2]*ba+T[6]*Y+T[10]*va+T[14]*R;T=T[3]*
ba+T[7]*Y+T[11]*va+T[15]*R;if(0===T)return!1;T=1/T;X[0]=(J*T*.5+.5)*Z[2]+Z[0];X[1]=(M*T*.5+.5)*Z[3]+Z[1];X[2]=.5*(1+P*T);return!0},Bj(J,M,P,R,T,Z,X){c.multiply(n,T,R);if(null===c.Or(n,n))return!1;l[0]=(J-Z[0])/Z[2]*2-1;l[1]=(M-Z[1])/Z[3]*2-1;l[2]=2*P-1;l[3]=1;d.oK(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];X[0]=l[0]*l[3];X[1]=l[1]*l[3];X[2]=l[2]*l[3];return!0},v4(J,M,P,R,T,Z,X){if(!e.I.Bj(J,M,0,R,T,Z,g)||!e.I.Bj(J,M,1,R,T,Z,m))return!1;a.Ll(m,m,g);a.set(h,0,0,1);J=-P;M=a.nn(h,m);P=0;if(0===M){if(0!==
a.nn(h,g)+J)return!1}else if(P=-(a.nn(g,h)+J)/M,0>P)return!1;a.gK(X,g,m,P);return!0}};function z(J,M,P,R){a.Ll(g,P,M);a.Ll(m,J,M);a.zJ(h,g,m);a.normalize(h,h);R.set(h[0],h[1],h[2],a.nn(J,h))}function F(J,M,P,R,T,Z,X){const ba=X.x,Y=X.y,va=X.z,ta=X.w,ya=X.gV,Na=X.hV;X=X.iV;const Sa=1-ya,Ta=1-Na,Ua=1-X;return ba*J*ya+ba*R*Sa+Y*M*Na+Y*T*Ta+va*P*X+va*Z*Ua>=ta?!0:ba*R*ya+ba*J*Sa+Y*T*Na+Y*M*Ta+va*Z*X+va*P*Ua>ta}class I{constructor(){this.iV=this.hV=this.gV=this.w=this.z=this.y=this.x=NaN}set(J,M,P,R){this.x=
J;this.y=M;this.z=P;this.w=R;this.gV=0<J?1:0;this.hV=0<M?1:0;this.iV=0<P?1:0}}e.I.D4=class{constructor(){this.tS=new I;this.yT=new I;this.aT=new I;this.YQ=new I;this.WH=new I;this.uR=new I}XV(J,M){e.I.Bj(0,1,0,J,M,G,p);e.I.Bj(1,1,0,J,M,G,q);e.I.Bj(0,0,0,J,M,G,u);e.I.Bj(1,0,0,J,M,G,r);e.I.Bj(0,1,1,J,M,G,v);e.I.Bj(1,1,1,J,M,G,w);e.I.Bj(0,0,1,J,M,G,y);e.I.Bj(1,0,1,J,M,G,A);z(u,p,v,this.tS);z(p,q,w,this.yT);z(q,r,A,this.aT);z(r,u,y,this.YQ);z(y,v,w,this.uR);z(r,q,p,this.WH)}uW(J,M,P,R,T,Z){return F(J,
M,P,R,T,Z,this.tS)&&F(J,M,P,R,T,Z,this.yT)&&F(J,M,P,R,T,Z,this.aT)&&F(J,M,P,R,T,Z,this.YQ)&&F(J,M,P,R,T,Z,this.WH)&&F(J,M,P,R,T,Z,this.uR)}T_(J,M,P){var R=this.WH;return!(R.x*J+R.y*M+R.z*P>=R.w)}}}
{"use strict";const e=self.B,b=self.$i,a=b.aC,d=b.gw,c=b.Gl,g=c.create(),m=a.tf(0,0,0),h=a.tf(0,0,0),l=a.tf(0,0,0),n=a.tf(0,1,0);d.tf(0,0,0,0);new e.sd;new e.Rect;const p=new e.sd(0,0,1,0,1,1,0,1);e.I.u2=class{constructor(){this.R=this.V=0;this.xR=e.Wa(45);this.OI=Math.tan(this.xR/2);this.BA=c.create();this.PH=c.create();this.to=[];this.ZA=new Map;this.DI=this.dB=this.eB=null;this.uv=new Map;this.yi=null;this.fG=[];this.FS=new Map;this.hu=this.Tt=0;this.Zba=this.$ba=1;this.KH=.5;this.qh=0;this.Mq=
!0;this.Jz=!1}jY(q){let u=0,r=q.length,v=0;for(;u<r;)q[u++]=v,q[u++]=v+1,q[u++]=v+2,q[u++]=v,q[u++]=v+2,q[u++]=v+3,v+=4}BO(){this.hu=this.Tt=0;this.DI=this.dB=this.eB=null;this.w5()}Ax(){this.BO();this.yi=null}Y0(){for(const q of this.to)q.j();this.BO()}ta(){return this.V}qa(){return this.R}Bp(q,u,r=.5,v=.5){var w=this.xR;.5===r&&.5===v?c.perspective(q,w,u,1,1E4):(r=1-r,w=1*this.OI,u*=w,c.mda(q,(2*r-2)*u,2*r*u,(2*v-2)*w,2*v*w,1,1E4))}WV(q,u,r){const v=self.devicePixelRatio,w=200*v*this.OI/r;u=u*w/
(2*v);r=r*w/(2*v);c.Vda(q,-u,u,-r,r,1,1E4)}AK(q,u,r,v,w=this.qa()){w=200*self.devicePixelRatio*this.OI/w;a.set(l,w,-w,1);a.multiply(m,u,l);a.multiply(h,r,l);c.Jda(q,m,h,v||n);c.scale(q,q,l)}$r(q,u,r,v,w,y){a.set(m,q,u,r);a.set(h,v,w,0);this.AK(g,m,h,n,y);return g}f5(q){this.to.push(q);this.ZA.set(q.Aa(),q)}Z9(q){const u=this.to.indexOf(q);-1!==u&&this.to.splice(u,1);this.ZA.delete(q.Aa())}w5(){e.D(this.to);this.ZA.clear()}JL(q){return this.ZA.get(q)||null}yj(){this.jq(this.eB)}mN(){this.jq(this.DI)}Q$(q){this.yi=
q}lV(q,u,r,v){const w=e.I.xE.tM(q,u,r,v);let y=this.uv.get(w);y||(y=e.m(e.I.xE,this,q,u,r,v),this.uv.set(w,y));y.xV();return y}SM(q){q.PW();0===q.Bc&&(this.yi===q&&(this.yi=null),this.uv.delete(q.dZ()),q.j())}G7(q){e.D(this.fG);this.FS.clear();let u=0;for(const r of q){q=r[0];const v=r[1],w=r[2];this.fG.push([v,w]);this.FS.set(q,{Rda:u,pra:v,Ooa:w});u++}}g7(q){return this.fG[q]}cq(q){this.Tt=q}Ys(q){this.hu=q;this.yi=null}Ix(q,u,r,v,w,y){var A=this.KH;q=q+A-y;u=u+A-w;r=r+A+y;v=v+A+w;A=2*y;const G=
2*w;this.Mx(q+w,u-y,0,r+w,v-y,0,r-w-A,v+y-G,0,q-w+A,u+y+G,0,p)}Hx(q,u,r,v,w,y){const A=this.KH;q=q+A-y;u=u+A-w;r=r+A+y;v=v+A+w;this.Mx(q+w,u-y,0,r+w,v-y,0,r-w,v+y,0,q-w,u+y,0,p)}Gx(q,u,r,v,w,y){const A=this.KH;q+=A;u+=A;r+=A;v+=A;this.Mx(q+w,u-y,0,r+w,v-y,0,r-w,v+y,0,q-w,u+y,0,p)}s0(q,u,r,v){const w=.5*this.$ba,y=this.Zba;2===y?this.b8(q,u,r,v,w):1===y?this.a8(q,u,r,v,w):this.Z7(q,u,r,v,w)}b8(q,u,r,v,w){this.Ix(q,u,r,u,0,w);this.Ix(r,u,r,v,w,0);this.Ix(r,v,q,v,0,-w);this.Ix(q,v,q,u,-w,0)}a8(q,u,r,
v,w){this.Hx(q,u,r,u,0,w);this.Hx(r,u,r,v,w,0);this.Hx(r,v,q,v,0,-w);this.Hx(q,v,q,u,-w,0)}Z7(q,u,r,v,w){this.Gx(q,u,r,u,0,w);this.Gx(r,u,r,v,w,0);this.Gx(r,v,q,v,0,-w);this.Gx(q,v,q,u,-w,0)}oM(q){this.s0(q.X,q.S,q.ca,q.Z)}hs(){this.ej();this.qh++}l_(){this.qh++}jE(q){this.Mq=!!q}p3(q){this.Jz=!!q}zk(){return!1}}}"use strict";
self.B.I.Y3=class{constructor(e,b,a){this.Da=b;this.la=e;this.rR=a.Toa||0;this.sR=a.Uoa||0;this.eR=!!a.Hoa;this.eca=!!a.jqa;this.hr=!!a.Bqa;this.fba=!!a.roa;this.gG=!!a.voa;this.vB=!!a.Gra;this.FT=!1}j(){this.la=null}ib(){return this.la}Aa(){return this.Da}Vp(){return this.eca}};
{"use strict";const e=self.B;e.I.xE=class{constructor(b,a,d,c,g){this.la=b;this.Bc=0;this.Qc=null;this.ov="";this.sg=d;this.ab=e.m(e.Za);this.ab.set(c);this.Sc=g;"string"===typeof a?this.ov=a:(this.Qc=a,this.ov=this.Qc.Aa())}j(){if(0<this.Bc)throw Error("releasing state group still in use");this.Qc=this.la=null;this.ov=""}EV(){const b=this.la;b.jq(this.Qc);b.ig(this.sg);b.gm(this.ab);b.Ys(this.Sc);b.Q$(this)}dZ(){return e.I.xE.tM(this.ov,this.sg,this.ab,this.Sc)}xV(){++this.Bc}PW(){--this.Bc}Ak(){this.Qc=
null}OD(b){this.Qc=b.JL(this.ov);if(!this.Qc)throw Error("failed to restore shader program");}static tM(b,a,d,c){return("string"===typeof b?b:b.Aa())+","+a+","+d.Ra+","+d.Ua+","+d.Ta+","+d.Sa+","+c}}}
{"use strict";const e=self.B,b=e.m(e.sd);function a(d,c,g){const m=g.rb,h=g.sb;return[m+(g.Tb-m)*d+(g.Mb-m)*c,h+(g.Ub-h)*d+(g.Nb-h)*c]}e.I.I0=class{constructor(d){this.TH=d;this.Pg=this.Ng=this.Sc=this.N=this.O=0}qg(d,c,g,m){this.O=d;this.N=c;this.Ng=g;this.Pg=m}ga(){return this.O}dh(d){this.O!==d&&(this.O=d,this.TH.wF())}ia(){return this.N}eh(d){this.N!==d&&(this.N=d,this.TH.wF())}$a(){return this.Sc}Ve(d){this.Sc!==d&&(this.Sc=Math.max(d,0),this.TH.wF())}pE(d){this.Ng=d}qE(d){this.Pg=d}T7(d,c,g){[this.O,
this.N]=a(d.O,d.N,c);this.Sc=d.Sc;this.Ng=e.Td(g.X,g.ca,d.Ng);this.Pg=e.Td(g.S,g.Z,d.Pg)}S7(d,c,g){[this.O,this.N]=a(d.O,d.N,c);this.Sc=d.Sc;[this.Ng,this.Pg]=a(d.Ng,d.Pg,g)}ud(){return{x:this.ga(),y:this.ia(),z:this.$a(),u:this.Ng,v:this.Pg}}nd(d){this.dh(d.x);this.eh(d.y);d.hasOwnProperty("z")&&this.Ve(d.z);this.pE(d.u);this.qE(d.v)}};e.I.vM=class{constructor(d,c,g){if(2>d||2>c)throw Error("invalid mesh size");this.Mj=d;this.Zj=c;this.ic=g||null;this.Pm=[];this.DS=this.CS=0;this.yS=this.xS=1;this.zS=
0;this.kI=!1;g=d-1;const m=c-1;for(let h=0;h<c;++h){const l=[];for(let n=0;n<d;++n){const p=e.m(e.I.I0,this,n,h),q=n/g,u=h/m;p.qg(q,u,q,u);l.push(p)}this.Pm.push(l)}}j(){e.D(this.Pm)}wF(){this.kI=!0}xt(){if(this.kI){var d=Infinity,c=Infinity,g=-Infinity,m=-Infinity,h=0;for(const l of this.Pm)for(const n of l){const p=n.ga(),q=n.ia();d=Math.min(d,p);c=Math.min(c,q);g=Math.max(g,p);m=Math.max(m,q);h=Math.max(h,n.$a())}this.CS=d;this.DS=c;this.xS=g;this.yS=m;this.zS=h;this.kI=!1}}oZ(){this.xt();return this.CS}pZ(){this.xt();
return this.DS}lZ(){this.xt();return this.xS}mZ(){this.xt();return this.yS}nZ(){this.xt();return this.zS}Ip(d,c){d=Math.floor(d);c=Math.floor(c);return 0>d||d>=this.Mj||0>c||c>=this.Zj?null:this.Pm[c][d]}YV(d,c,g){const m=g instanceof e.Rect;if(d.Mj!==this.Mj||d.Zj!==this.Zj)throw Error("source mesh wrong size");d=d.Pm;const h=this.Pm;for(let l=0,n=h.length;l<n;++l){const p=d[l],q=h[l];for(let u=0,r=q.length;u<r;++u){const v=p[u],w=q[u];m?w.T7(v,c,g):w.S7(v,c,g)}}}dj(d){const c=this.Pm;let g=c[0];
for(let m=1,h=c.length;m<h;++m){const l=c[m];let n=g[0],p=l[0];for(let q=1,u=l.length;q<u;++q){const r=g[q],v=l[q];b.set(n.Ng,n.Pg,r.Ng,r.Pg,v.Ng,v.Pg,p.Ng,p.Pg);d.Mx(n.ga(),n.ia(),n.$a(),r.ga(),r.ia(),r.$a(),v.ga(),v.ia(),v.$a(),p.ga(),p.ia(),p.$a(),b);n=r;p=v}g=l}}O_(d){d=d.Od;const c=[],g=this.Mj-1,m=this.Zj-1,h=1/g,l=1/m,n=g-1,p=m-1;let q=d[0],u=d[1],r=e.fa(Math.floor(q*g),0,n),v=e.fa(Math.floor(u*m),0,p),w=0,y=0,A=0;var G=-1;const z=()=>{q=e.fa(e.Td(q,w,A),0,1);u=e.fa(e.Td(u,y,A),0,1);c.push(q,
u)};for(let F=0,I=d.length;F<I;F+=2)for(q=d[F],u=d[F+1],c.push(q,u),r=e.fa(Math.floor(q*g),0,n),v=e.fa(Math.floor(u*m),0,p),G=(F+2)%I,w=d[G],y=d[G+1],G=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const J=r*h,M=v*l,P=(r+1)*h,R=(v+1)*l;if(0!==G&&(A=e.cw(q,u,w,y,J,M,P,R,-.001),0<=A&&.99999999>=A)){z();G=0;continue}if(0<v&&2!==G&&(A=e.cw(q,u,w,y,J,M,P,M,.001),0<=A&&.99999999>=A)){z();v--;G=4;continue}if(r<n&&3!==G&&(A=e.cw(q,u,w,y,P,M,P,R,.001),0<=A&&.99999999>=A)){z();r++;G=1;continue}if(0<
r&&1!==G&&(A=e.cw(q,u,w,y,J,M,J,R,.001),0<=A&&.99999999>=A)){z();r--;G=3;continue}if(v<p&&4!==G&&(A=e.cw(q,u,w,y,J,R,P,R,.001),0<=A&&.99999999>=A)){z();v++;G=2;continue}break}return e.m(e.yn,c)}p4(d,c){d=this.Gaa(d);this.yaa(d);c.VB(d)}Gaa(d){const c=[];d=d.Od;for(let g=0,m=d.length;g<m;g+=2){const [h,l]=this.q4(d[g],d[g+1]);c.push(h,l)}return c}q4(d,c){var g=this.Mj-1,m=this.Zj-1;const h=1/g,l=1/m;g=e.fa(Math.floor(d*g),0,g-1);const n=e.fa(Math.floor(c*m),0,m-1);m=g*h;const p=n*l,q=(g+1)*h,u=(n+
1)*l,r=this.Ip(g,n),v=this.Ip(g+1,n+1),w=e.Bda(d,c,m,p,q,p,q,u);g=this.Ip(g+(w?1:0),n+(w?0:1));const [y,A,G]=e.yea(d,c,m,p,w?m+h:m,w?p:p+l,q,u);return e.xea(y,A,G,r.ga(),r.ia(),g.ga(),g.ia(),v.ga(),v.ia())}yaa(d){const c=[];let g=d[0],m=d[1],h=g-d.Sd(-2),l=m-d.Sd(-1);for(let p=0,q=d.length;p<q;p+=2){var n=(p+2)%q;const u=d[n];n=d[n+1];const r=u-g,v=n-m,w=1E-7>Math.abs(v)&&1E-7>Math.abs(l)&&Math.sign(r)===Math.sign(h);(!(1E-7>Math.abs(r)&&1E-7>Math.abs(h)&&Math.sign(v)===Math.sign(l)||w)&&1E-7<Math.abs(r/
h-v/l)||0==r&&0===v)&&c.push(g,m);g=u;m=n;h=r;l=v}6<=c.length&&c.length<d.length&&e.Dc(d,c)}ud(){return{cols:this.Mj,rows:this.Zj,points:this.Pm.map(d=>d.map(c=>c.ud()))}}nd(d){const c=this.Mj,g=this.Zj;if(d.cols!==c||d.rows!==g)throw Error("mesh data wrong size");d=d.points;for(let m=0;m<g;++m){const h=d[m];for(let l=0;l<c;++l)this.Ip(l,m).nd(h[l])}}}}
{"use strict";const e=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),d=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function g(n,p){let q,u;switch(n){case "rgba8":n=p.RGBA8;u=q=p.RGBA;p=p.UNSIGNED_BYTE;break;case "rgb8":n=p.RGB8;u=q=p.RGB;p=p.UNSIGNED_BYTE;break;case "rgba4":n=p.RGBA4;u=q=p.RGBA;p=p.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=p.RGB5_A1;u=q=p.RGBA;p=p.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=p.RGB565;u=q=p.RGB;p=p.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{jK:n,Nr:q,format:u,type:p}}const m={cC:"clamp-to-edge",dC:"clamp-to-edge",Hl:"trilinear",ST:0,ZJ:"rgba8",RB:!0,$v:"default",premultiplyAlpha:!0,uU:!1,width:-1,height:-1},h={premultiplyAlpha:!0,flipY:!1},l=new Set;e.I.hy=class{constructor(n){this.la=n;this.mb=null;this.R=this.V=0;this.uh=!0;this.Ir=this.Hr="clamp-to-edge";this.Ad="trilinear";this.VF=0;this.Om="rgba8";this.el=!1;this.Yo=
"default";this.Bc=0}N5(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");p=Object.assign({},m,p);if(this.mb)throw Error("already created texture");this.Hr=p.cC;this.Ir=p.dC;
this.Ad=p.Hl;this.VF=p.ST;this.Om=p.ZJ;this.el=!!p.RB&&this.la.Mq;this.Yo=p.$v;if(!c.has(this.Hr)||!c.has(this.Ir))throw Error("invalid wrap mode");if(!a.has(this.Ad))throw Error("invalid sampling");if(!b.has(this.Om))throw Error("invalid pixel format");if(!d.has(this.Yo))throw Error("invalid mipmap quality");this.uh=!0;if(n instanceof ArrayBuffer||null===n||p.uU){if(this.V=p.width,this.R=p.height,n instanceof ArrayBuffer&&n.byteLength!==this.V*this.R*4)throw Error("ArrayBuffer wrong size");}else this.V=
n.width,this.R=n.height;if(0>=this.V||0>=this.R)throw Error("invalid texture data size");if(p.uU){var q=e.Sg(this.V,this.R);q.getContext("2d").drawImage(n,0,0,this.V,this.R);n=q}var u=e.gk(this.V)&&e.gk(this.R);q=this.la.CA;if(this.V>q||this.R>q)throw Error("texture data exceeds maximum texture size");q=this.la.P;var r=this.la.Rc;this.mb=q.createTexture();q.bindTexture(q.TEXTURE_2D,this.mb);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1);
p=g(this.Om,q);if(this.la.io()||u||!this.ZE())2<=r?(q.texStorage2D(q.TEXTURE_2D,this.el?Math.floor(Math.log2(Math.max(this.V,this.R))+1):1,p.jK,this.V,this.R),n instanceof ArrayBuffer?q.texSubImage2D(q.TEXTURE_2D,0,0,0,this.V,this.R,p.format,p.type,new Uint8Array(n)):null!==n&&q.texSubImage2D(q.TEXTURE_2D,0,0,0,p.format,p.type,n)):n instanceof ArrayBuffer?q.texImage2D(q.TEXTURE_2D,0,p.Nr,this.V,this.R,0,p.format,p.type,new Uint8Array(n)):null===n?q.texImage2D(q.TEXTURE_2D,0,p.Nr,this.V,this.R,0,p.format,
p.type,null):q.texImage2D(q.TEXTURE_2D,0,p.Nr,p.format,p.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.V,this.R));n instanceof ImageData&&(u=e.Sg(this.V,this.R),u.getContext("2d").putImageData(n,0,0),n=u);u=e.Sg(e.BU(this.V),e.BU(this.R));r=u.getContext("2d");r.imageSmoothingEnabled="nearest"!==this.Ad;r.drawImage(n,0,0,this.V,this.R,0,0,u.width,u.height);
q.texImage2D(q.TEXTURE_2D,0,p.Nr,p.format,p.type,u)}null!==n&&this.BQ(q);q.bindTexture(q.TEXTURE_2D,null);this.la.mF();this.Bc=1;l.add(this)}A5(n,p,q){q=Object.assign({},m,q);if(this.mb)throw Error("already created texture");this.Hr=q.cC;this.Ir=q.dC;this.Ad=q.Hl;this.Om=q.ZJ;this.el=!!q.RB&&this.la.Mq;this.Yo=q.$v;if(!c.has(this.Hr)||!c.has(this.Ir))throw Error("invalid wrap mode");if(!a.has(this.Ad))throw Error("invalid sampling");if(!b.has(this.Om))throw Error("invalid pixel format");if(!d.has(this.Yo))throw Error("invalid mipmap quality");
this.uh=!1;this.V=Math.floor(n);this.R=Math.floor(p);n=e.gk(this.V)&&e.gk(this.R);p=this.la.CA;if(0>=this.V||0>=this.R)throw Error("invalid texture size");if(this.V>p||this.R>p)throw Error("texture exceeds maximum texture size");if(!this.la.io()&&this.ZE()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.la.P;p=this.la.Rc;this.mb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.mb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);q=g(this.Om,n);n.texImage2D(n.TEXTURE_2D,0,2<=p?q.jK:q.Nr,this.V,this.R,0,q.format,q.type,null);this.BQ(n);n.bindTexture(n.TEXTURE_2D,null);this.la.mF();this.Bc=1;l.add(this)}WE(n){if("default"===this.Yo)return this.uh?n.NICEST:n.FASTEST;if("low"===this.Yo)return n.FASTEST;if("high"===this.Yo)return n.NICEST;throw Error("invalid mipmap quality");}ZE(){return"clamp-to-edge"!==this.Hr||"clamp-to-edge"!==this.Ir}qP(n,p){if("clamp-to-edge"===p)return n.CLAMP_TO_EDGE;if("repeat"===p)return n.REPEAT;
if("mirror-repeat"===p)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}BQ(n){var p=e.gk(this.V)&&e.gk(this.R);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.qP(n,this.Hr));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.qP(n,this.Ir));"nearest"===this.Ad?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.el=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(p||this.la.io())&&this.el?(n.hint(n.GENERATE_MIPMAP_HINT,
this.WE(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.Ad||this.la.Jz?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.el=!1));(p=this.la.Pt)&&0<this.VF&&"nearest"!==this.Ad&&n.texParameterf(n.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.VF,this.la.RH))}LQ(n,p){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.mb||0>=this.Bc)throw Error("texture not created");if(this.uh)throw Error("cannot update static texture");p=Object.assign({},h,p);const q=n.width||n.videoWidth,u=n.height||n.videoHeight;var r=this.la.Rc;
const v=this.la.P;v.bindTexture(v.TEXTURE_2D,this.mb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,p.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!p.flipY);p=g(this.Om,v);r=2<=r?p.jK:p.Nr;try{if(this.V===q&&this.R===u){const w=e.gk(this.V)&&e.gk(this.R);v.texSubImage2D(v.TEXTURE_2D,0,0,0,p.format,p.type,n);(w||this.la.io())&&this.el&&(v.hint(v.GENERATE_MIPMAP_HINT,this.WE(v)),v.generateMipmap(v.TEXTURE_2D))}else{this.V=q;this.R=u;const w=e.gk(this.V)&&e.gk(this.R);if(!this.la.io()&&this.ZE()&&
!w)throw Error("non-power-of-two tiled textures not supported");v.texImage2D(v.TEXTURE_2D,0,r,p.format,p.type,n);(w||this.la.io())&&this.el&&(v.hint(v.GENERATE_MIPMAP_HINT,this.WE(v)),v.generateMipmap(v.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}v.bindTexture(v.TEXTURE_2D,null);this.la.mF()}QE(){if(0<this.Bc)throw Error("texture still has references");if(!this.mb)throw Error("already deleted texture");l.delete(this);this.la.P.deleteTexture(this.mb);this.mb=null}ib(){return this.la}j4(){if(0>=
this.Bc)throw Error("no more references");this.Bc--}ta(){return this.V}qa(){return this.R}TC(){let n=this.V*this.R;switch(this.Om){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.el&&(n+=Math.floor(n/3));return n}static Ak(){l.clear()}static Ica(){return l.values()}}}
{"use strict";const e=self.$i.Gl,b=new Set(["nearest","bilinear","trilinear"]),a={Hl:"trilinear",alpha:!0,depth:!1,QJ:!0,pU:!0,Nda:0},d=new Set;self.B.I.iO=class{constructor(c){this.la=c;this.Vj=this.mb=this.Ho=this.yg=null;this.R=this.V=0;this.Wz=!0;this.Ad="trilinear";this.yq=!0;this.Kc=!1;this.Fu=!0;this.kl=0;this.Tj=e.create()}z5(c,g,m){m=Object.assign({},a,m);const h=this.la.Rc;if(this.mb||this.Vj)throw Error("already created render target");this.Ad=m.Hl;this.yq=!!m.alpha;this.Kc=!!m.depth;this.Fu=
!!m.QJ;this.Wz=!!m.pU;this.kl=m.Nda;if(!b.has(this.Ad))throw Error("invalid sampling");if(0<this.kl&&(2>h||this.Fu))throw Error("invalid use of multisampling");2>h&&(this.Fu=!0);this.V=c;this.R=g;if(0>=this.V||0>=this.R)throw Error("invalid render target size");this.xO();c=this.la.P;this.yg=c.createFramebuffer();this.Kc&&(this.Ho=c.createFramebuffer());this.Fu?(this.mb=this.la.OK(this.V,this.R,{Hl:this.Ad,ZJ:this.yq?"rgba8":"rgb8",RB:!1}),g=this.mb.mb,c.bindFramebuffer(c.FRAMEBUFFER,this.yg),c.framebufferTexture2D(c.FRAMEBUFFER,
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0),this.Kc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ho),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,g,0))):(this.Vj=c.createRenderbuffer(),c.bindRenderbuffer(c.RENDERBUFFER,this.Vj),g=this.yq?c.RGBA8:c.RGB8,0<this.kl&&((m=c.getInternalformatParameter(c.RENDERBUFFER,g,c.SAMPLES))&&m[0]?(m=m[0],this.kl>m&&(this.kl=m)):this.kl=0),0===this.kl?c.renderbufferStorage(c.RENDERBUFFER,g,this.V,this.R):c.renderbufferStorageMultisample(c.RENDERBUFFER,
this.kl,g,this.V,this.R),c.bindFramebuffer(c.FRAMEBUFFER,this.yg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Vj),this.Kc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ho),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,this.Vj)),c.bindRenderbuffer(c.RENDERBUFFER,null));g=this.la.wg;this.Kc&&g&&(c.bindFramebuffer(c.FRAMEBUFFER,this.yg),this.la.au?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,
c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g));c.bindFramebuffer(c.FRAMEBUFFER,null);d.add(this)}iQ(c,g){if(this.V!==c||this.R!==g)this.V=c,this.R=g,this.xO(),c=this.la.P,c.bindFramebuffer(c.FRAMEBUFFER,this.yg),this.mb?this.mb.LQ(new ImageData(this.V,this.R)):(c.bindRenderbuffer(c.RENDERBUFFER,this.Vj),c.renderbufferStorage(c.RENDERBUFFER,this.yq?c.RGBA8:c.RGB8,this.V,this.R),c.bindRenderbuffer(c.RENDERBUFFER,null)),g=this.la.wg,this.Kc&&g&&(this.la.au?c.framebufferTexture2D(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,
c.TEXTURE_2D,g,0):c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_STENCIL_ATTACHMENT,c.RENDERBUFFER,g)),c.bindFramebuffer(c.FRAMEBUFFER,null)}QE(){if(!this.mb&&!this.Vj)throw Error("already deleted render target");d.delete(this);var c=this.la.P;this.mb?(c.bindFramebuffer(c.FRAMEBUFFER,this.yg),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),this.Kc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ho),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)),
this.la.cj(this.mb),this.mb=null):this.Vj&&(c.bindFramebuffer(c.FRAMEBUFFER,this.yg),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null),this.Kc&&(c.bindFramebuffer(c.FRAMEBUFFER,this.Ho),c.framebufferRenderbuffer(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.RENDERBUFFER,null)),c.deleteRenderbuffer(this.Vj),this.Vj=null);c.bindFramebuffer(c.FRAMEBUFFER,null);2<=this.la.Rc&&(c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindFramebuffer(c.DRAW_FRAMEBUFFER,null));c.deleteFramebuffer(this.yg);
this.Kc&&c.deleteFramebuffer(this.Ho);c=this.la.qc;c.Dl=null;this.yg=c.Xi=null}xO(){this.la.Bp(this.Tj,this.V/this.R)}ib(){return this.la}bg(){return this.mb}DD(){return"nearest"!==this.Ad}ta(){return this.V}qa(){return this.R}W_(c){c=Object.assign({},a,c);return"nearest"!==c.Hl!==this.DD()||!!c.alpha!==this.yq||!!c.depth!==this.Kc||2<=this.la.Rc&&!!c.QJ!==this.Fu?!1:"number"===typeof c.width||"number"===typeof c.height?!this.Wz&&this.ta()===c.width&&this.qa()===c.height:this.Wz}TC(){return this.mb?
this.mb.TC():this.V*this.R*(this.yq?4:3)}static Ak(){d.clear()}}}
{"use strict";const e=self.B;e.I.jt=class extends e.I.Y3{static async rW(b,a,d,c){const g=b.P,m=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(m,a);g.compileShader(m);a=g.createShader(g.VERTEX_SHADER);g.shaderSource(a,d);g.compileShader(a);const h=g.createProgram();g.attachShader(h,m);g.attachShader(h,a);g.bindAttribLocation(h,0,"aPos");g.bindAttribLocation(h,1,"aTex");g.bindAttribLocation(h,2,"aPoints");g.linkProgram(h);const l=b.hI;l?await b.Waa(()=>g.getProgramParameter(h,l.COMPLETION_STATUS_KHR)):
await e.dO(5);if(!g.getShaderParameter(m,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(m),g.deleteShader(m),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling fragment shader: "+c);if(!g.getShaderParameter(a,g.COMPILE_STATUS))throw c=g.getShaderInfoLog(a),g.deleteShader(m),g.deleteShader(a),g.deleteProgram(h),Error("Error compiling vertex shader: "+c);if(!g.getProgramParameter(h,g.LINK_STATUS))throw c=g.getProgramInfoLog(h),g.deleteShader(m),g.deleteShader(a),g.deleteProgram(h),Error("Error linking shader program: "+
c);(b=e.kY(g.getProgramInfoLog(h)||"").trim())&&!e.GD(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);g.deleteShader(m);g.deleteShader(a);return h}static async Ma(b,a,d,c){d=await e.I.jt.rW(b,a.src,d,c);return new e.I.jt(b,d,a,c)}constructor(b,a,d,c){super(b,c,d);const g=b.P;var m=b.qc;b.ej();g.useProgram(a);this.P=g;this.Qc=a;this.Xz="<default-device-transform>"===c;c=g.getAttribLocation(a,"aPos");const h=g.getAttribLocation(a,"aTex");this.NH=g.getAttribLocation(a,"aPoints");
-1!==c&&(g.bindBuffer(g.ARRAY_BUFFER,b.yB),g.vertexAttribPointer(c,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(c));-1!==h&&(g.bindBuffer(g.ARRAY_BUFFER,b.mB),g.vertexAttribPointer(h,2,g.FLOAT,!1,0,0),g.enableVertexAttribArray(h));-1!==this.NH&&(g.bindBuffer(g.ARRAY_BUFFER,b.MA),g.vertexAttribPointer(this.NH,4,g.FLOAT,!1,0,0),g.enableVertexAttribArray(this.NH));g.bindBuffer(g.ARRAY_BUFFER,null);this.XI=new e.I.ec(this,"matP","mat4");this.WI=new e.I.ec(this,"matMV","mat4");this.qp=new e.I.ec(this,"color",
"vec4");this.Cca=new e.I.ec(this,"samplerFront","sampler");this.$I=new e.I.ec(this,"pointTexStart","vec2");this.ZI=new e.I.ec(this,"pointTexEnd","vec2");this.cJ=new e.I.ec(this,"zElevation","float");this.aJ=new e.I.ec(this,"tileSize","vec2");this.bJ=new e.I.ec(this,"tileSpacing","vec2");this.VI=new e.I.ec(this,"color2_","vec4");this.YI=new e.I.ec(this,"outlineThickness","float");this.Er=new e.I.ec(this,"samplerBack","sampler");this.Bca=new e.I.ec(this,"samplerDepth","sampler");this.$m=new e.I.ec(this,
"destStart","vec2");this.Zm=new e.I.ec(this,"destEnd","vec2");this.Si=new e.I.ec(this,"srcStart","vec2");this.xl=new e.I.ec(this,"srcEnd","vec2");this.zl=new e.I.ec(this,"srcOriginStart","vec2");this.yl=new e.I.ec(this,"srcOriginEnd","vec2");this.Og=new e.I.ec(this,"pixelSize","vec2");this.hn=new e.I.ec(this,"seconds","float");this.an=new e.I.ec(this,"devicePixelRatio","float");this.cn=new e.I.ec(this,"layerScale","float");this.bn=new e.I.ec(this,"layerAngle","float");this.gn=new e.I.ec(this,"layoutStart",
"vec2");this.dn=new e.I.ec(this,"layoutEnd","vec2");this.JR=!!(this.Og.T||this.hn.T||this.Er.T||this.$m.T||this.Zm.T||this.Si.T||this.xl.T||this.zl.T||this.yl.T||this.an.T||this.cn.T||this.bn.T||this.gn.T||this.dn.T);b=d.parameters||[];this.rp=[];this.FT=this.Og.T||this.Si.T||this.xl.T||this.zl.T||this.yl.T;this.TG=this.UG=!1;this.qp.WL();this.VI.WL();this.Cca.rD(0);this.Er.rD(1);this.Bca.rD(2);this.$I.dg(0,0);this.ZI.dg(1,1);this.cJ.Nn(0);this.aJ.dg(0,0);this.bJ.dg(0,0);this.$m.dg(0,0);this.Zm.dg(1,
1);this.Si.dg(0,0);this.xl.dg(0,0);this.zl.dg(0,0);this.yl.dg(0,0);this.Og.dg(0,0);this.an.Nn(1);this.cn.Nn(1);this.bn.Nn(0);this.hn.Nn(0);this.gn.dg(0,0);this.dn.dg(0,0);this.YI.Nn(1);for(const l of b)b=l[2],a=new e.I.ec(this,l[0],b),"color"===b?a.m_():a.Nn(0),this.rp.push(a);this.Xz?this.PQ(m.Ov):(this.ey(m.Ov,!0),this.dy(m.EB,!0));m=m.Kh;g.useProgram(m?m.Qc:null)}j(){this.P.deleteProgram(this.Qc);this.Qc=null;this.la.Z9(this);this.P=null;super.j()}Cf(){return this.Qc}gx(b){return this.rp[b].nj()}FV(b){for(let a=
0,d=b.length;a<d;++a)if(!this.rp[a].g0(b[a]))return!1;return!0}b3(b){for(let a=0,d=b.length;a<d;++a)this.rp[a].W2(b[a])}GV(b,a,d,c,g,m,h,l,n,p){return this.Er.T||this.Og.T&&!this.Og.yk(g,m)||this.$m.T&&!this.$m.yk(b.X,b.S)||this.Zm.T&&!this.Zm.yk(b.ca,b.Z)||this.an.T&&!this.an.Ex(h)||this.cn.T&&!this.cn.Ex(l)||this.bn.T&&!this.bn.Ex(n)||this.Si.T&&!this.Si.yk(a.X,a.S)||this.xl.T&&!this.xl.yk(a.ca,a.Z)||this.zl.T&&!this.zl.yk(d.X,d.S)||this.yl.T&&!this.yl.yk(d.ca,d.Z)||this.gn.T&&!this.gn.yk(c.X,c.S)||
this.dn.T&&!this.dn.yk(c.S,c.Z)||this.hn.T&&!this.hn.Ex(p)?!1:!0}y3(b,a,d,c,g,m,h,l,n,p){this.Er.T||(this.Og.T&&this.Og.Ek(g,m),this.$m.T&&this.$m.Ek(b.X,b.S),this.Zm.T&&this.Zm.Ek(b.ca,b.Z),this.an.T&&this.an.Tx(h),this.cn.T&&this.cn.Tx(l),this.bn.T&&this.bn.Tx(n),this.Si.T&&this.Si.Ek(a.X,a.S),this.xl.T&&this.xl.Ek(a.ca,a.Z),this.zl.T&&this.zl.Ek(d.X,d.S),this.yl.T&&this.yl.Ek(d.ca,d.Z),this.gn.T&&this.gn.Ek(c.X,c.S),this.dn.T&&this.dn.Ek(c.S,c.Z),this.hn.T&&this.hn.Tx(p))}ey(b,a){this.UG&&!a||
this.Xz||(this.XI.T&&this.XI.fy(b),this.UG=!0)}w3(){this.UG=!1}dy(b,a){this.TG&&!a||this.Xz||(this.WI.T&&this.WI.fy(b),this.TG=!0)}v3(){this.TG=!1}PQ(b){if(!this.Xz)throw Error("not device transform shader");this.XI.fy(b);b=this.la;const a=b.ta()/2,d=b.qa()/2;b=b.$r(a,d,100*self.devicePixelRatio,a,d);this.WI.fy(b)}y4(b){this.qp.T&&this.qp.cy(b[0],b[1],b[2],b[3])}static Sw(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const e=self.B,b=self.$i.Gl,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);e.I.ec=class{constructor(d,c,g){if(!a.has(g))throw Error("invalid uniform type");this.ic=d;this.P=this.ic.P;this.Da=c;this.ra=g;this.kH="color"===this.ra;this.yh=this.P.getUniformLocation(this.ic.Cf(),c);this.T=!!this.yh;d=a.get(g);this.Rb=new Float32Array(d);this.Ji=new Float32Array(d)}j(){this.yh=this.P=this.ic=null}nj(){return this.ra}Nn(d){this.T&&
(this.Rb[0]=d,this.Ji.set(this.Rb),this.P.uniform1f(this.yh,d))}rD(d){this.T&&(this.Rb[0]=d,this.Ji.set(this.Rb),this.P.uniform1i(this.yh,d))}dg(d,c){this.T&&(this.Rb[0]=d,this.Rb[1]=c,this.Ji.set(this.Rb),this.P.uniform2f(this.yh,d,c))}m_(){this.T&&(this.Rb[0]=0,this.Rb[1]=0,this.Rb[2]=0,this.Ji.set(this.Rb),this.P.uniform3f(this.yh,0,0,0))}WL(){this.T&&(this.Rb[0]=1,this.Rb[1]=1,this.Rb[2]=1,this.Rb[3]=1,this.Ji.set(this.Rb),this.P.uniform4f(this.yh,1,1,1,1))}ko(d){d=Math.fround(d);const c=this.Rb;
c[0]!==d&&(c[0]=d,this.P.uniform1f(this.yh,d))}we(d,c){d=Math.fround(d);c=Math.fround(c);const g=this.Rb;if(g[0]!==d||g[1]!==c)g[0]=d,g[1]=c,this.P.uniform2f(this.yh,d,c)}w4(d,c,g){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);const m=this.Rb;if(m[0]!==d||m[1]!==c||m[2]!==g)m[0]=d,m[1]=c,m[2]=g,this.P.uniform3f(this.yh,d,c,g)}cy(d,c,g,m){d=Math.fround(d);c=Math.fround(c);g=Math.fround(g);m=Math.fround(m);const h=this.Rb;if(h[0]!==d||h[1]!==c||h[2]!==g||h[3]!==m)h[0]=d,h[1]=c,h[2]=g,h[3]=m,this.P.uniform4f(this.yh,
d,c,g,m)}fy(d){const c=this.Rb;b.Zi(c,d)||(e.zea(c,d),this.P.uniformMatrix4fv(this.yh,!1,d))}g0(d){const c=this.Ji;return this.kH?c[0]===Math.fround(d.Ra)&&c[1]===Math.fround(d.Ua)&&c[2]===Math.fround(d.Ta):c[0]===Math.fround(d)}W2(d){const c=this.Ji;this.kH?(c[0]=d.Ra,c[1]=d.Ua,c[2]=d.Ta):c[0]=d}Ex(d){return this.Ji[0]===Math.fround(d)}yk(d,c){const g=this.Ji;return g[0]===Math.fround(d)&&g[1]===Math.fround(c)}Tx(d){this.Ji[0]=d}Ek(d,c){const g=this.Ji;g[0]=d;g[1]=c}}}
{"use strict";const e=self.B,b=self.$i,a=b.gw,d=b.Gl;e.I.MV=class{constructor(c){this.rn=c;this.EB=d.create();this.Ov=d.create();this.Xi=this.Dl=null;this.qU=!1;this.DB=a.tf(1,1,1,1);this.Kh=null;this.$J=new e.Rect;this.clearColor=e.m(e.Za,0,0,0,0)}};e.I.J4=class{constructor(c){const g=new ArrayBuffer(96);this.ra=0;this.qc=c;this.P=c.rn.P;this.cl=this.ie=0;this.Ge=null;this.gf=new Float32Array(g,0,16);this.xo=new Float32Array(g,64,4);this.pT=new Float32Array(g,80,4);this.XA=[]}A_(c){this.ra=1;this.ie=
c;this.cl=6}cX(){const c=this.P;c.drawElements(c.TRIANGLES,this.cl,c.UNSIGNED_SHORT,this.ie)}J_(c){this.ra=2;this.Ge=c}qX(){const c=this.P,g=this.Ge;c.bindTexture(c.TEXTURE_2D,g?g.mb:null)}sD(c){this.ra=3;c.Ph(this.xo,0)}eX(){const c=this.xo,g=this.qc;a.ma(g.DB,c);g.Kh.y4(c)}iX(){const c=this.xo,g=this.qc.Kh;g.VI.T&&g.VI.cy(c[0],c[1],c[2],c[3])}B_(c,g){this.ra=4;this.ie=c;this.cl=g}dX(){this.P.blendFunc(this.ie,this.cl)}K_(c,g){this.ra=5;const m=this.xo;m[0]=0;m[1]=0;m[2]=c;m[3]=g}sX(){const c=this.xo;
this.P.viewport(c[0],c[1],c[2],c[3])}H_(c){this.ra=6;d.ma(this.gf,c)}nX(){const c=this.qc,g=c.rn.to,m=c.Kh,h=this.gf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.ey(h,!0):p.w3()}d.ma(c.Ov,h)}E_(c){this.ra=7;d.ma(this.gf,c)}jX(){const c=this.qc,g=c.rn.to,m=c.Kh,h=this.gf;for(let l=0,n=g.length;l<n;++l){const p=g[l];p===m?p.dy(h,!0):p.v3()}d.ma(c.EB,h)}I_(c){this.ra=8;this.Ge=c}pX(){const c=this.P,g=this.Ge,m=this.qc;g?(m.Dl=g.yg,m.Xi=g.Ho,m.qU&&m.Xi?c.bindFramebuffer(c.FRAMEBUFFER,m.Xi):c.bindFramebuffer(c.FRAMEBUFFER,
m.Dl)):(m.Dl=null,m.Xi=null,c.bindFramebuffer(c.FRAMEBUFFER,null))}q_(c){this.ra=9;c.Ph(this.gf,0)}r_(){this.ra=9;const c=this.gf;c[0]=0;c[1]=0;c[2]=0;c[3]=0}WW(){const c=this.P;var g=this.gf;const m=this.qc.clearColor,h=g[0],l=g[1],n=g[2];g=g[3];m.HB(h,l,n,g)||(c.clearColor(h,l,n,g),m.sn(h,l,n,g));c.clear(c.COLOR_BUFFER_BIT)}kX(){const c=this.gf;this.qc.$J.set(c[0],c[1],c[2],c[3])}bX(){const c=this.P,g=this.qc,m=g.rn.dB;c.useProgram(m.Qc);m.ey(g.Ov,!1);m.dy(g.EB,!1);var h=g.$J;m.$I.T&&m.$I.we(h.X,
h.S);m.ZI.T&&m.ZI.we(h.ca,h.Z);h=this.gf[0];m.cJ.T&&m.cJ.ko(h);m.qp.T&&(h=g.DB,m.qp.cy(h[0],h[1],h[2],h[3]));c.drawArrays(c.POINTS,this.ie/4,this.cl);c.useProgram(g.Kh.Qc)}F_(c){this.ra=11;this.Ge=c}lX(){var c=this.P;const g=this.qc,m=this.Ge;g.Kh=m;c.useProgram(m.Qc);m.ey(g.Ov,!1);m.dy(g.EB,!1);m.qp.T&&(c=g.DB,m.qp.cy(c[0],c[1],c[2],c[3]))}G_(){this.ra=12}mX(){const c=this.qc.Kh;c.JR&&this.t6(c);c.rp.length&&this.u6(c)}t6(c){const g=this.P,m=this.gf,h=this.xo,l=this.pT;if(c.Er.T){const n=this.qc.rn,
p=this.Ge;n.Fm!==p&&(g.activeTexture(g.TEXTURE1),g.bindTexture(g.TEXTURE_2D,p?p.mb:null),n.Fm=p,g.activeTexture(g.TEXTURE0))}c.Og.T&&c.Og.we(m[0],m[1]);c.$m.T&&c.$m.we(m[2],m[3]);c.Zm.T&&c.Zm.we(m[4],m[5]);c.an.T&&c.an.ko(this.cl);c.cn.T&&c.cn.ko(m[6]);c.bn.T&&c.bn.ko(m[7]);c.Si.T&&c.Si.we(m[12],m[13]);c.xl.T&&c.xl.we(m[14],m[15]);c.zl.T&&c.zl.we(l[0],l[1]);c.yl.T&&c.yl.we(l[2],l[3]);c.gn.T&&c.gn.we(h[0],h[1]);c.dn.T&&c.dn.we(h[2],h[3]);c.hn.T&&c.hn.ko(this.ie)}u6(c){c=c.rp;const g=this.XA;for(let m=
0,h=c.length;m<h;++m){const l=c[m],n=g[m];l.kH?l.w4(n.Ra,n.Ua,n.Ta):l.ko(n)}}w_(c){this.ra=13;this.Ge=c}aX(){const c=this.P,g=this.Ge,m=this.qc.Dl;g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,g);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);g!==m&&c.bindFramebuffer(c.FRAMEBUFFER,m)}n_(c,g){this.ra=16;var m=this.gf;const h=this.qc.rn;m[0]=c.ta();m[1]=c.qa();m[2]=g?g.ta():h.ta();m[3]=g?g.qa():h.qa();m[4]=c.DD()?1:0;m[5]=!0;m=this.XA;e.D(m);m.push(c.yg);m.push(g?g.yg:null)}UW(){var c=this.gf,
g=this.XA;const m=this.P;var h=c[0],l=c[1],n=c[2];const p=c[3],q=0!==c[4];c=0!==c[5];const u=g[1];m.bindFramebuffer(m.READ_FRAMEBUFFER,g[0]);m.bindFramebuffer(m.DRAW_FRAMEBUFFER,u);c?m.blitFramebuffer(0,0,h,l,0,0,n,p,m.COLOR_BUFFER_BIT,q?m.LINEAR:m.NEAREST):(g=Math.min(h,n),h=Math.min(l,p),n=Math.max(l-p,0),l=Math.max(p-l,0),m.blitFramebuffer(0,n,g,h+n,0,l,g,h+l,m.COLOR_BUFFER_BIT,m.NEAREST))}M_(c){this.ra=17;this.Ge=c}tX(){this.Ge.nC();this.Ge=null}v_(c){this.ra=18;this.Ge=c}$W(){this.Ge.FC();this.Ge=
null}hX(){const c=this.qc.Kh,g=this.gf;c.Og.T&&c.Og.we(g[0],g[1]);c.YI.T&&c.YI.ko(g[2])}rX(){const c=this.qc.Kh,g=this.gf;c.Si.T&&c.Si.we(g[0],g[1]);c.Og.T&&c.Og.we(g[4],g[5]);c.aJ.T&&c.aJ.we(g[6],g[7]);c.bJ.T&&c.bJ.we(g[8],g[9])}p_(c){this.ra=21;this.ie=c?1:0}VW(){const c=this.P,g=0!==this.ie;g||c.depthMask(!0);c.clear(c.DEPTH_BUFFER_BIT);g||c.depthMask(!1)}C_(c){this.ra=22;this.ie=c?1:0}fX(){const c=this.P;0===this.ie?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}D_(c){this.ra=
23;this.ie=c?1:0}gX(){const c=this.P,g=this.qc,m=g.rn,h=0!==this.ie;g.qU=h;c.activeTexture(c.TEXTURE2);h?(g.Xi&&c.bindFramebuffer(c.FRAMEBUFFER,g.Xi),c.bindTexture(c.TEXTURE_2D,m.wg)):(c.bindTexture(c.TEXTURE_2D,null),g.Xi&&c.bindFramebuffer(c.FRAMEBUFFER,g.Dl));c.activeTexture(c.TEXTURE0)}u_(){this.ra=24}ZW(){const c=this.P;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}t_(){this.ra=25}YW(){const c=
this.P;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}s_(){this.ra=26}XW(){const c=this.P;c.disable(c.STENCIL_TEST)}ka(){switch(this.ra){case 1:this.cX();break;case 2:this.qX();break;case 3:this.eX();break;case 4:this.dX();break;case 5:this.sX();break;case 6:this.nX();break;case 7:this.jX();break;case 8:this.pX();break;case 9:this.WW();break;case 10:this.bX();break;case 11:this.lX();break;case 12:this.mX();break;case 13:this.aX();break;case 14:this.kX();break;
case 15:this.rX();break;case 16:this.UW();break;case 17:this.tX();break;case 18:this.$W();break;case 19:this.hX();break;case 20:this.iX();break;case 21:this.VW();break;case 22:this.fX();break;case 23:this.gX();break;case 24:this.ZW();break;case 25:this.YW();break;case 26:this.XW()}}}}
{"use strict";const e=self.B,b={timeout:60},a=new e.Za(0,0,0,1),d=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),g=new Set(["word","character"]),m=new Set;e.nY&&e.nY.addEventListener("fontload",p=>{p=p.font.Aa();for(const q of m)(q.th||e.Yi(q.Az,p))&&q.Gj()});function h(p,q,u,r,v,w){q?"Gecko"===e.Fb.pw?p.strokeText(u,r,v,w):p.strokeText(u,r,v):"Gecko"===e.Fb.pw?p.fillText(u,r,v,w):p.fillText(u,r,v)}let l=!1,n=!1;e.I.VD=class{constructor(p,q){q=Object.assign({},b,q);this.la=
p;this.Az="Arial";this.Bz=16;this.Cz=1;this.Wo=0;this.cf=this.bf=!1;this.gz="black";this.th=!1;this.WJ=null;this.SF=new Set;this.$e="left";this.Je="top";this.$c="";this.Wt=null;this.kn=e.m(e.DE);this.mJ="word";this.wH=this.nB=!1;this.Au=!0;this.Ao=-1;this.R=this.V=this.tG=this.Gq=this.Lq=0;this.Jh=1;this.oG=!1;this.Xu=this.jl=this.Qd=this.lp=null;this.lS=this.mS=-1;this.pA=this.nS=this.BH="";this.CH=this.DH=1;this.AS=(u,r)=>this.RP(u,r);this.mb=null;this.xv=this.zv=0;this.kf=new e.Rect;this.kv=1;
this.YH=!1;this.QI=new e.i_(()=>{this.Ck();this.AQ(8,8)},q.timeout);this.SB=null;this.Lv=!1;m.add(this)}j(){this.WJ=null;this.SF.clear();this.AS=this.Xu=this.jl=this.Qd=this.lp=this.Wt=null;this.QI.j();this.SB=null;this.Ck();this.kn.jd();this.la=this.kn=null;this.Lv=!0;m.delete(this)}qo(){this.oG=!0}Gj(){this.qo();this.kn.jd();this.nB=!0}xN(){this.Au=!1}eg(){return this.Au}V2(p){p=!!p;this.th!==p&&(p=(this.th=p)?"alphabetic":"top",this.Qd&&(this.Qd.textBaseline=p),this.jl&&(this.jl.textBaseline=p),
this.Gj())}hE(p){p||(p="serif");this.Az!==p&&(this.Az=p,this.Gj())}Wx(p){.1>p&&(p=.1);this.Bz!==p&&(this.Bz=p,this.Gj())}l3(p){this.Cz!==p&&(this.Cz=p,this.Gj())}BN(p){this.Wo!==p&&(this.Wo=p,this.qo())}lN(p){p=!!p;this.bf!==p&&(this.bf=p,this.Gj())}zN(p){p=!!p;this.cf!==p&&(this.cf=p,this.Gj())}gE(p){p=Math.floor(p);this.Ao!==p&&(this.Ao=p,this.qo())}mi(p,q){for(let u=p.length-1;0<=u;--u){const r=p[u];if(r.tag===q)return r}return null}qq(p,q){return!!this.mi(p,q)}dP(p,q){let u=[];(this.bf||this.qq(q,
"b"))&&u.push("bold");(this.cf||this.qq(q,"i"))&&u.push("italic");var r=this.mi(q,"size");r=(r?parseFloat(r.Mh):this.Bz)*this.Cz;p?u.push(r+"pt"):u.push(r*this.kv*this.Jh*self.devicePixelRatio+"pt");p=this.Az;(q=this.mi(q,"font"))&&q.Mh&&(p=q.Mh,this.WJ&&!this.SF.has(p)&&(this.WJ(p),this.SF.add(p)));p&&u.push('"'+p+'"');return u.join(" ")}gm(p){p instanceof e.Za&&(p=p.nda());this.gz!==p&&(this.gz=p,this.qo())}nN(p,q,u){a.Vr(p,q,u);this.gm(a)}vN(p){if(!d.has(p))throw Error("invalid horizontal alignment");
this.$e!==p&&(this.$e=p,this.qo())}PN(p){if(!c.has(p))throw Error("invalid vertical alignment");this.Je!==p&&(this.Je=p,this.qo())}V3(p){if(!g.has(p))throw Error("invalid word wrap mode");this.mJ!==p&&(this.mJ=p,this.Gj())}ft(p){this.$c!==p&&(this.$c=p,this.Gj())}Id(p,q,u){"undefined"===typeof u&&(u=1);if(!(0>=p||0>=p||this.Gq===p&&this.tG===q&&this.Jh===u)){1===this.Jh!==(1===u)&&(this.YH=!0);var r=this.Gq,v=this.Jh;this.Gq=p;this.tG=q;this.Jh=u;p=self.devicePixelRatio;this.V=this.Gq*this.Jh*p;this.R=
this.tG*this.Jh*p;p=Math.max(this.V,this.R);q=Math.min(this.la.CA,2048);u=1;p>q&&(u=q/p,this.V=Math.min(this.V*u,q),this.R=Math.min(this.R*u,q));this.kv=u;0<this.zv&&0<this.xv&&this.Jh===v&&this.kf.set(0,0,this.V/this.zv,this.R/this.xv);this.Gq!==r?this.Gj():this.qo()}}ta(){return this.V}qa(){return this.R}AZ(){this.gF();return this.kn.kZ()}zZ(){this.gF();return this.kn.DZ()+this.kn.Gm.length*(this.Wo+4)-this.Wo}bg(){this.QI.Yc();this.D8();return this.mb}D8(){this.mb&&!this.oG&&!this.nB||this.wH||
0>=this.V||0>=this.R||(this.oG=!1,this.wH=!0,this.Au?e.hk(()=>this.OO()):this.OO())}OO(){this.Lv||(this.AQ(Math.ceil(this.V),Math.ceil(this.R)),this.gF(),this.L6(),this.Raa(),this.QI.Yc(),this.wH=!1)}AQ(p,q){this.lp||(this.lp=e.Sg(16,16));let u=!1;if(this.mS!==p||this.lS!==q)this.mS=p,this.lS=q,this.lp.width=p,this.lp.height=q,u=!0;this.Qd||(this.Qd=this.lp.getContext("2d"),u=!0);u?(this.Qd.textBaseline=this.th?"alphabetic":"top",this.Qd.font=this.BH,this.Qd.fillStyle=this.pA,this.Qd.strokeStyle=
this.pA,this.Qd.globalAlpha=this.DH,this.Qd.lineWidth=this.CH):this.Qd.clearRect(0,0,p,q)}JP(){this.jl||(this.jl=e.Sg(16,16).getContext("2d"),this.Xu=e.Sg(16,16).getContext("2d"),this.jl.textBaseline=this.th?"alphabetic":"top",this.Xu.textBaseline="top")}iaa(p){this.nS!==p&&(this.nS=p,this.jl.font=p,this.Xu.font=p)}IQ(){if(!l){l=!0;this.JP();const p=this.jl.measureText("test");n="number"===typeof p.fontBoundingBoxAscent&&"number"===typeof p.fontBoundingBoxDescent}return n}gF(){this.nB&&(this.JP(),
!this.th||this.Wt&&this.Wt.toString()===this.$c||(this.Wt=new e.Nl(this.$c,{Pda:!0})),this.kn.DE(this.th?this.Wt.tea():this.$c,this.AS,this.Gq,this.mJ,0),this.nB=!1)}RP(p,q){this.iaa(this.dP(!0,q));q=this.mi(q,"size");q=(q?parseFloat(q.Mh):this.Bz)*this.Cz;const u=this.jl.measureText(p);let r=0;this.th&&this.IQ()&&(r=u.fontBoundingBoxAscent-this.Xu.measureText(p).fontBoundingBoxAscent);return{width:u.width,height:4/3*q,Wf:u.fontBoundingBoxAscent||0,sf:u.fontBoundingBoxDescent||0,vf:r}}T$(p){this.BH!==
p&&(this.BH=p,this.Qd.font=p)}Gy(p){this.pA!==p&&(this.pA=p,this.Qd.fillStyle=p,this.Qd.strokeStyle=p)}S$(p){this.DH!==p&&(this.DH=p,this.Qd.globalAlpha=p)}vQ(p){this.CH!==p&&(this.CH=p,this.Qd.lineWidth=p)}L6(){this.Lq=0;const p=this.kv*this.Jh*self.devicePixelRatio,q=(4+this.Wo)*p;var u=0;const r=this.kn.Gm;if(0!==r.length){var v=this.th&&this.IQ(),w=r[0].height*p;"center"===this.Je?(u=r.reduce((y,A)=>y+A.height*p+q,0)-q,u=Math.max(this.R/2-u/2,0),v&&(w=r[0].vf*p)):"bottom"===this.Je&&(u=r.reduce((y,
A)=>y+A.height*p+q,0)-this.Wo*p,u=this.R-u-(v?r.Sd(-1).sf*p:0)-2);for(let y=0,A=r.length;y<A;++y){v=r[y];const G=v.height*p,z=u;if(this.th){if(u+=0===y?w:G,0<y&&u>this.R-4*p)break}else if(0<y&&u>=this.R-G)break;0<=z&&this.K6(v,u,p);this.th||(u+=G);u+=q}}}K6(p,q,u){let r=0;"center"===this.$e?r=(this.V-p.width*u)/2:"right"===this.$e&&(r=this.V-p.width*u);for(const v of p.iU)this.J6(v,r,q,u,p.height),r+=v.width*u}J6(p,q,u,r,v){const w=this.Qd;var y=v/16;v=p.width*r;const A=p.height*r,G=p.height/16;var z=
(4+this.Wo)*r,F=p.cd,I=p.text;if(-1!==this.Ao){if(this.Lq>=this.Ao)return;this.Lq+I.length>this.Ao&&(I=I.substr(0,this.Ao-this.Lq),v=this.RP(I,F).width*r);this.Lq+=I.length}var J=this.mi(F,"background"),M=this.qq(F,"u");p=this.qq(F,"s");if((!e.GD(I)||J||M||p)&&!this.qq(F,"hide")){var P=this.mi(F,"offsetx");q+=P?parseFloat(P.Mh)*r:0;P=this.mi(F,"offsety");u+=P?parseFloat(P.Mh)*r:0;J&&(this.Gy(J.Mh),w.fillRect(q,u-A,v,A+z));P=this.mi(F,"color");this.Gy(P?P.Mh:this.gz);z=this.mi(F,"opacity");this.S$(z?
parseFloat(z.Mh)/100:1);z=(z=this.mi(F,"linethickness"))?parseFloat(z.Mh):1;(J=this.qq(F,"stroke"))&&this.vQ(.5*G*z*this.kv*this.Jh*self.devicePixelRatio);this.T$(this.dP(!1,F));h(w,J,I,q,u,v);!J&&(this.vQ(.5*G*z*this.kv*this.Jh*self.devicePixelRatio),F=this.mi(F,"outline"))&&(this.Gy(F.Mh),h(w,!0,I,q,u,v));this.Gy(P?P.Mh:this.gz);M&&(F=q,I=u+r*y,M=v,y=r*y*z,J?w.strokeRect(F,I,M,y):w.fillRect(F,I,M,y));p&&(r*=G,w.fillRect(q,u-A/4+r/2-r*z/2,v,r*z))}}Raa(){this.la.Pn()||(this.zv=Math.ceil(this.V),this.xv=
Math.ceil(this.R),this.kf.set(0,0,this.V/this.zv,this.R/this.xv),this.YH&&(this.Ck(),this.YH=!1),this.mb||(this.mb=this.la.OK(this.zv,this.xv,{RB:1===this.Jh,$v:"high"})),this.la.B4(this.lp,this.mb),this.SB&&this.SB())}Ck(){this.mb&&(this.la.Pn()||this.la.cj(this.mb),this.mb=null)}static Ak(){for(const p of m)p.Ck()}}}
{"use strict";const e=self.B;class b{constructor(a){this.P=a.P;this.Rc=a.Rc;this.qd=a.qd;this.Bh=null;this.ru=this.Cb=!1;this.UA=0;this.Bh=1===this.Rc?this.qd.createQueryEXT():this.P.createQuery()}j(){this.JO();this.qd=this.P=null;this.ru=!1}JO(){this.Bh&&(1===this.Rc?this.qd.deleteQueryEXT(this.Bh):this.P.deleteQuery(this.Bh),this.Bh=null)}nC(){if(this.Cb)throw Error("query already active");1===this.Rc?this.qd.beginQueryEXT(this.qd.TIME_ELAPSED_EXT,this.Bh):this.P.beginQuery(this.qd.TIME_ELAPSED_EXT,
this.Bh);this.Cb=!0}FC(){if(!this.Cb)throw Error("query not active");1===this.Rc?this.qd.endQueryEXT(this.qd.TIME_ELAPSED_EXT):this.P.endQuery(this.qd.TIME_ELAPSED_EXT);this.Cb=!1}wC(){if(this.Bh&&!this.ru&&!this.Cb){var a=1===this.Rc?this.qd.getQueryObjectEXT(this.Bh,this.qd.QUERY_RESULT_AVAILABLE_EXT):this.P.getQueryParameter(this.Bh,this.P.QUERY_RESULT_AVAILABLE);var d=this.P.getParameter(this.qd.GPU_DISJOINT_EXT);a&&!d&&(this.UA=1===this.Rc?this.qd.getQueryObjectEXT(this.Bh,this.qd.QUERY_RESULT_EXT):
this.P.getQueryParameter(this.Bh,this.P.QUERY_RESULT),this.UA/=1E9,this.ru=!0);(a||d)&&this.JO()}}xx(){return this.ru}mx(){if(!this.ru)throw Error("no result available");return this.UA}}e.I.L4=class{constructor(a){this.la=a;this.qh=a.qh;this.Cb=!1;this.Mm=null;this.Dm=!1;this.kr=null;this.ep=[]}j(){for(const a of this.ep)a instanceof b&&a.j();e.D(this.ep);this.la=this.kr=this.Mm=null}nC(){if(this.Cb)throw Error("query already active");const a=this.la.vT;0<a.length?(this.Dm=!0,this.Mm=a.Sd(-1),this.Mm.TO(),
this.Mm.ep.push(this)):(this.Dm=!1,this.Mm=null);this.Cb=!0;a.push(this);this.GQ()}FC(){if(!this.Cb)throw Error("query not active");if(this.la.vT.pop()!==this)throw Error("can only end most nested query");this.Cb=!1;this.TO();this.Mm&&(this.Mm.GQ(),this.Mm=null)}GQ(){this.kr=e.m(b,this.la);this.ep.push(this.kr);this.kr.nC()}TO(){this.kr.FC();this.kr=null}wC(){for(const a of this.ep)a.wC()}xx(){return this.ep.every(a=>a.xx())}mx(){return this.ep.reduce((a,d)=>a+d.mx(),0)}}}
{"use strict";const e=self.B;e.I.hO=class{constructor(b,a=1E3){this.la=b;this.dca=a;this.Jj=[];this.la.e5(this)}j(){this.jd();this.la.Y9(this);this.la=null}jd(){for(const b of this.Jj)b.j();e.D(this.Jj)}lC(){const b=new e.I.L4(this.la);this.Jj.push(b);this.Jj.length>this.dca&&this.Jj.shift().j();return b}fW(b){for(const a of this.Jj){if(a.qh>=b)break;if(a.Dm)break;a.wC()}}tL(b,a){if(a<=b)return NaN;let d=0;for(const c of this.Jj){if(c.qh>=a)break;if(!(c.qh<b))if(c.xx())d+=c.mx();else return NaN}return d}UK(b){for(let a=
0,d=this.Jj.length;a<d;++a){const c=this.Jj[a];if(c.qh<b)c.j();else{0<a&&this.Jj.splice(0,a);break}}}}}
{"use strict";const e=self.B,b=self.$i,a=b.gw,d=b.Gl,c={powerPreference:"default",gU:!0,alpha:!1,RJ:!1,depth:!1,vJ:!1,xU:2,failIfMajorPerformanceCaveat:!1},g=new Set(["default","low-power","high-performance"]),m=new e.sd(0,0,1,0,1,1,0,1),h=d.create(),l=d.create(),n=new e.sd,p=new e.Rect;let q=null;e.Vv&&(self.Koa=function(){q?q.loseContext():console.warn("WEBGL_lose_context not supported")},self.Loa=function(){q?q.restoreContext():console.warn("WEBGL_lose_context not supported")});const u=new Set;
let r=-1;function v(){r=-1;for(const w of u)w.Rca()&&(w.resolve(),u.delete(w));0<u.size&&(r=self.requestAnimationFrame(v))}e.I.K4=class extends e.I.u2{constructor(w,y){super();y=Object.assign({},c,y);if(!g.has(y.powerPreference))throw Error("invalid power preference");const A={alpha:!!y.alpha,depth:!1,antialias:!1,powerPreference:y.powerPreference,failIfMajorPerformanceCaveat:!!y.failIfMajorPerformanceCaveat};y.RJ&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let G=null,z=0;2<=y.xU&&(G=w.getContext("webgl2",
A),z=2);G||(G=w.getContext("webgl",A),z=1);if(!G)throw Error("failed to initialise WebGL context");this.P=G;this.VQ=G.getContextAttributes();y.RJ&&!this.VQ.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");G.getParameter(G.VERSION);this.Rc=z;this.Uf=a.create();this.xm=!1;this.aG=d.create();this.Bl=!!y.depth;this.au=!(!y.depth||!y.vJ);this.Oo=this.Bl;this.lH=!1;this.wg=null;this.jH=!0;this.fR=this.gR=0;this.MA=this.TR=this.mB=this.yB=null;this.Jv=
new Float32Array(24E3);this.UR=new Uint16Array(12E3);this.ur=new Float32Array(16E3);this.PS=new Float32Array(32E3);this.oS=this.NA=this.Rf=this.Ih=0;this.ip=this.Uo=null;this.Vt=[];this.kc=this.rm=0;this.Jd=null;this.qc=e.m(e.I.MV,this);this.Qu=e.m(e.Za,1,1,1,1);this.Fm=this.hl=null;this.yH=this.AH=0;this.Xba=new e.Rect;this.CA=-1;this.SH=0;this.Fr="(unavailable)";this.oH=!1;this.iu=this.Pt=this.hI=null;this.RH=0;this.Uba=!!y.gU;this.qd=null;this.Sy=new Set;this.vT=[];this.jY(this.UR)}zk(){return!0}async Ax(){super.Ax();
var w=this.P;this.Qu.sn(1,1,1,1);this.Fm=this.hl=null;this.NA=this.Ih=0;this.oS=23988;e.D(this.Vt);this.kc=this.rm=0;this.Jd=this.Uo=null;this.Xba.set(0,0,1,1);var y=this.qc;y.Kh=null;y.Dl=null;y.Xi=null;a.set(y.DB,1,1,1,1);y.clearColor.sn(0,0,0,0);y.$J.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.AH=w.ONE;this.yH=w.ONE_MINUS_SRC_ALPHA;this.H7(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Bl?
(w.enable(w.DEPTH_TEST),w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.Oo=this.Bl;this.lH=!1;this.MA=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.MA);w.bufferData(w.ARRAY_BUFFER,this.PS.byteLength,w.DYNAMIC_DRAW);this.yB=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.yB);w.bufferData(w.ARRAY_BUFFER,this.Jv.byteLength,w.DYNAMIC_DRAW);this.mB=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.mB);w.bufferData(w.ARRAY_BUFFER,this.ur.byteLength,w.DYNAMIC_DRAW);
this.TR=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,this.TR);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.UR,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.CA=w.getParameter(w.MAX_TEXTURE_SIZE);this.SH=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.SH&&(this.SH=2048);if(y=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(y.UNMASKED_VENDOR_WEBGL),this.Fr=w.getParameter(y.UNMASKED_RENDERER_WEBGL);this.hI=w.getExtension("KHR_parallel_shader_compile");
e.Vv&&(q=w.getExtension("WEBGL_lose_context"));if(this.Uba)if(1===this.Rc){if("Chromium"!==e.Fb.pw||81<=e.Fb.pC||"undefined"!==typeof document)this.qd=w.getExtension("EXT_disjoint_timer_query")}else this.qd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.RH=(this.Pt=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Pt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;if(2>this.Rc&&this.Bl&&this.au&&(this.iu=w.getExtension("WEBGL_depth_texture"),
!this.iu))throw Error("no depth texture support");w=e.I.jt;y=w.Sw(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",y,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",y,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
y,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",y,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
y,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
y,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",y,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.Sw(!0),"<tilemap>"]].map(A=>this.AC({src:A[0]},A[1],A[2])));this.eB=w[0];this.ip=w[1];this.dB=w[2];this.DI=w[3];this.yj()}async AC(w,y,A){w=await e.I.jt.Ma(this,w,y,A);this.f5(w);return w}B2(){this.Uo=null}Id(w,y,A){if(this.V!==w||this.R!==y||A){this.ej();A=this.P;var G=this.qc;this.V=w;this.R=y;this.DQ(w,y);this.Bp(this.aG,w/y);this.fo(this.aG);this.ip&&(A.useProgram(this.ip.Cf()),this.ip.PQ(this.BA),this.Uo=this.ip,this.qc.Kh=this.ip);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Fm=this.hl=null;this.Bl&&this.jH&&this.uF(this.V,this.R);this.Jd&&this.Jd.iQ(this.V,this.R);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Jd=null;G.Dl=null;G.Xi=null}}uF(w,y){const A=this.P;this.wg&&this.gR===w&&this.fR===y||(this.au?(this.wg&&A.deleteTexture(this.wg),this.wg=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.wg),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,
A.NEAREST),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),2<=this.Rc?A.texImage2D(A.TEXTURE_2D,0,A.DEPTH24_STENCIL8,w,y,0,A.DEPTH_STENCIL,A.UNSIGNED_INT_24_8,null):this.iu&&A.texImage2D(A.TEXTURE_2D,0,A.DEPTH_STENCIL,w,y,0,A.DEPTH_STENCIL,this.iu.UNSIGNED_INT_24_8_WEBGL,null),A.bindTexture(A.TEXTURE_2D,null)):(this.wg&&A.deleteRenderbuffer(this.wg),this.wg=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.wg),
A.renderbufferStorage(A.RENDERBUFFER,2<=this.Rc?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,w,y),A.bindRenderbuffer(A.RENDERBUFFER,null)),this.gR=w,this.fR=y)}k3(w,y){this.Bl&&(this.jH=!1,this.uF(w,y))}U2(){this.Bl&&(this.jH=!0,this.uF(this.V,this.R))}DQ(w,y){const A=this.Uf;if(0!==A[0]||0!==A[1]||A[2]!==w||A[3]!==y)this.vc().K_(w,y),a.set(A,0,0,w,y),this.kc=0}fo(w){d.Zi(this.BA,w)||(this.vc().H_(w),d.ma(this.BA,w),this.kc=0,this.xm=!0)}qN(){let w,y;var A=this.Jd;null===A?(w=this.aG,y=this.ta(),A=this.qa()):
(w=A.Tj,y=A.ta(),A=A.qa());this.fo(w);this.DQ(y,A)}hq(w){d.Zi(this.PH,w)||(this.vc().E_(w),d.ma(this.PH,w),this.kc=0,this.xm=!0)}z2(){this.xm=!1}vc(){const w=this.Vt;this.rm===w.length&&w.push(new e.I.J4(this.qc));return w[this.rm++]}ej(){0===this.rm||this.Pn()||(this.$aa(),this.O6(),this.kc=this.NA=this.Rf=this.Ih=this.rm=0)}$aa(){const w=this.P;0<this.NA&&(w.bindBuffer(w.ARRAY_BUFFER,this.MA),w.bufferSubData(w.ARRAY_BUFFER,0,this.PS.subarray(0,this.NA)));0<this.Ih&&(w.bindBuffer(w.ARRAY_BUFFER,
this.yB),w.bufferSubData(w.ARRAY_BUFFER,0,this.Jv.subarray(0,this.Ih)),w.bindBuffer(w.ARRAY_BUFFER,this.mB),w.bufferSubData(w.ARRAY_BUFFER,0,this.ur.subarray(0,this.Rf)))}O6(){const w=this.Vt;for(let y=0,A=this.rm;y<A;++y)w[y].ka()}qe(){return this.Qu.Sa}Ue(w,y,A,G){const z=this.Qu;z.HB(w,y,A,G)||(z.sn(w,y,A,G),this.vc().sD(z),this.kc=0,this.yi=null)}Hk(w){const y=this.Qu;y.Sa!==w&&(y.Tr(w),this.vc().sD(y),this.kc=0,this.yi=null)}gm(w){const y=this.Qu;y.bd(w)||(y.set(w),this.vc().sD(y),this.kc=0,
this.yi=null)}Vs(){this.Ue(1,1,1,1)}mg(w){w!==this.hl&&(this.vc().J_(w),this.hl=w,this.kc=0)}mF(){this.hl=null}ig(w){w=this.g7(w);this.tF(w[0],w[1])}tF(w,y){if(w!==this.AH||y!==this.yH)this.vc().B_(w,y),this.AH=w,this.yH=y,this.kc=0,this.yi=null}kN(){this.tF(this.P.ONE,this.P.ONE_MINUS_SRC_ALPHA)}fE(){this.tF(this.P.ONE,this.P.ZERO)}Rect(w){this.RM(w.X,w.S,w.ca,w.Z)}RM(w,y,A,G){this.f2(w,y,A,y,A,G,w,G)}ny(){let w=this.Ih;w>=this.oS&&(this.ej(),w=0);1===this.kc?this.Vt[this.rm-1].cl+=6:(this.vc().A_(w),
this.kc=1)}SQ(w){w.Dea(this.Jv,this.Ih,this.Tt+this.hu);this.Ih+=12}sd(w){this.ny();this.SQ(w);m.Ph(this.ur,this.Rf);this.Rf+=8}f2(w,y,A,G,z,F,I,J){this.ny();const M=this.Jv;let P=this.Ih;const R=this.Tt+this.hu;M[P++]=w;M[P++]=y;M[P++]=R;M[P++]=A;M[P++]=G;M[P++]=R;M[P++]=z;M[P++]=F;M[P++]=R;M[P++]=I;M[P++]=J;M[P++]=R;this.Ih=P;m.Ph(this.ur,this.Rf);this.Rf+=8}Xp(w,y){this.ny();this.SQ(w);y.Cea(this.ur,this.Rf);this.Rf+=8}Mx(w,y,A,G,z,F,I,J,M,P,R,T,Z){this.ny();const X=this.Jv;let ba=this.Ih;const Y=
this.Tt+this.hu;X[ba++]=w;X[ba++]=y;X[ba++]=Y+A;X[ba++]=G;X[ba++]=z;X[ba++]=Y+F;X[ba++]=I;X[ba++]=J;X[ba++]=Y+M;X[ba++]=P;X[ba++]=R;X[ba++]=Y+T;this.Ih=ba;Z.Ph(this.ur,this.Rf);this.Rf+=8}qY(w,y){d.ma(h,this.BA);d.ma(l,this.PH);this.qN();const [A,G]=this.lx(this.Jd);var z=this.$r(0,0,100*self.devicePixelRatio,0,0,G);this.hq(z);if("crop"===w&&this.Jd&&y){w=this.V/2;z=this.R/2;const J=y.ta();y=y.qa();var F=this.Jd.ta(),I=this.Jd.qa();F=Math.min(F,J);const M=Math.min(I,y),P=Math.max(y-I,0);I=Math.max(I-
y,0);p.set(-w,z-I,-w+F,z-M-I);n.aj(p);p.set(0,P,F,M+P);p.El(J,y);this.Xp(n,p)}else w=A/2,z=G/2,this.RM(-w,z,w,-z);this.fo(h);this.hq(l)}jq(w){this.Uo!==w&&(this.vc().F_(w),this.Uo=w,this.kc=0,this.yi=null)}IN(w,y,A,G,z,F,I,J,M,P,R,T){const Z=this.Uo;var X=Z.JR;const ba=!!T.length;if(X&&!Z.GV(y,A,G,z,F,I,J,M,P,R)||ba&&!Z.FV(T)){var Y=this.vc();Y.G_();X&&(Z.y3(y,A,G,z,F,I,J,M,P,R),X=Y.gf,X[0]=F,X[1]=I,y.Ph(X,2),X[6]=M,X[7]=P,A.Ph(X,12),y=Y.xo,z.Ph(y,0),z=y[1],y[1]=y[3],y[3]=z,G.Ph(Y.pT,0),Y.ie=R,Y.cl=
J,Y.Ge=Z.Er.T?w?w.bg():null:null);ba&&(Z.b3(T),e.Dc(Y.XA,T));this.kc=0}}xn(){this.vc().r_();this.kc=0}jd(w){this.vc().q_(w);this.kc=0}ht(){}hs(){super.hs();this.P.flush()}gW(){this.Bl&&this.Jd&&this.Jd.Kc&&(this.vc().p_(this.Oo),this.kc=0)}kg(w){w=!!w;this.Oo!==w&&this.Bl&&(this.Oo=w,this.vc().C_(w),this.kc=0)}Zs(w){w=!!w;if(this.au&&this.lH!==w){if(w&&this.Oo)throw Error("depth still enabled");this.lH=w;this.vc().D_(w);this.kc=0}}eW(){for(const w of this.Sy)w.fW(this.qh)}Pn(){return!this.P||this.P.isContextLost()||
this.oH}Ak(){super.Y0();e.I.hy.Ak();e.I.iO.Ak();e.I.VD.Ak();for(const w of this.Sy)w.jd();this.iu=this.Pt=this.hI=this.qd=null;this.RH=0;this.Fr="(unavailable)";this.wg=this.ip=this.Uo=null;for(const w of this.uv.values())w.Ak()}async OD(){this.oH=!0;await this.Ax();this.oH=!1;for(const w of this.uv.values())w.OD(this);this.Id(this.V,this.R,!0)}zw(w,y){if(this.Pn())throw Error("context lost");this.ej();const A=e.m(e.I.hy,this);A.N5(w,y);return A}Aw(w,y){if(this.Pn())return Promise.reject("context lost");
y=Object.assign({},y);const A=y.cC&&"clamp-to-edge"!==y.cC||y.dC&&"clamp-to-edge"!==y.dC;if(!e.dc.ImageBitmapOptions||!this.io()&&A)return e.dc.ImageBitmap?createImageBitmap(w).then(G=>e.hk(()=>this.zw(G,y))):w instanceof Blob?e.RV(w).then(G=>this.Aw(G,y)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>e.hk(()=>this.zw(w,y))):e.hk(()=>this.zw(w,y));y.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(G=>
e.hk(()=>this.zw(G,y)))}OK(w,y,A){this.ej();const G=e.m(e.I.hy,this);G.A5(w,y,A);return G}B4(w,y){this.ej();y.LQ(w,void 0)}cj(w){w&&(w.j4(),0<w.Bc||(this.ej(),w===this.hl&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.hl=null),w===this.Fm&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.Fm=null),w.QE()))}GW(w){let y=this.V,A=this.R,G=!0;w&&("number"===typeof w.width&&(y=w.width,G=!1),"number"===typeof w.height&&(A=w.height,
G=!1));if(0>=y||0>=A)throw Error("invalid size");this.ej();const z=e.m(e.I.iO,this);z.z5(y,A,Object.assign({pU:G},w));this.Jd=null;this.qc.Dl=null;this.qc.Xi=null;return z}lg(w,y=!0){w!==this.Jd&&(w&&w.Wz&&w.iQ(this.V,this.R),this.vc().I_(w),this.Jd=w,this.kc=0,y&&this.qN())}rk(){return this.Jd}lx(w){return w?[w.ta(),w.qa()]:[this.V,this.R]}LK(w){2>this.Rc||this.Jd&&0<this.Jd.kl?(this.fE(),this.Vs(),this.Iw(w,"stretch")):(this.vc().n_(w,this.Jd),this.kc=0)}Iw(w,y="stretch"){w=w.bg();if(!w)throw Error("not a texture-backed render target");
this.mg(w);this.qY(y,w)}Pp(w){2>this.Rc||(this.vc().w_(w.yg),this.kc=0)}SW(w){this.lg(null);this.ej();const y=w.bg();y===this.hl&&(this.P.bindTexture(this.P.TEXTURE_2D,null),this.hl=null);y===this.Fm&&(this.P.activeTexture(this.P.TEXTURE1),this.P.bindTexture(this.P.TEXTURE_2D,null),this.P.activeTexture(this.P.TEXTURE0),this.Fm=null);w.QE()}KK(){this.kg(!0);this.vc().u_();this.kc=0}JK(){this.kg(!1);this.vc().t_();this.kc=0}IK(){this.kg(!0);this.vc().s_();this.kc=0}wE(w){this.Aj()&&(this.vc().M_(w),
this.kc=0)}EC(w){this.Aj()&&(this.vc().v_(w),this.kc=0)}Waa(w){const y=new Promise(A=>u.add({resolve:A,Rca:w}));-1===r&&(r=self.requestAnimationFrame(v));return y}X_(){return!!this.VQ.desynchronized}HY(){let w=0;for(const y of e.I.hy.Ica())w+=y.TC();return w}io(){return 2<=this.Rc}Aj(){return!!this.qd}e5(w){this.Sy.add(w)}Y9(w){this.Sy.delete(w)}H7(w){this.G7([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",
w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";const e={kU:null,lU:null,JU:null,getTime:null,IU:null};self.B.I.YX=class{constructor(b){b=Object.assign({},e,b);this.aR=b.kU;this.sba=b.lU;this.vba=b.JU;this.tba=b.getTime;this.uba=b.IU}lL(b){return this.aR?this.aR(b):[b.ta(),b.qa()]}rk(b){return this.sba(b)}l2(b,a){this.vba(b,a)}ya(){return this.tba()}Ox(b){this.uba(b)}}}
{"use strict";const e=self.B,b=self.$i.Gl,a=e.m(e.Rect),d=e.m(e.Rect),c=e.m(e.Rect),g=e.m(e.Rect),m=b.create(),h=b.create(),l={GB:null,mU:null,LB:null,MJ:!1},n={Lr:null,JB:!1,DJ:!1,NJ:!1,tU:!1,rU:!1,$B:!1},p={BB:null,Eoa:null,ln:0,devicePixelRatio:1,Wv:1,OB:0,Qr:null,Rv:null,eU:null,YT:0,ZT:0,cV:!1};e.I.le=class{constructor(q,u){u=Object.assign({},l,u);this.Eg=q;this.lG=u.GB;this.cu=u.mU;this.bR=u.LB;this.bz=null;this.YA=[];this.nv=[];this.kp=[];this.sg=0;this.Gr=this.bu=this.hR=this.xm=this.Uz=this.iH=
!1;this.Zo=0;this.rl=[null,null,null];this.ZR=!!u.MJ;this.Lc=this.Zc=this.Zt=this.Yt=0;this.wm=null;this.Ru=e.m(e.Rect);this.Zk=e.m(e.Rect);this.pl=e.m(e.Rect);this.jr=e.m(e.Rect);this.Qm=e.m(e.Rect);this.FH=this.Iq=1;this.Zb=this.EH=0;this.mz=null;this.rG=this.qG=0;this.dJ=!1;this.Tj=b.create();this.Zu=b.create()}j(){e.D(this.kp);e.D(this.YA);e.D(this.nv);this.bR=this.cu=this.lG=this.wm=null}qC(q,u){u=Object.assign({},n,u);e.D(this.kp);this.Zt=this.Yt=0;this.Uz=this.iH=!1;this.Zo=0;this.Gr=!!u.$B;
e.Dc(this.YA,q);if(0!==q.length){if(u.Lr){if(u.Lr.length!==q.length)throw Error("incorrect indexMap length");e.Dc(this.nv,u.Lr)}else{e.D(this.nv);for(let w=0,y=q.length;w<y;++w)this.nv.push(w)}for(var r of q)this.Yt+=r.rR,this.Zt+=r.sR,r.fba&&(this.iH=!0),r.vB&&(this.Uz=!0);!(r=1!==q.length||q[0].gG||q[0].eR)&&(r=!u.$B)&&(r=q[0],r=0!==r.rR||0!==r.sR);if(r||u.JB||q[0].Vp()||u.DJ||u.NJ||!this.Gr&&q[0].vB){this.bu=!1;r=this.vaa(q[0],u);u=this.uaa(q.Sd(-1),u);var v=0;r&&(this.Zo=1,this.kp.push(e.m(e.I.le.fh.X1,
this,-1,1)),v=1);for(let w=0,y=q.length;w<y;++w)0!==w||r?(q=1===v?2:1,w!==y-1||u||(q=0),this.Zo=Math.max(this.Zo,q),this.kp.push(e.m(e.I.le.fh.SV,this,v,q,w)),v=q):(this.Zo=1,this.kp.push(e.m(e.I.le.fh.mY,this,-1,1,w)),v=1);u&&this.kp.push(e.m(e.I.le.fh.U1,this,v,0))}else this.bu=!0}}vaa(q,u){return u.JB||u.NJ||!this.Gr&&q.vB||q.Vp()||q.gG&&(u.rU||q.ib().zk()&&u.tU)||0!==this.Yt||0!==this.Zt}uaa(q,u){return u.DJ||q.gG||q.eR}$n(q,u,r){r=Object.assign({},p,r);this.mz=u;this.wm=r.BB;this.sg=r.ln;this.Iq=
r.devicePixelRatio;this.FH=r.Wv;this.EH=r.OB;this.Zb=this.Eg.ya();this.xm=!1;q.z2();this.iH&&this.J9();if(this.bu)this.b$(q,r);else{var [v,w]=this.Eg.lL(q);this.U$(q,v,w);this.s5(r);q.Vs();q.cq(0);q.Ys(0);this.bz=r.eU;this.qG=r.YT||0;this.rG=r.ZT||0;this.dJ=!!r.cV;this.Q8(q);this.rl[0]=u;this.rl[1]=1<=this.Zo?this.jP():null;this.rl[2]=2===this.Zo?this.jP():null;for(const y of this.kp)y.Ws(q,this.kP(y.wca),this.kP(y.iR));this.rl[1]&&this.dQ(this.rl[1]);this.rl[2]&&this.dQ(this.rl[2]);this.rl.fill(null);
this.N8(q);this.bz=this.wm=this.mz=null}}U$(q,u,r){if(0>=u||0>=r)throw Error("invalid draw size");this.Zc===u&&this.Lc===r||this.wO(q,u,r,0,0,this.Tj,this.Zu);this.Zc=u;this.Lc=r}wO(q,u,r,v,w,y,A){v=u/2+v;w=r/2+w;q.Bp(y,u/r);q=q.$r(v,w,100*self.devicePixelRatio,v,w,r);b.ma(A,q)}s5(q){this.Ru.ma(q.Qr);q.Rv?this.Zk.ma(q.Rv):this.Zk.set(0,0,this.Zc,this.Lc);this.pl.ma(this.Zk);this.pl.El(this.Zc,this.Lc);q=q.Wv*q.devicePixelRatio;this.Zk.JJ(this.Yt*q,this.Zt*q);this.Qm.ma(this.Zk);this.Qm.El(this.Zc,
this.Lc);this.Zk.fa(0,0,this.Zc,this.Lc);this.jr.ma(this.Zk);this.jr.El(this.Zc,this.Lc)}Q8(q){this.hR=q.Oo;this.Gr&&(q.kg(!1),this.Uz&&q.Zs(!0))}M8(q){q.Vs();this.Gr||(q.kg(!1),this.Uz&&q.Zs(!0))}N8(q){q.Zs(!1);q.kg(this.hR);this.xm=q.xm}zO(){this.Qm.fa(0,0,1,1)}kP(q){return 0>q?null:this.rl[q]}jP(){return this.Eg.rk(this)}dQ(q){this.Eg.l2(q,this)}v7(q){return this.YA[q]}RE(q){this.bz?this.bz(this,q,()=>this.lG(q,this)):this.lG(q,this);this.bu||this.M8(q)}X7(q){if(this.Gr)return!0;if(0!==this.qG||
0!==this.rG)return!1;const [u,r]=q.lx(q.rk());return u!==this.Zc||r!==this.Lc?!1:!0}uQ(q,u){let r=this.Tj,v=this.Zu;if(u&&!this.X7(q)){r=m;v=h;const [w,y]=q.lx(q.rk());this.wO(q,w,y,this.qG,this.rG,r,v)}q.fo(r);q.hq(v)}J9(){this.Eg.Ox(this)}pP(q){return this.bR(this.nv[q])}kaa(q,u){let r=this.Qm,v=this.jr,w=this.pl;q.zk()&&(d.ma(r),d.pn(),r=d,c.ma(v),c.pn(),v=c,g.ma(w),g.pn(),w=g);this.NO(q,u,v,w,r,1/this.Zc,1/this.Lc)}V$(q,u){let r=this.jr,v=this.pl,w=1/this.Zc,y=1/this.Lc;if(this.cu){let {VU:G,
WU:z,UU:F}=this.cu(this.wm);G||(a.set(0,0,0,0),G=a);z||(z=this.Zc);F||(F=this.Lc);v=r=G;w=1/z;y=1/F}else q.zk()&&(c.ma(r),c.pn(),r=c,g.ma(v),g.pn(),v=g);let A=this.Qm;q.zk()&&(A=d,A.ma(this.Qm),A.pn());this.NO(q,u,r,v,A,w,y)}NO(q,u,r,v,w,y,A){u=this.pP(u);q.IN(this.mz,w,r,v,this.Ru,y,A,this.Iq,this.FH,this.EH,this.Zb,u)}b$(q,u){var r=this.YA[0];const v=q.Oo,w=r.vB;w&&(q.kg(!1),q.Zs(!0),this.Qm.set(0,0,1,1),this.pl.set(0,0,1,1));q.jq(r);q.ig(this.sg);q.lg(this.mz);let y;this.pl.set(0,0,1,1);if(r.FT&&
this.cu){const {VU:A,WU:G,UU:z}=this.cu(this.wm);A&&this.pl.ma(A);r=Number.isFinite(G)?1/G:0;y=Number.isFinite(z)?1/z:0}else{const [A,G]=this.Eg.lL(q);r=1/A;y=1/G}u.Qr?this.Ru.ma(u.Qr):this.Ru.set(0,0,0,0);u=this.pP(0);q.IN(null,this.Qm,this.pl,this.pl,this.Ru,r,y,this.Iq,this.FH,this.EH,this.Zb,u);q.cq(0);this.RE(q);w&&(q.Zs(!1),q.kg(v))}}}"use strict";self.B.I.le.fh=class{constructor(e,b,a,d=-1){this.nh=e;this.wca=b;this.iR=a;this.La=d}Wh(){return this.nh}Fa(){return this.La}Cf(){return this.Wh().v7(this.Fa())}Ws(){}};
{"use strict";const e=self.B;e.I.le.fh.X1=class extends e.I.le.fh{constructor(b,a,d,c){super(b,a,d,c)}Ws(b,a,d){a=this.Wh();b.kN();b.yj();b.lg(d,a.dJ);b.xn();a.RE(b);a.zO()}}}{"use strict";const e=self.B,b=e.m(e.Rect),a=e.m(e.sd);e.I.le.fh.U1=class extends e.I.le.fh{constructor(d,c,g,m){super(d,c,g,m)}Ws(d,c,g){const m=this.Wh();d.yj();d.lg(g);m.uQ(d,!0);d.ig(m.sg);d.mg(c.bg());a.aj(m.Zk);b.ma(m.jr);b.pn();d.Xp(a,b);m.ZR&&d.Pp(c)}}}
{"use strict";const e=self.B;e.I.le.fh.mY=class extends e.I.le.fh{constructor(b,a,d,c){super(b,a,d,c)}Ws(b,a,d){a=this.Wh();b.lg(d,a.dJ);b.xn();b.fE();b.jq(this.Cf());a.V$(b,this.Fa());a.RE(b);a.zO()}}}
{"use strict";const e=self.B,b=e.m(e.Rect),a=e.m(e.sd);e.I.le.fh.SV=class extends e.I.le.fh{constructor(d,c,g,m){super(d,c,g,m)}Ws(d,c,g){const m=this.Wh();d.lg(g);(g=0===this.iR)?d.ig(m.sg):(d.xn(),d.fE());d.jq(this.Cf());m.kaa(d,this.Fa());d.mg(c.bg());m.uQ(d,g);a.aj(m.Zk);b.ma(m.jr);b.pn();d.Xp(a,b);m.ZR&&d.Pp(c)}}}
{"use strict";let e=null;const b=new Set;let a=!1;self.e_=class{constructor(d){e=d;Object.defineProperties(this,{qda:{value:{},writable:!1},storage:{value:new self.f_(e),writable:!1},Fpa:{value:e.ae,writable:!1}});e.Rd.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});e.Rd.addEventListener("keyup",c=>b.delete(c.key));e.Jb().addEventListener("window-blur",()=>b.clear());e.ae&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}J7(d){Object.defineProperties(this.qda,d)}addEventListener(d,c){e.Rd.addEventListener(d,c)}removeEventListener(d,c){e.Rd.removeEventListener(d,c)}get CJ(){return e.mL()}get lpa(){return e.Rl()}random(){return e.Yp()}get PB(){return e.Kb().uu}get keyboard(){const d=e.du.keyboard;if(!d)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return d}get zU(){const d=e.du.zU;if(!d)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return d}get nK(){const d=e.du.nK;if(!d)throw Error("runtime.touch used but Touch object missing - add it to your project first");return d}alert(d){return e.Vn("runtime","alert",{message:d+(e.ae?" [via Web Worker]":"")})}}}"use strict";self.YZ=class{constructor(){}};{"use strict";const e=self.Rh;self.f_=class{constructor(b){this.vv=b.s7()}getItem(b){e.td(b);return this.vv.getItem(b)}setItem(b,a){e.td(b);return this.vv.setItem(b,a)}removeItem(b){e.td(b);return this.vv.removeItem(b)}clear(){return this.vv.clear()}keys(){return this.vv.keys()}}}
{"use strict";const e=self.Rh,b=new WeakMap;self.zx=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Aa(),writable:!1}});a.G().HP(this,a)}addEventListener(a,d){e.td(a);e.vj(d);b.get(this).Rd.addEventListener(a,d)}removeEventListener(a,d){e.td(a);e.vj(d);b.get(this).Rd.removeEventListener(a,d)}*oU(){for(const a of b.get(this).ea())yield a.Vg()}yJ(a){e.Ff(void 0);e.Ff(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var d=
b.get(this),c=d.G();a=c.Kb().W(a);if(!a)throw Error("invalid layer");d=c.PK(d,a,void 0,void 0,void 0);c=c.da();c.wf(!0);d.DF();c.wf(!1);return d.Vg()}}}
{"use strict";const e=self.Rh,b=new WeakMap;self.d_=class{constructor(a){b.set(this,a);const d=[],c=a.Ka,g=c.Zf().length;for(let m=0;m<g;++m)d.push(new self.oD(c,m));Object.defineProperties(this,{name:{value:a.Aa(),writable:!1},index:{value:a.Fa(),writable:!1},fU:{value:d,writable:!1}})}addEventListener(a,d){e.td(a);e.vj(d);b.get(this).Rd.addEventListener(a,d)}removeEventListener(a,d){e.td(a);e.vj(d);b.get(this).Rd.removeEventListener(a,d)}get width(){return b.get(this).ta()}set width(a){b.get(this).Jk(a)}get height(){return b.get(this).qa()}set height(a){b.get(this).Gk(a)}set scale(a){e.Dk(a);
b.get(this).JN(a)}get scale(){return b.get(this).hd}set angle(a){e.Dk(a);b.get(this).Hd(a)}get angle(){return b.get(this).Ea()}set scrollX(a){e.Ff(a);b.get(this).hi(a)}get scrollX(){return b.get(this).Af()}set scrollY(a){e.Ff(a);b.get(this).ii(a)}get scrollY(){return b.get(this).Bf()}scrollTo(a,d){e.Ff(a);e.Ff(d);const c=b.get(this);c.hi(a);c.ii(d)}set FU(a){e.td(a);const d=b.get(this);if("perspective"===a)d.HN();else if("orthographic"===a)d.EN();else throw Error("invalid projection");}get FU(){return b.get(this).df?
"orthographic":"perspective"}}}
{"use strict";const e=self.B,b=self.Rh,a=new WeakMap,d=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),c=new Map([...d.entries()].map(m=>[m[1],m[0]])),g=e.m(e.Za);self.c_=class{constructor(m){a.set(this,m);const h=[],l=m.Ka,n=l.Zf().length;for(let p=0;p<n;++p)h.push(new self.oD(l,p));Object.defineProperties(this,{name:{value:m.Aa(),writable:!1},index:{value:m.Fa(),
writable:!1},PB:{value:m.ac().uu,writable:!1},fU:{value:h,writable:!1}})}get isVisible(){return a.get(this).Fc()}set isVisible(m){a.get(this).zj(m)}get opacity(){return a.get(this).qe()}set opacity(m){m=e.fa(+m,0,1);isNaN(m)||a.get(this).Hk(m)}set scale(m){b.Dk(m);a.get(this).FN(m)}get scale(){return a.get(this).hd}set angle(m){b.Dk(m);a.get(this).Hd(m)}get angle(){return a.get(this).Xd}set iw(m){b.Dk(m);a.get(this).Ve(m)}get iw(){return a.get(this).$a()}set ln(m){b.td(m);m=d.get(m);if("number"!==
typeof m)throw Error("invalid blend mode");a.get(this).ig(m)}get ln(){return c.get(a.get(this).fj())}set backgroundColor(m){b.YD(m);if(3>m.length)throw Error("expected 3 elements");g.Vr(m[0],m[1],m[2]);m=a.get(this);const h=m.Uk;h.Fl(g)||(h.Wi(g),m.G().$())}get backgroundColor(){const m=a.get(this).Uk;return[m.Ra,m.Ua,m.Ta]}set scrollX(m){b.Ff(m);const h=a.get(this);h.bt(!0);h.hi(m)}get scrollX(){return a.get(this).Af()}set scrollY(m){b.Ff(m);const h=a.get(this);h.bt(!0);h.ii(m)}get scrollY(){return a.get(this).Bf()}scrollTo(m,
h){b.Ff(m);b.Ff(h);const l=a.get(this);l.bt(!0);l.hi(m);l.ii(h)}}}
{"use strict";const e=self.B,b=self.Rh,a=new WeakMap,d=new WeakMap;function c(m){let h=d.get(m);if(h)return h;h=e.m(e.Event.Jb);d.set(m,h);return h}let g=null;self.yx=class{constructor(){a.set(this,g);const m={uf:{value:g.G().Fi,writable:!1},VJ:{value:g.H().vu,writable:!1},uid:{value:g.lc,writable:!1}};g.k7(m);g.f7(m);Object.defineProperties(this,m);g.G().HP(this,g)}static qg(m){g=m}static uy(){return g}Ft(){const m=d.get(this);m&&(m.j(),d.delete(this));a.delete(this)}addEventListener(m,h,l){b.td(m);
b.vj(h);c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){b.td(m);b.vj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}
{"use strict";const e=self.B,b=self.Rh,a=self.yx,d=new WeakMap,c=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),g=new Map([...c.entries()].map(m=>[m[1],m[0]]));e.m(e.Za);self.pD=class m extends a{constructor(){super();var h=a.uy();d.set(this,h);const l=[];var n=h.A();if(h=n.Lf){n=n.H().Ka.Zf().length;for(let p=0;p<n;++p)l.push(new self.oD(h,p))}Object.defineProperties(this,
{fU:{value:l,writable:!1}})}get PB(){return d.get(this).A().ac().uu}get wU(){return d.get(this).A().W().Hba}get x(){return d.get(this).A().ga()}set x(h){h=+h;const l=d.get(this).A();isNaN(h)||l.ga()===h||(l.dh(h),l.ub())}get y(){return d.get(this).A().ia()}set y(h){h=+h;const l=d.get(this).A();isNaN(h)||l.ia()===h||(l.eh(h),l.ub())}get iw(){return d.get(this).A().$a()}set iw(h){h=+h;const l=d.get(this),n=l.A();isNaN(h)||n.$a()===h||(n.Ve(h),l.G().$())}get width(){return d.get(this).A().ta()}set width(h){h=
+h;const l=d.get(this).A();isNaN(h)||l.ta()===h||(l.Jk(h),l.ub())}get height(){return d.get(this).A().qa()}set height(h){h=+h;const l=d.get(this).A();isNaN(h)||l.qa()===h||(l.Gk(h),l.ub())}get angle(){return d.get(this).A().Ea()}set angle(h){h=e.je(+h);const l=d.get(this).A();isNaN(h)||l.Ea()===h||(l.Hd(h),l.ub())}HJ(){d.get(this).A().Vc().sea()}get isVisible(){return d.get(this).A().Fc()}set isVisible(h){h=!!h;const l=d.get(this),n=l.A();n.Fc()!==h&&(n.zj(h),l.G().$())}get opacity(){return d.get(this).A().qe()}set opacity(h){h=
e.fa(+h,0,1);const l=d.get(this),n=l.A();isNaN(h)||n.qe()===h||(n.Hk(h),l.G().$())}set ln(h){b.td(h);h=c.get(h);if("number"!==typeof h)throw Error("invalid blend mode");const l=d.get(this);l.A().ig(h);l.G().$()}get ln(){return g.get(d.get(this).A().fj())}get zIndex(){return d.get(this).A().oj()}rf(h,l){b.Ff(h);b.Ff(l);return d.get(this).A().cs(+h,+l)}getParent(){const h=d.get(this).Ba();return h?h.Vg():null}*aw(){for(const h of d.get(this).aw())yield h.Vg()}*children(){for(const h of d.get(this).children())yield h.Vg()}*dk(){for(const h of d.get(this).dk())yield h.Vg()}removeChild(h){b.ZD(h,
m);const l=d.get(this);h=d.get(h);l.uj(h)}}}{"use strict";const e=new WeakMap;self.rha=class extends self.pD{constructor(){super();e.set(this,self.yx.uy())}focus(){e.get(this).wa.eL()}blur(){e.get(this).wa.yK()}}}
{"use strict";const e=self.B,b=self.Rh,a=new WeakMap,d=new WeakMap;function c(m){let h=d.get(m);if(h)return h;h=e.m(e.Event.Jb);d.set(m,h);return h}let g=null;self.a_=class{constructor(){a.set(this,g);const m={uf:{value:g.G().Fi,writable:!1},behavior:{value:g.Ol().XY(),writable:!1}};Object.defineProperties(this,m)}static qg(m){g=m}static uy(){return g}get instance(){return a.get(this).na.Vg()}Ft(){const m=d.get(this);m&&(m.j(),d.delete(this));a.delete(this)}addEventListener(m,h,l){b.td(m);b.vj(h);
c(this).addEventListener(m,h,l)}removeEventListener(m,h,l){b.td(m);b.vj(h);c(this).removeEventListener(m,h,l)}dispatchEvent(m){c(this).dispatchEvent(m)}}}{"use strict";const e=new WeakMap;self.$Z=class{constructor(b){e.set(this,b);Object.defineProperties(this,{uf:{value:b.G().Fi,writable:!1}})}}}
{"use strict";const e=self.B,b=self.Rh,a=new WeakMap;self.oD=class{constructor(d,c){a.set(this,d);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Zf()[this.index].Aa()}getParameter(d){b.Dk(d);d=Math.floor(+d);const c=a.get(this).mk(this.index);if(0>d||d>=c.length)throw new RangeError("invalid effect parameter index");d=c[d];return d instanceof e.Za?[d.Ra,d.Ua,d.Ta]:d}}}
{"use strict";const e=self.B,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);e.KV=class extends e.aa{constructor(d,c){super();var g=c.exportType;this.g=d;this.xA=new Map;this.br=new Map;this.bca=new Map;this.Vz="cordova"===g;this.xH=!!c.isiOSCordova;this.Cu=!!c.isFileProtocol;this.yca=c.supportedAudioFormats||{};this.$F=
new Map;this.SS=!1;this.PR=this.wR=this.BS="";this.kz="html5"===g||"scirra-arcade"===g||"instant-games"===g?"remote":"local";this.OF=[];this.ZF=new Map;this.kJ=[];this.vA=[];this.KR=!1;this.oA=this.YF=this.Dv=0;this.VG=!1;this.aca=e.m(e.i2,()=>this.YO(),50);this.pI=new e.MM(Math.max(e.hardwareConcurrency,8));if(d=c.previewImageBlobs){(g=c.previewProjectFileBlobs)&&Object.assign(d,g);(g=c.projectData)&&(d["data.json"]=g);for(const [m,h]of Object.entries(d))this.xA.set(m.toLowerCase(),h)}if(c=c.previewProjectFileSWUrls)for(const [m,
h]of Object.entries(c))this.bca.set(m,h);new self.YZ(this)}j(){this.xA.clear();for(const d of this.br.values())d.startsWith("blob:")&&URL.revokeObjectURL(d);this.br.clear();for(const d of this.OF)d.j();e.D(this.OF);this.ZF.clear();e.D(this.vA);this.g=null}G(){return this.g}jaa(d){this.BS=d}Z$(d){this.wR=d}daa(d){this.PR=d}yy(d){return this.xA.has(d.toLowerCase())}vy(d){return this.xA.get(d.toLowerCase())||null}ZC(d){if(!this.yy(d))return d;d=d.toLowerCase();var c=this.br.get(d);c||(c=this.vy(d),c=
URL.createObjectURL(c),this.br.set(d,c));return c}kk(d,c){c=c||this.kz;const g=this.vy(d);if(g)return Promise.resolve(g);if(e.FD(d)){const m=d.toLowerCase();return this.Vz&&this.Cu?this.NK(m):"local"===c?this.pI.Uc(()=>e.kk(m)):e.kk(m)}return e.kk(d)}fs(d){const c=this.vy(d);if(c)return e.QV(c);if(e.FD(d)){const g=d.toLowerCase();return this.Vz&&this.Cu?this.MK(g):"local"===this.kz?this.pI.Uc(()=>e.fs(g)):e.fs(g)}return e.fs(d)}gs(d){const c=this.vy(d);if(c)return e.xK(c);if(e.FD(d)){const g=d.toLowerCase();
return this.Vz&&this.Cu?this.yW(g):"local"===this.kz?this.pI.Uc(()=>e.gs(g)):e.gs(g)}return e.gs(d)}async cL(d){d=await this.gs(d);return JSON.parse(d)}HE(d,c){return this.g.Vn("runtime","cordova-fetch-local-file",{filename:d,as:c})}yW(d){return this.HE(d,"text")}async NK(d){const c=await this.HE(d,"buffer");d?(d=d.split("."),d=2>d.length?"":a.get(d.Sd(-1).toLowerCase())||""):d="";return new Blob([c],{type:d})}async xW(d){d=d.toLowerCase();var c=this.br.get(d);if(c)return c;c=await this.NK(d);c=URL.createObjectURL(c);
this.br.set(d,c);return c}MK(d){return this.HE(d,"buffer")}yL(d){return this.yy(d)?this.ZC(d):this.BS+d.toLowerCase()}bD(d,c=""){if(e.XL(d)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(d)}return this.yy(d)?Promise.resolve(this.ZC(d)):this.Vz&&this.Cu?this.xW(c+d):Promise.resolve(c+d.toLowerCase())}JD(d){if(d.QB&&!b.has(d.QB))throw Error("invalid load policy");let c=this.ZF.get(d.url);if(c)return c;c=e.m(e.VL,this,{url:d.url,size:d.size||0,QB:d.QB||this.kz});
this.OF.push(c);this.ZF.set(c.Hv,c);this.KR||(this.Dv+=c.Hn(),this.vA.push(c.u0().then(()=>this.pO(c.Hn()))));return c}async eO(){try{await Promise.all(this.vA),this.oA=1}catch(d){console.error("Error loading: ",d),this.VG=!0,this.YO()}}q3(){this.KR=!0}pO(d){this.YF+=d;this.aca.$V()}YO(){const d=e.m(e.Event,"loadingprogress");this.oA=e.fa(this.YF/this.Dv,0,1);d.progress=this.oA;this.g.Jb().dispatchEvent(d)}raa(d){e.Dc(this.kJ,d);this.kJ.length&&this.vA.push(this.x8())}x8(){if("undefined"===typeof FontFace)return Promise.resolve();
const d=[];for(const [c,g,m]of this.kJ)this.Dv+=m,d.push(this.w8(c,g).then(()=>this.pO(m)));return Promise.all(d)}async w8(d,c){try{const g=await this.bD(c,this.wR),m=new FontFace(d,`url('${g}')`);this.g.ae?self.fonts.add(m):document.fonts.add(m);await m.load()}catch(g){console.warn(`[C3 runtime] Failed to load web font '${d}': `,g)}}YL(d){return!!this.yca[d]}L$(d,c){this.SS=!!c;for(const [g,m,h]of d)this.$F.set(g,{fileName:g,ida:m.map(l=>({type:l[0],Voa:l[1],jU:g+l[1],fileSize:l[2]})),Ada:h})}CL(d){d=
this.$F.get(d.toLowerCase());if(!d)return null;let c=null;for(const g of d.ida)if(c||"audio/webm; codecs=opus"!==g.type||(c=g),this.YL(g.type))return g;return c}ag(d){return(d=this.CL(d))?{url:this.yL(d.jU),type:d.type}:null}vY(){if(this.SS){const d=[];for(const c of this.$F.values()){if(c.Ada)continue;const g=this.CL(c.fileName);g&&d.push({Uda:c.fileName,url:this.yL(g.jU),type:g.type,fileSize:g.fileSize})}return d}return[]}async sM(d){d=await this.bD(d);return await this.g.Vn("runtime","add-stylesheet",
{url:d})}}}
{"use strict";const e=self.B;e.JV=class extends e.aa{constructor(b,a){super();this.lb=b;this.g=b.G();this.Hv=a.url;this.$A=a.size;this.LH=a.QB;this.Jm=this.Xt=null}j(){this.Xt=this.g=this.lb=this.Jm=null}Hn(){return this.$A}u0(){return"local"===this.LH||this.Xt?Promise.resolve():this.Jm?this.Jm:this.Jm=this.lb.kk(this.Hv,this.LH).then(b=>{this.Jm=null;return this.Xt=b}).catch(b=>console.error("Error loading resource: ",b))}yY(){return this.Xt?Promise.resolve(this.Xt):this.Jm?this.Jm:this.lb.kk(this.Hv,this.LH)}}}
{"use strict";const e=self.B,b=new e.MM,a=new Set;e.VL=class extends e.JV{constructor(d,c){super(d,c);this.$j=this.mp=null;this.Bc=0;this.RR=this.SR=-1;a.add(this)}j(){this.Ck();if(0!==this.Bc)throw Error("released image asset which still has texture references");this.mp=null;a.delete(this);super.j()}static Kx(){for(const d of a)d.mp=null,d.$j=null,d.Bc=0}KD(d,c){c=c||{};this.Bc++;if(this.$j)return Promise.resolve(this.$j);if(this.mp)return this.mp;c.ST=this.g.L.uT;return this.mp=this.yY().then(g=>
b.Uc(()=>d.Aw(g,c).then(m=>{this.mp=null;if(0===this.Bc)return d.cj(m),null;this.$j=m;this.SR=m.ta();this.RR=m.qa();return this.$j}))).catch(g=>{console.error("Failed to load texture: ",g);throw g;})}Ck(){if(0>=this.Bc)throw Error("texture released too many times");this.Bc--;0===this.Bc&&this.$j&&(this.$j.ib().cj(this.$j),this.$j=null)}bg(){return this.$j}ta(){return this.SR}qa(){return this.RR}}}
{"use strict";const e=self.B;function b(a,d){return a.A().ck-d.A().ck}e.s2=class extends e.aa{constructor(a,d,c){super();this.O=d;this.N=c;this.F=[];this.Hu=!0;this.Mi=new Set;this.zu=!1}j(){e.D(this.F);this.Mi.clear()}Yc(){e.D(this.F);this.Hu=!0;this.Mi.clear();this.zu=!1}Y2(){this.Hu=!1}Rn(){if(!this.F.length)return!0;if(this.F.length>this.Mi.size)return!1;this.UE();return!0}tD(a){this.Mi.has(a)?(this.Mi.delete(a),0===this.Mi.size&&(this.zu=!1)):(this.F.push(a),this.Hu=1===this.F.length)}ah(a){this.Mi.add(a);
this.zu=!0;50<=this.Mi.size&&this.UE()}UE(){this.zu&&(this.F.length===this.Mi.size?this.Yc():(e.Vf(this.F,this.Mi),this.Mi.clear(),this.zu=!1))}N6(){this.Hu||(this.F.sort(b),this.Hu=!0)}CC(a){this.UE();this.N6();this.F.length&&a.push(this.F)}}}
{"use strict";const e=self.B;e.t2=class extends e.aa{constructor(b,a){super();this.nG=b;this.mG=a;this.vi=e.m(e.Qs)}j(){this.vi.j();this.vi=null}Pl(b,a,d){let c=this.vi.Y(b,a);return c?c:d?(c=e.m(e.s2,this,b,a),this.vi.Set(b,a,c),c):null}ki(b){return Math.floor(b/this.nG)}li(b){return Math.floor(b/this.mG)}Lk(b,a,d){if(a)for(let c=a.X,g=a.ca;c<=g;++c)for(let m=a.S,h=a.Z;m<=h;++m){if(d&&d.rf(c,m))continue;const l=this.Pl(c,m,!1);l&&(l.ah(b),l.Rn()&&this.vi.zn(c,m))}if(d)for(let c=d.X,g=d.ca;c<=g;++c)for(let m=
d.S,h=d.Z;m<=h;++m)a&&a.rf(c,m)||this.Pl(c,m,!0).tD(b)}Nx(b,a){let d=this.ki(b.X);const c=this.li(b.S),g=this.ki(b.ca);for(b=this.li(b.Z);d<=g;++d)for(let m=c;m<=b;++m){const h=this.Pl(d,m,!1);h&&h.CC(a)}}D0(b){let a=b.X;const d=b.S,c=b.ca;for(b=b.Z;a<=c;++a)for(let g=d;g<=b;++g){const m=this.Pl(a,g,!1);m&&m.Y2()}}}}
{"use strict";const e=self.B,b=new e.Rect,a=new e.sd,d=[];new e.Rect;new e.Rect;const c=self.$i,g=c.aC,m=c.gw,h=c.Gl;h.create();const l=g.create(),n=m.create(),p=g.create(),q=g.create(),u=g.create(),r=e.m(e.gy);e.m(e.Rect);function v(z,F){return z.A().ck-F.A().ck}function w(z,F){return z.A().$a()-F.A().$a()}const y=[],A=[],G=[];e.nM=class extends e.aa{constructor(z,F,I){super();this.Dg=z;this.g=z.G();this.MS=F;this.Da=I[0];this.La=-1;this.eb=I[2];this.Ku=!!I[3];this.Uk=e.m(e.Za);this.Uk.Jl(I[4].map(M=>
M/255));this.Rj=!!I[5];this.Md=I[6];this.Nd=I[7];this.ab=e.m(e.Za,1,1,1,I[8]);this.OA=e.m(e.Za);this.mH=I[9];this.rca=I[17];this.BT=I[18];this.Eca=I[10];this.Pi=I[11];this.sg=I[12];this.Ae=null;this.hd=1;this.Sc=I[16];this.Eh=this.Dh=this.Xd=0;this.bl=!1;this.Uf=e.m(e.Rect);this.IT=e.m(e.Rect);this.jn=e.m(e.Rect);this.Tj=h.create();this.uH=!0;this.Zu=h.create();this.sH=!0;this.HT=e.m(e.I.D4);this.kA=!0;this.rT=[];this.VR=I[14];this.Oj=[];this.iz=[];this.WR=new Map;this.F=[];this.uo=this.nJ=!1;const J=
this.g.L;this.Ka=e.m(e.ik,this,I[15]);this.nh=e.m(e.I.le,J.zG,{GB:(M,P)=>{P=P.wm;const R=P.rk();M.gm(P.aD());M.Iw(R);M.Pp(R);J.Yn(R)},LB:M=>this.Ka.mk(M)});this.Kv=this.ll=!0;this.lr=null;this.zH=[];this.dA=!1;this.Yba=e.m(e.Rect,0,0,-1,-1);this.xba=e.m(e.Rect,0,0,-1,-1);this.Hba=new self.c_(this);this.QQ();this.lo()&&(this.lr=e.m(e.t2,this.g.Hg,this.g.Gg));this.Um=I[19].map(M=>e.m(e.nM,this.Dg,this,M))}qg(){for(const z of this.VR){const F=this.g.Oe(z[1]);this.Dg.nO(F);F.Hq||F.pN(z);this.Oj.push(z);
this.WR.set(z[2],z)}e.Dc(this.rT,this.Oj);this.VR=null}j(){this.g=this.Dg=null}YY(z){return this.WR.get(z)}BW(z){const F=this.Dg.Qo;let I=0;const J=this.Oj;for(let P=0,R=J.length;P<R;++P){var M=J[P];const T=this.g.Oe(M[1]);let Z=!0;if(!T.lD()||F)M=this.g.Uh(M,this,!0),z.push(M),T.Ef()&&(Z=!1,this.iz.push(M.lc));Z&&(J[I]=J[P],++I)}e.Ke(J,I);this.g.Ed();this.ng()}pg(z,F){const I=z.A();if(I.W()!==this)throw Error("instance added to wrong layer");this.F.push(z);0!==I.$a()&&(this.uo=!0);F&&this.lo()&&
z.A().ub();this.ng()}z8(z){this.F.includes(z)||(this.F.push(z),0!==z.A().$a()&&(this.uo=!0),this.ng())}D9(z){const F=z.A();if(F.W()!==this)throw Error("instance added to wrong layer");this.F.unshift(z);0!==F.$a()&&(this.uo=!0);this.ng()}po(z,F){const I=this.F.indexOf(z);0>I||(F&&this.lo()&&z.A().fQ(),this.F.splice(I,1),this.ng(),this.MP())}tQ(){this.uo=!0}MP(){0===this.F.length&&(this.uo=!1)}AF(z){if(z){z=new Set;for(var F of this.F){var I=F.A().ck;0<=I&&z.add(I)}F=-1;for(const J of this.F)if(I=J.A(),
!(0<=I.ck)){for(++F;z.has(F);)++F;I.Ly(F)}}this.F.sort(v)}M6(){for(const z of this.F)z.H().Ef()||this.g.An(z);this.g.Ed();e.D(this.F);this.uo=!1;this.ng()}Ts(z,F,I,J,M){const P=this.g.da(),R=this.g.Ic,T=z.cb,Z=[];for(const Y of this.Oj){var X=Y[0];if(F.rf(X[0],X[1])){X=R[Y[1]];if(X!==z)if(T){if(!z.bL(X))continue}else continue;X=this;var ba=this.g.Ia();this.ac()!==ba&&((X=ba.wL(this.Aa()))||(X=ba.$w(this.Fa())));ba=this.g.Uh(Y,X,!1,void 0,void 0,!1,M);X.SN(ba);X=ba.A();X.Jx(I,J);X.ub();P.wf(!0);ba.DF();
P.wf(!1);Z.push(ba)}}return Z}ac(){return this.Dg}Aa(){return this.Da}vF(z){this.La=z}Fa(){return this.La}G(){return this.g}gj(){return this.g.gj()}Wh(){this.zt();return this.nh}zt(){const z=this.Op();if(this.ll||z!==this.Kv){var F=this.Ka.Hf;this.nh.qC(F.map(I=>I.Cf()),{Lr:F.map(I=>I.Fa()),JB:!z,$B:!0});this.ll=!1;this.Kv=z}}gh(){this.Ka.gh();this.ll=!0}lo(){return this.Eca&&!this.BT}D3(){this.dA=!1}Fc(){for(const z of this.eea())if(!z.Ku)return!1;return!0}zj(z){z=!!z;this.Ku!==z&&(this.Ku=z,this.g.$())}bt(z){z=
!!z;if(this.bl!==z){if(this.bl=z)z=this.ac(),this.Dh=z.Af(),this.Eh=z.Bf();this.Fj();this.g.$()}}hi(z){var F=this.ac();const I=F.GL();F=F.HL();z>F&&(z=F);z<I&&(z=I);this.Dh!==z&&(this.Dh=z,this.bl&&(this.Fj(),this.g.$()))}ii(z){var F=this.ac();const I=F.IL();F=F.FL();z>F&&(z=F);z<I&&(z=I);this.Eh!==z&&(this.Eh=z,this.bl&&(this.Fj(),this.g.$()))}Af(){return this.bl?this.Dh:this.ac().Af()}Bf(){return this.bl?this.Eh:this.ac().Bf()}XE(){const z=this.ac();return[z.eD(),z.fD()]}QL(z,F){var I=this.IT;if(0===
z)F.ma(I);else{let R=I.Rr(),T=I.Sr();var J=this.gL(z);const Z=I.width()/J;I=I.height()/J;const [X,ba]=this.XE();if(.5!==X||.5!==ba){const Y=this.ms();var M=this.g,P=100/Y;J=(X-.5)*M.nf/P;M=(ba-.5)*M.mf/P;P=this.Ea();0!==P&&(r.set(J,M),r.rotate(P),J=r.O,M=r.N);z=e.ZB(Y,0,z);R+=e.Td(J,0,z);T+=e.Td(M,0,z)}F.set(R-Z/2,T-I/2,R+Z/2,T+I/2)}}qe(){return this.ab.Sa}Hk(z){z=e.fa(z,0,1);this.ab.Sa!==z&&(this.ab.Tr(z),this.QQ(),this.g.$())}QQ(){this.OA.ma(this.ab);this.OA.aK()}aD(){return this.OA}Op(){return this.ab.HB(1,
1,1,1)}E3(z){this.Pi!==z&&(this.Pi=z,this.Fj(),this.g.$())}A3(z,F){if(this.Md!==z||this.Nd!==F)if(this.Md=z,this.Nd=F,this.Fj(),this.g.$(),1!==this.Md||1!==this.Nd)for(const I of this.F)I.H().sF(!0)}Ve(z){this.Sc!==z&&(this.Sc=z,this.g.$())}$a(){return this.Sc}Hd(z){z=e.je(z);this.Xd!==z&&(this.Xd=z,this.Fj(),this.g.$())}Ea(){return e.je(this.Dg.Ea()+this.Xd)}RZ(){return 0<this.F.length}VE(){return this.WD()&&this.BT?(e.Dc(G,this.F),G.sort((z,F)=>this.zaa(z,F)),G):this.F}uO(z){e.Cl(z,this.VE());for(const F of this.Um)F.Fc()&&
0<F.qe()&&F.uO(z)}zaa(z,F){var I=this.ac().$Q,J=I[0],M=I[1];I=I[2];var P=z.A();const R=F.A();F=P.ga()-J;z=P.ia()-M;P=P.$a()-I;J=R.ga()-J;M=R.ia()-M;I=R.$a()-I;return J*J+M*M+I*I-(F*F+z*z+P*P)}Q3(z){z=!!z;this.Rj!==z&&(this.Rj=z,this.g.$())}m3(z){z=!!z;this.mH!==z&&(this.mH=z,this.g.$())}TM(){return!this.G().Al||!this.rca}WD(){return!this.TM()}Np(){return this.WD()&&this.ac().Pba}dE(){if(!this.Np())return!1;for(const z of this.Um)if(!z.dE())return!1;return!0}ig(z){this.sg!==z&&(this.sg=z,this.g.$())}fj(){return this.sg}MZ(){for(const z of this.Um)if(z.$x())return!0;
return!1}*NU(){for(const z of this.Um)yield*z.NU();yield this}*Wda(){let z=this.MS;for(;z;)yield z,z=z.MS}*eea(){yield this;yield*this.Wda()}l0(z){return this===z||this.Md===z.Md&&this.Nd===z.Nd&&this.hd===z.hd&&this.Pi===z.Pi&&this.Xd===z.Xd&&this.Af()===z.Af()&&this.Bf()===z.Bf()}R9(z){0!==z.size&&0<e.Vf(this.F,z)&&(this.MP(),this.ng())}ng(){this.dA=this.nJ=!1}Mt(){if(!this.nJ){this.F.sort(w);if(this.lo())for(let z=0,F=this.F.length;z<F;++z){const I=this.F[z].A();I.Ly(z);this.lr.D0(I.gv)}else for(let z=
0,F=this.F.length;z<F;++z)this.F[z].A().Ly(z);this.nJ=!0}}J0(z,F,I){var J=z.A();F=F.A();if(J.W()!==this||F.W()!==this)throw Error("can't arrange Z order unless both objects on this layer");J=J.oj();F=F.oj();if(J===F+(I?1:-1))return!1;e.Pca(this.F,J);J<F&&F--;I&&F++;F===this.F.length?this.F.push(z):this.F.splice(F,0,z);this.ng();return!0}H8(z,F){const I=[];let J=0,M=0,P=z.length,R=F.length;for(;J<P&&M<R;){const T=z[J],Z=F[M];T.A().ck<Z.A().ck?(I.push(T),++J):(I.push(Z),++M)}for(;J<P;++J)I.push(z[J]);
for(;M<R;++M)I.push(F[M]);return I}G8(z){const F=[],I=z.length;for(let J=0;J<I-1;J+=2)F.push(this.H8(z[J],z[J+1]));1===I%2&&F.push(z[I-1]);return F}F8(z){for(;1<z.length;)z=this.G8(z);return z[0]}u7(){this.Mt();e.D(d);this.lr.Nx(this.Uf,d);return d.length?1===d.length?d[0]:this.F8(d):[]}$x(){return this.Fc()&&0<this.qe()&&this.SO()}SO(){if(this.RZ()||!this.Rj)return!0;for(const z of this.Um)if(z.SO())return!0;return!1}it(){return this.mH||!this.Op()||0!==this.fj()||this.Ka.Hs()}eE(){if(this.it())return!0;
for(const z of this.Um)if(z.eE())return!0;return!1}rk(){return this.Ae}gL(z){if(this.Dg.df)return 1;{const F=this.ms();return F/(F-z)}}ms(){return 100/this.$h()}Fj(){this.kA=this.sH=!0}wy(z){this.sH&&(this.q5(z,this.Zu),this.sH=!1);return this.Zu}d7(){var z=this.g,F=this.ac(),I=z.Ul(),J=z.GA,M=z.HA;J=(this.Af()-J)*this.Md+J;var P=(this.Bf()-M)*this.Nd+M;z.Ro&&(J=Math.round(J),P=Math.round(P));M=(J+0)*I;J=(P+0)*I;F=F.df?100:this.ms();const [R,T]=this.XE();if(.5!==R||.5!==T){const Z=100/F;P=(R-.5)*
z.nf*I/Z;z=(T-.5)*z.mf*I/Z;I=this.Ea();0!==I&&(r.set(P,z),r.rotate(I),P=r.O,z=r.N);M+=P;J+=z}return[M,J,F]}q5(z,F){const I=this.g;var J=this.ac();const M=I.Ul();if(this.Np()){g.ma(p,J.$Q);g.ma(q,J.pba);g.ma(u,J.qba);J=I.GA;const P=I.HA,R=q[0]-p[0],T=q[1]-p[1],Z=q[2]-p[2];p[0]=(p[0]-J)*this.Md+J;p[1]=(p[1]-P)*this.Nd+P;p[2]*=Math.max(this.Md,this.Nd);q[0]=p[0]+R;q[1]=p[1]+T;q[2]=p[2]+Z;g.set(l,M,M,1);g.multiply(p,p,l);g.multiply(q,q,l)}else{const [P,R,T]=this.d7();g.set(p,P,R,T);g.set(q,P,R,T-100);
J=this.Ea();0===J?g.set(u,0,1,0):g.set(u,Math.sin(J),Math.cos(J),0)}z.AK(F,p,q,u,I.L.Vh());1!==M&&(g.set(l,M,M,1),h.scale(F,F,l))}laa(){this.kA=this.uH=!0}xy(z){this.uH&&(this.r5(z),this.uH=!1);return this.Tj}r5(z){const F=this.g.L,[I,J]=this.XE();this.Dg.df?z.WV(this.Tj,F.ij(),F.Vh()):.5===I&&.5===J?h.ma(this.Tj,F.lz):z.Bp(this.Tj,F.ij()/F.Vh(),I,J)}Jy(z){z.fo(this.xy(z));let F;F=this.wy(z);z.hq(F)}Y1(z){this.Jy(z);z.cq(this.$a())}dj(z,F,I){var J=this.g.L;const M=this.it();var P=null;let R=null;
if(this.g.AD()&&z.zk()){const T=J.xL(this);T&&(R=T.lC(),z.wE(R))}M?(P={Hl:this.g.Ad},"low"===J.rh&&(P.width=J.ij(),P.height=J.Vh()),this.Ae=P=this.g.ks(P),z.lg(P),this.Rj&&z.xn()):(this.Ae=F,z.lg(F));this.Rj||z.jd(this.Uk);this.Dg.QO(z,this.Ae,this.Um,M&&this.Rj);this.Jy(z);z.cq(this.$a());z.kg(this.WD());this.$h()>Number.EPSILON&&(this.Mt(),J=this.lo()&&0===this.$a()&&!this.uo,this.Np()?this.A6(z):J?this.B6(z):this.PO(z,this.VE()));z.cq(0);z.Ys(0);M&&(z.kg(!1),this.C6(z,P,F,I));R&&z.EC(R);this.Ae=
null}PO(z,F){const I=this.Uf,J=this.Ae,M=this.ac().df,P=this.ac().UL();let R=null;for(let T=0,Z=F.length;T<Z;++T){const X=F[T];if(X===R)continue;R=X;const ba=X.A();ba.Fc()&&ba.iM(I,P,M)&&this.Ok(X,ba,z,J)}}A6(z){const F=this.Ae,I=this.pq(),J=this.VE();for(let T=0,Z=J.length;T<Z;){var M=J[T],P=M.A();if(!P.Fc()||!P.Sp(I)){++T;continue}(!M.$p()||0<P.Kc)&&A.push(M);var R=M.A().Re();y.push(M);let X=T+1;for(;X<Z;++X){const ba=J[X],Y=ba.A();if(Y.Fc()&&Y.Sp(I)){if(Y.Re()!==R)break;ba.$p()?(0<Y.Kc&&A.push(ba),
y.push(ba)):A.push(ba)}}if(1!==y.length||y[0].wM()){this.x6(z,y);for(let ba=0,Y=A.length;ba<Y;++ba)M=A[ba],P=M.A(),P.Hy(!0),this.Ok(M,P,z,F),P.Hy(!1)}else{this.Ok(M,P,z,F);for(let ba=0,Y=A.length;ba<Y;++ba)P=A[ba],P!==M&&(R=P.A(),R.W().Ok(P,R,z,F))}T=X;e.D(y);e.D(A)}}x6(z,F){const I=this.Ae;z.KK();for(let P=0,R=F.length;P<R;++P){var J=F[P],M=J.A();M.Fy(!0);this.SE(J,M,z)}z.JK();for(let P=0,R=F.length;P<R;++P)J=F[P],M=J.A(),this.Ok(J,M,z,I),M.Fy(!1);z.IK()}B6(z){var F=this.lr;const I=this.xba,J=this.Yba,
M=this.Uf;I.set(F.ki(M.X),F.li(M.S),F.ki(M.ca),F.li(M.Z));this.dA&&I.bd(J)?F=this.zH:(F=this.u7(),this.dA=!0,J.ma(I));this.PO(z,F);F!==this.zH&&e.Dc(this.zH,F)}Ok(z,F,I,J){F.Hs()?this.z6(z,F,I,J):this.SE(z,F,I)}SE(z,F,I){F=F.jp;I.yi!==F&&F.EV();z.dj(I)}z6(z,F,I,J){this.y6(z,F,I,J)&&this.Jy(I)}y6(z,F,I,J){const M=F.Lf.Wh();M.$n(I,J,{BB:z,ln:F.fj(),devicePixelRatio:this.g.ts(),Wv:this.g.us()*this.$h(),OB:this.Ea(),Qr:F.Vc(),Rv:M.bu?null:this.Q7(F),eU:null,YT:null,ZT:null,cV:null});I.cq(this.$a());return M.xm}C6(z,
F,I,J){const M=this.g;0===this.Ka.Hf.length?(z.lg(I),z.yj(),J&&0===this.sg&&this.Op()?z.LK(F):(z.ig(this.sg),z.gm(this.OA),z.Iw(F)),z.Pp(F),M.Yn(F)):this.Wh().$n(z,I,{BB:this,ln:this.fj(),devicePixelRatio:M.ts(),Wv:M.us()*this.$h(),OB:this.Ea(),Qr:this.Uf,Rv:null,MJ:!0})}FN(z){this.hd!==z&&(this.hd=z,this.Dg.ow(),this.Fj(),this.g.$())}Ul(){return this.$h()*this.g.Ul()}hj(){return this.$h()*this.g.hj()}$h(){return(this.hd*this.Dg.hd-1)*this.Pi+1}CE(){var z=this.g.GA,F=this.g.HA,I=(this.Af()-z)*this.Md+
z,J=(this.Bf()-F)*this.Nd+F;z=this.$h();F=this.g.nf/z;z=this.g.mf/z;I-=F/2;let M=J-z/2;this.g.Ro&&(I=Math.round(I),M=Math.round(M));J=this.IT;J.set(I,M,I+F,M+z);F=this.Ea();0!==F&&(b.ma(J),b.offset(-J.Rr(),-J.Sr()),a.hea(b,F),a.HJ(b),b.offset(J.Rr(),J.Sr()),J.ma(b));F=this.Sc;this.QL(F,this.Uf);this.Np()?this.ZV(F,this.jn):this.jn.ma(this.Uf)}ZV(z,F){var I=this.g.L,J=I.yc;I=I.rc;const [M,P]=this.Rg(0,0,z),[R,T]=this.Rg(J,0,z),[Z,X]=this.Rg(J,I,z),[ba,Y]=this.Rg(0,I,z);z=Math.min(M,R,Z,ba);J=Math.min(P,
T,X,Y);I=Math.max(M,R,Z,ba);let va=Math.max(P,T,X,Y);isFinite(z)||(z=-Infinity);isFinite(J)||(J=-Infinity);isFinite(I)||(I=Infinity);isFinite(va)||(va=Infinity);F.set(z,J,I,va)}Rg(z,F,I=0){return this.u5(z,F,I,this.hj())}u5(z,F,I,J){const M=this.g;var P=M.ib();const R=this.$h();m.set(n,0,0,M.nf/R,M.mf/R);z/=J;F=n[3]-F/J;J=this.xy(P);P=this.wy(P);return e.I.v4(z,F,I,P,J,n,l)?[l[0],l[1]]:[NaN,NaN]}cW(z,F){const I=this.hd,J=this.Pi,M=this.Md,P=this.Nd,R=this.Xd;this.Nd=this.Md=this.Pi=this.hd=1;this.Xd=
0;this.Fj();z=this.Rg(z,F);this.hd=I;this.Pi=J;this.Md=M;this.Nd=P;this.Xd=R;this.Fj();return z}Un(z,F){return this.FP(z,F,0,this.hj())}sj(z,F,I=0){return this.FP(z,F,I,this.Ul()*this.gj())}FP(z,F,I,J){var M=this.g,P=M.ib();const R=this.$h();m.set(n,0,0,M.nf/R,M.mf/R);M=this.xy(P);P=this.wy(P);return e.I.a2(z,F,I,P,M,n,l)?[l[0]*J,(n[3]-l[1])*J]:[NaN,NaN]}Q7(z){var F=z.Vc(),I=z.Re();z=z.Kc;const J=I+z,M=F.X,P=F.S,R=F.ca;F=F.Z;if(this.Np()){if(this.om(M,P,I)||this.om(R,P,I)||this.om(R,F,I)||this.om(M,
F,I)||0<z&&(this.om(M,P,J)||this.om(R,P,J)||this.om(R,F,J)||this.om(M,F,J)))return null}else if(J>=this.ms())return null;let [T,Z]=this.sj(M,P,I),[X,ba]=this.sj(R,F,I);if(0!==this.Ea()||0<z){const [Y,va]=this.sj(R,P,I),[ta,ya]=this.sj(M,F,I);if(0<z){const [Na,Sa]=this.sj(M,P,J),[Ta,Ua]=this.sj(R,P,J),[Wa,eb]=this.sj(R,F,J),[fb,Pa]=this.sj(M,F,J);I=Math.min(T,X,Y,ta,Na,Ta,Wa,fb);X=Math.max(T,X,Y,ta,Na,Ta,Wa,fb);T=I;I=Math.min(Z,ba,va,ya,Sa,Ua,eb,Pa);ba=Math.max(Z,ba,va,ya,Sa,Ua,eb,Pa);Z=I}else I=Math.min(T,
X,Y,ta),X=Math.max(T,X,Y,ta),T=I,I=Math.min(Z,ba,va,ya),ba=Math.max(Z,ba,va,ya),Z=I}b.set(T,Z,X,ba);return b}pq(){this.kA&&(this.Vaa(),this.kA=!1);return this.HT}Vaa(){var z=this.g.ib();const F=this.xy(z);z=this.wy(z);this.HT.XV(z,F)}om(z,F,I){return this.pq().T_(z,F,I)}ba(){return{s:this.hd,a:this.Xd,vl:this.Uf.X,vt:this.Uf.S,vr:this.Uf.ca,vb:this.Uf.Z,v:this.Ku,bc:this.Uk.toJSON(),t:this.Rj,sx:this.Dh,sy:this.Eh,hosp:this.bl,px:this.Md,py:this.Nd,c:this.ab.toJSON(),sr:this.Pi,fx:this.Ka.ud(),cg:this.iz}}ja(z){this.hd=
z.s;this.Xd=z.a;this.Uf.set(z.vl,z.vt,z.vr,z.vb);this.Ku=!!z.v;this.Uk.Jl(z.bc);this.Rj=!!z.t;z.hasOwnProperty("sx")&&(this.Dh=z.sx);z.hasOwnProperty("sy")&&(this.Eh=z.sy);z.hasOwnProperty("hosp")&&(this.bl=!!z.hosp);this.Md=z.px;this.Nd=z.py;this.ab.Jl(z.c);this.Pi=z.sr;e.Dc(this.iz,z.cg);e.Dc(this.Oj,this.rT);const F=new Set(this.iz);let I=0;for(let J=0,M=this.Oj.length;J<M;++J)F.has(this.Oj[J][2])||(this.Oj[I]=this.Oj[J],++I);e.Ke(this.Oj,I);this.Ka.nd(z.fx);this.ll=!0;this.AF(!1);this.ng()}SN(z){if(!this.F.includes(z))if(z.Se()){var F=
[...z.dk()];F.push(z);F.sort((J,M)=>{J=J.A().Kp();M=M.A().Kp();return J-M});for(var I of F)if(I.cc())for(const J of I.Bd)F.includes(J)||(z=[...J.dk()],z.push(J),z.sort((M,P)=>{M=M.A().Kp();P=P.A().Kp();return M-P}),z&&z.length&&F.splice(F.length,0,...z));for(const J of F)this.pg(J,!0)}else if(this.pg(z,!0),z.cc())for(F of z.Bd)if(I=[...F.dk()],I.push(F),I.sort((J,M)=>{J=J.A().Kp();M=M.A().Kp();return J-M}),I&&I.length)for(const J of I)this.pg(J,!0)}}}
{"use strict";const e=self.B,b=self.Xf;e.m(e.Rect);e.m(e.Rect);const a=e.m(e.Rect),d=e.m(e.Za),c=self.$i.aC,g=[],m=[],h=[],l=[];let n=null;function p(q,u){n!==q&&(q.Y1(u),n=q)}e.q0=class extends e.aa{constructor(q,u,r){super();this.Ya=q;this.g=q.G();this.Da=r[0];this.nca=r[1];this.mca=r[2];this.V=r[1];this.R=r[2];this.jA=!!r[3];this.df=!!r[4];this.wB=r[5];this.xB=r[6];this.qR=r[7];this.Mc=null;this.eb=r[8];this.La=u;this.Eh=this.Dh=0;this.hd=1;this.Xd=0;this.Sq=new Set;this.Mg=new Set;this.yv=new Set;
this.Fq=[];this.aH=[];this.Pba=!1;this.$Q=c.create();this.pba=c.create();this.qba=c.create();this.VA=[];this.Vb=[];this.rS=new Map;this.sS=new Map;const v=this.g.L;this.Ka=e.m(e.ik,this,r[11]);this.nh=e.m(e.I.le,v.zG,{GB:(w,y)=>{y=y.wm.rk();w.Vs();w.Iw(y);w.Pp(y);v.Yn(y)},LB:w=>this.Ka.mk(w)});this.ll=!0;this.KT=!1;this.Ae=null;this.ap={};this.Qo=!0;this.uu=new self.d_(this);this.Rd=e.m(e.Event.Jb);for(const w of r[9])this.VA.push(e.m(e.nM,this,null,w));this.Vb=[...this.Hca()];for(let w=0,y=this.Vb.length;w<
y;++w)q=this.Vb[w],q.vF(w),q.qg(),this.rS.set(q.Aa().toLowerCase(),q),this.sS.set(q.eb,q);for(const w of r[10]){r=this.g.Oe(w[1]);if(!r)throw Error("missing nonworld object class");r.Hq||r.pN(w);this.aH.push(w);this.nO(r)}}j(){for(const q of this.Vb)q.j();e.D(this.Vb);this.yv.clear();this.g=this.Ya=this.Mc=null}G(){return this.g}Aa(){return this.Da}Fa(){return this.La}Wh(){this.zt();return this.nh}zt(){const q="low"===this.g.L.rh;if(this.ll||this.KT!==q){var u=this.Ka.Hf;this.nh.qC(u.map(r=>r.Cf()),
{Lr:u.map(r=>r.Fa()),DJ:q,$B:!0});this.ll=!1;this.KT=q}}gh(){this.Ka.gh();this.ll=!0}zL(){let q=this.Vb[0].$h();for(let u=1,r=this.Vb.length;u<r;++u){const v=this.Vb[u];if(0!==v.Md||0!==v.Nd)q=Math.min(q,v.$h())}return q}nP(){return.5*this.g.nf/this.zL()}oP(){return.5*this.g.mf/this.zL()}GL(){return this.jA?-Infinity:this.nP()}HL(){return this.jA?Infinity:this.ta()-this.nP()}IL(){return this.jA?-Infinity:this.oP()}FL(){return this.jA?Infinity:this.qa()-this.oP()}hi(q){const u=this.GL(),r=this.HL();
q>r&&(q=r);q<u&&(q=u);this.Dh!==q&&(this.Dh=q,this.Ej(),this.g.$())}Af(){return this.Dh}ii(q){const u=this.IL(),r=this.FL();q>r&&(q=r);q<u&&(q=u);this.Eh!==q&&(this.Eh=q,this.Ej(),this.g.$())}Bf(){return this.Eh}ow(){this.hi(this.Af());this.ii(this.Bf());for(const q of this.Vb)q.bl&&(q.hi(q.Af()),q.ii(q.Bf()))}T3(q,u){if(this.wB!==q||this.xB!==u)this.wB=q,this.xB=u,this.c0()&&(this.wq(),this.Ej(),this.g.$())}eD(){return this.df?.5:this.wB}fD(){return this.df?.5:this.xB}UL(){const q=this.eD(),u=this.fD();
return 0>q||1<q||0>u||1<u}HN(){this.df&&(this.df=!1,this.wq(),this.Ej(),this.g.$())}EN(){this.df||(this.df=!0,this.wq(),this.Ej(),this.g.$())}c0(){return!this.df}JN(q){this.hd!==q&&(this.hd=q,this.Ej(),this.ow(),this.g.$())}Hd(q){q=e.je(q);this.Xd!==q&&(this.Xd=q,this.Ej(),this.g.$())}Ea(){return this.Xd}ta(){return this.V}Jk(q){!isFinite(q)||1>q||(this.V=q)}qa(){return this.R}Gk(q){!isFinite(q)||1>q||(this.R=q)}*Hca(){for(const q of this.VA)yield*q.NU()}W(q){return"number"===typeof q?this.$w(q):
this.wL(q.toString())}$w(q){q=e.fa(Math.floor(q),0,this.Vb.length-1);return this.Vb[q]}wL(q){return this.rS.get(q.toLowerCase())||null}ax(q){return this.sS.get(q)||null}wq(){for(const q of this.Vb)q.laa()}Ej(){for(const q of this.Vb)q.Fj()}iZ(){let q=this.VA.filter(u=>u.$x())[0];for(;q;){if(!q.Rj)return d.Wi(q.Uk),d.Tr(1),d;if(q.it())return d.sn(0,0,0,0),d;q=q.Um.filter(u=>u.$x())[0]}d.sn(0,0,0,0);return d}fP(){return[...this.Sq]}nO(q){if(q.cc())for(const u of q.vg.ol)this.Sq.add(u);else this.Sq.add(q)}A7(){return[...this.Mg]}$E(q,
u){if(q===this||!u)return Promise.resolve();q&&(e.wW(this.Mg,q.Mg),q.Mg.clear());q=[];for(const r of this.Sq)this.Mg.has(r)||(q.push(r.Ms(u)),this.Mg.add(r));return Promise.all(q)}async uM(q){if(q.cb)throw Error("cannot load textures for family");var u=this.g.ib();!u||u.Pn()||this.Mg.has(q)||(this.Mg.add(q),u=q.Ms(u),this.d5(u),await u,q.PD(),this.g.$())}d5(q){this.yv.add(q);q.then(()=>this.yv.delete(q)).catch(()=>this.yv.delete(q))}G4(){return Promise.all([...this.yv])}H0(q){if(q.cb||0<q.F.length)throw Error("cannot unload textures");
this.g.ib()&&this.Mg.has(q)&&(this.Mg.delete(q),q.Zp())}Kaa(q,u){if(q!==this&&u)for(const r of this.Mg)r.Ef()||q.Sq.has(r)||(r.Zp(),this.Mg.delete(r))}Dt(){this.Mg.clear()}async HQ(q){const u=this.g,r=this.Ya,v=u.da();this.qR&&(this.Mc=v.pL(this.qR),this.Mc.EF());r.yQ(this);this.V=this.nca;this.R=this.mca;this.Dh=u.Hg/2;this.Eh=u.Gg/2;this.ow();this.I8(q);this.H5();this.Qo||this.J5();this.DO(this.Fq);this.I5();r.jW();u.Ed();const w=this.g.aba;await Promise.all(w);e.D(w);if(!u.Qj){for(const y of this.Fq)y.X3();
for(const y of this.Fq)y.JQ()}e.D(this.Fq);await Promise.all([...this.Sq].map(y=>y.RD(this.g.ib())));q&&(u.Jb().dispatchEvent(new e.Event("beforefirstlayoutstart")),await u.Bn(new e.Event("beforeprojectstart")));await this.Bn(new e.Event("beforelayoutstart"));u.Qj||await u.Hc(e.C.kb.J.j1,null,null);await this.Bn(new e.Event("afterlayoutstart"));q&&(u.Jb().dispatchEvent(new e.Event("afterfirstlayoutstart")),await u.Bn(new e.Event("afterprojectstart")));v.p$(r);await this.G4();this.wq();this.Ej();this.Qo=
!1}I8(q){for(const r of this.g.Ic)if(!r.cb&&r.Bg)for(const v of r.ea()){const w=v.A();var u=w.W();u=e.fa(u.Fa(),0,this.Vb.length-1);u=this.Vb[u];w.Ht(u);u.z8(v)}if(!q)for(const r of this.Vb)r.AF(!1)}H5(){for(const q of this.Vb)q.BW(this.Fq),q.CE()}J5(){let q=!1;for(const [r,v]of Object.entries(this.ap)){const w=this.g.dx(parseInt(r,10));if(w&&!w.cb&&w.lD()){for(const y of v){var u=null;if(w.Bg&&(u=this.ax(y.w.l),!u))continue;u=this.g.Uh(w,u,!1,0,0,!0);u.nd(y);q=!0;this.Fq.push(u)}e.D(v)}}for(const r of this.Vb)r.AF(!0),
r.ng();q&&(this.g.Ed(),this.g.aQ())}DO(q){for(const r of q){if(!r.cc())continue;const v=r.A(),w=r.En();for(const y of r.H().vg.ol)if(y!==r.H()){var u=y.ea();u.length>w?r.nq(u[w]):(u=v?this.g.Uh(y,v.W(),!0,v.ga(),v.ia(),!0):this.g.Uh(y,null,!0,0,0,!0),this.g.Ed(),y.Oy(),r.nq(u),q.push(u))}}}I5(){for(const q of this.aH)this.g.Oe(q[1]).cc()||this.g.Uh(q,null,!0)}F5(){const q=[],u=this.aH;let r=0;for(let v=0,w=u.length;v<w;++v){const y=u[v],A=this.g.Oe(y[1]);A.Ef()?A.cc()&&A.vg.NZ()||q.push(this.g.Uh(y,
null,!0)):(u[r]=y,++r)}e.Ke(u,r);this.g.Ed();this.DO(q)}Ts(q,u,r,v,w,y){if(r)return r.Ts(q,u,v,w,y);r=[];for(const A of this.Vb)r.push(A.Ts(q,u,v,w,y));return r.flat()}async Caa(){const q=this.Ya;this.g.Qj||await this.g.Hc(e.C.kb.J.i1,null,null);q.yN(!0);this.g.da().uw();this.Qo||this.A$();for(const u of this.Vb)u.M6();for(const u of this.g.Ic)if(!(u.Ef()||u.Bg||u.wb().Em||u.cb)){for(const r of u.ea())this.g.An(r);this.g.Ed()}q.yN(!1);q.Kb()===this&&q.yQ(null)}x$(q){const u=q.H().eb.toString();this.ap.hasOwnProperty(u)||
(this.ap[u]=[]);this.ap[u].push(q.ud())}A$(){for(const q of this.Vb){q.Mt();for(const u of q.F){const r=u.H();!r.Ef()&&r.lD()&&this.x$(u)}}}C2(){this.ap={};this.Qo=!0}rk(){return this.Ae}it(){const q=this.g,u=q.ib().zk();return"low"===q.L.rh||u&&q.uB||"low-latency"===q.Eq||this.Ka.Hs()||u&&q.Al}dj(q){const u=this.g.L,r=this.it();if(r){"low-latency"!==this.g.Eq&&(q.lg(null),q.xn());const v={Hl:this.g.Ad,QJ:this.g.uB||this.Ka.Hs()};"low"===u.rh&&(v.width=u.ij(),v.height=u.Vh());this.Ae=this.g.ks(v)}else this.Ae=
null;q.lg(this.Ae);q.jd(this.iZ());this.g.Al&&q.gW();for(const v of this.Vb)v.CE();this.QO(q,this.Ae,this.VA,!0);r&&(q.kg(!1),this.D6(q,this.Ae));this.Ae=null}QO(q,u,r,v){r=r.filter(w=>w.$x());for(let w=0,y=r.length;w<y;){const A=r[w];if(A.dE()&&!A.eE()){g.push(A);for(let G=w+1;G<y;++G){const z=r[G];if(z.dE()&&!z.eE())g.push(r[G]);else break}if(2<=g.length||1===g.length&&g[0].MZ()){this.v6(q,u,g);w+=g.length;e.D(g);continue}e.D(g)}A.dj(q,u,v&&0===w);++w}}D6(q,u){const r=this.g;0===this.Ka.Hf.length?
(q.lg(null),q.yj(),q.LK(u),q.Pp(u),r.Yn(u)):(a.set(0,0,r.nf,r.mf),this.Wh().$n(q,null,{BB:this,ln:3,devicePixelRatio:this.g.ts(),Wv:this.g.us()*this.hd,OB:this.Ea(),Qr:a,Rv:null,MJ:!0}))}v6(q,u,r){r[0].Rj||(d.Wi(r[0].Uk),d.Tr(1),q.jd(d));var v=this.g.L;q.kg(!0);for(var w of r)w.Mt(),w.uO(m);w=r[0];r=null;this.g.AD()&&q.zk()&&(v=v.xL(w))&&(r=v.lC(),q.wE(r));for(let z=0,F=m.length;z<F;){w=m[z];var y=w.A(),A=y.W();if(y.Fc()&&y.Sp(A.pq())){(!w.$p()||0<y.Kc)&&l.push(w);var G=w.A().Re();h.push(w);for(v=
z+1;v<F;++v){const I=m[v],J=I.A();if(J.Fc()&&J.Sp(J.W().pq())){if(J.Re()!==G)break;I.$p()?(0<J.Kc&&l.push(I),h.push(I)):l.push(I)}}if(1!==h.length||h[0].wM()){this.w6(q,u,h);for(let I=0,J=l.length;I<J;++I)w=l[I],y=w.A(),A=y.W(),y.Hy(!0),p(A,q),A.Ok(w,y,q,u),y.Hy(!1)}else{p(A,q);A.Ok(w,y,q,u);for(let I=0,J=l.length;I<J;++I)y=l[I],y!==w&&(A=y.A(),G=A.W(),p(G,q),G.Ok(y,A,q,u))}z=v;e.D(h);e.D(l)}else++z}r&&q.EC(r);e.D(m);n=null}w6(q,u,r){q.KK();for(let A=0,G=r.length;A<G;++A){var v=r[A],w=v.A(),y=w.W();
w.Fy(!0);p(y,q);y.SE(v,w,q)}q.JK();for(let A=0,G=r.length;A<G;++A)v=r[A],w=v.A(),y=w.W(),p(y,q),y.Ok(v,w,q,u),w.Fy(!1);q.IK()}ba(){const q={sx:this.Af(),sy:this.Bf(),s:this.hd,a:this.Ea(),w:this.ta(),h:this.qa(),ortho:this.df,vpX:this.eD(),vpY:this.fD(),fv:this.Qo,persist:this.ap,fx:this.Ka.ud(),layers:{}};for(const u of this.Vb)q.layers[u.eb.toString()]=u.ba();return q}ja(q){this.Dh=q.sx;this.Eh=q.sy;this.hd=q.s;this.Xd=q.a;this.V=q.w;this.R=q.h;this.df=!!q.ortho;q.hasOwnProperty("vpX")&&(this.wB=
q.vpX);q.hasOwnProperty("vpY")&&(this.xB=q.vpY);this.Qo=!!q.fv;this.ap=q.persist;this.Ka.nd(q.fx);this.ll=!0;for(const [u,r]of Object.entries(q.layers))(q=this.ax(parseInt(u,10)))&&q.ja(r);this.wq();this.Ej()}Tg(q){q.PB=this.uu;var u=this.g;(u=u.pb&&!u.da().Cx())&&b.vE();this.Rd.dispatchEvent(q);u&&b.kC()}Bn(q){q.PB=this.uu;return this.Rd.BJ(q)}}}
{"use strict";const e=self.B;e.r0=class extends e.aa{constructor(b){super();this.g=b;this.ri=[];this.IH=new Map;this.JH=new Map;this.Wu=null;this.vI=[];this.zz=null;this.Zz=0;this.bv=null}j(){this.bv=this.zz=this.Wu=this.g=null;e.D(this.ri);this.IH.clear();this.JH.clear();e.D(this.vI)}Ma(b){b=e.m(e.q0,this,this.ri.length,b);this.ri.push(b);this.IH.set(b.Aa().toLowerCase(),b);this.JH.set(b.eb,b)}G(){return this.g}j3(b){this.zz=b}SY(){if(this.zz)return this.zz;if(this.ri.length)return this.ri[0];throw Error("no first layout");
}Hp(b){return this.IH.get(b.toLowerCase())||null}YC(b){return this.JH.get(b)||null}jZ(b){b=e.fa(Math.floor(b),0,this.ri.length-1);return this.ri[b]}ac(b){return"number"===typeof b?this.jZ(b):this.Hp(b.toString())}yQ(b){this.Wu=b}Kb(){return this.Wu}*ew(){this.Wu&&(yield this.Wu);this.vI.length&&(yield*this.vI)}yN(b){if(b)this.Zz++;else{if(0>=this.Zz)throw Error("already unset");this.Zz--}}fM(){return 0<this.Zz}rw(b){this.bv=b}jW(){this.bv=null}Tp(){return!!this.bv}eo(){const b=this.Kb();b&&b.wq()}co(){const b=
this.Kb();b&&b.Ej()}}}
{"use strict";const e=self.B;e.m4=class extends e.aa{constructor(b){super();this.g=b;this.Bv=e.m(e.og);this.oca=null;this.Wm=[];this.Cv=new Map;this.nl=new Map;this.Xm=new Map;this.Kg=[];this.ee=[];this.zh=[];this.Ju=this.Cq=this.Io=!1;this.wl=()=>this.o9();this.yr=()=>this.jF();this.bG=()=>this.Ct();this.HH=()=>this.K8();this.eH=a=>this.TP(a.instance);this.NF=()=>this.Bt();this.ju=[];this.Cc=0}j(){this.p2();this.NF=this.eH=this.HH=this.bG=this.yr=this.wl=null;for(const b of this.Wm)b.ve(),b.j();
e.D(this.Wm);this.Wm=null;this.Bv.j();this.Bv=null;e.D(this.Kg);this.Kg=null;e.D(this.ee);this.ee=null;e.D(this.zh);this.zh=null;this.Cv.clear();this.Cv=null;this.nl.clear();this.nl=null;this.Xm.clear();this.Xm=null;e.D(this.ju);this.g=this.ju=null}yV(){const b=this.g.Jb();b.addEventListener("pretick",this.wl);b.addEventListener("tick2",this.yr);b.addEventListener("beforelayoutchange",this.bG);b.addEventListener("layoutchange",this.HH);b.addEventListener("instancedestroy",this.eH);b.addEventListener("afterload",
this.NF)}p2(){const b=this.g.Jb();b.removeEventListener("pretick",this.wl);b.removeEventListener("tick2",this.yr);b.removeEventListener("beforelayoutchange",this.bG);b.removeEventListener("layoutchange",this.HH);b.removeEventListener("instancedestroy",this.eH);b.removeEventListener("afterload",this.NF)}Ma(b){this.Bv.Uc(b);b=e.jo.AW(b,this);this.Uc(b);this.I3(b);this.Xm.set(b.Aa(),0)}yC(b){b=b.ML();var a=this.Bv.Y(b);a=e.jo.yC(`${b}:${this.Xm.get(b)}`,a,this);this.vP(b);this.Uc(a);return a}vP(b){this.Xm.set(b,
this.Xm.get(b)+1)}P$(){for(const b of this.Wm)b.Uq||this.vP(b.ML())}x5(){for(const b of this.Xm.keys())this.Xm.set(b,0)}Uc(b){this.Wm.push(b);this.Cv.set(b.Aa().toLowerCase(),b)}ah(b){b.Qx();b.Uq||(e.ek(this.Wm,b),e.ek(this.Kg,b),e.ek(this.ee,b),e.ek(this.zh,b),this.Cv.delete(b.Aa().toLowerCase()),this.q2(b),b.Jg||b.j())}ua(b){this.g.ua(b,this.oca,null)}G(){return this.g}LN(b,a){this.nl.has(b)||this.nl.set(b,new Set);this.nl.get(b).add(a)}I3(b){for(const a of b.AL())this.LN(a,b)}q2(b){for(const [a,
d]of this.nl.entries())d.has(b)&&(d.delete(b),0===d.size&&this.nl.delete(a))}CZ(b){if(this.nl.has(b))return this.nl.get(b)}qx(b){return this.Cv.get(b.toLowerCase())||null}o2(b){e.ek(this.ee,b);this.yt()}iN(b){this.ee.includes(b)?(b.iq(!0),b.kq(!1),b.Yx(!1)):(b.iq(!1),b.kq(!0),b.Yx(!1),this.Kg.includes(b)||this.Kg.push(b));this.KP()}Cw(b){b.iq(!1);b.kq(!1);b.$D();e.ek(this.Kg,b);this.yt()}FK(b){b.iq(!1);b.kq(!1);b.Yx(!0);this.zh.push(b);e.ek(this.ee,b)}GK(b){b.iq(!1);b.kq(!1);b.Yx(!1);b.gi(1);e.ek(this.ee,
b)}sW(b){this.FK(b);b.$D()}o9(){if(!this.G().Qj&&this.Io&&!this.Cq){for(this.Ju=!0;this.Kg.length;){var b=this.Kg.pop();b.Gc();0!==b.Cc&&(this.Cc=1);this.ee.push(b)}b=this.g.ku;var a=this.g.lu,d=this.g.pd;for(let c=this.ee.length-1;0<=c;c--)this.ee[c].We(b,d,a);this.Ju=!1;0!==this.Cc&&this.G().$()}}jF(){if(!this.G().Qj&&this.Io&&!this.Cq){var b;for(let a=0,d=this.zh.length;a<d;a++){const c=this.zh[a];b||(b=new Set);c.Qx();this.LP(c);b.add(c)}if(b){e.Vf(this.zh,b);this.Cc=0;for(let a=0,d=this.ee.length;a<
d;a++)if(0!==this.ee[a].Cc){this.Cc=1;break}}this.yt()}}LP(b){b.Jg||b.TL()&&b.If&&b.Am&&b.dL()}KP(){this.Io||(this.Io=!0)}yt(){this.zh.length||this.ee.length||this.Kg.length||this.Ju||(this.Io=!1)}Ct(){for(this.Cq=!0;this.Kg.length;)this.Cw(this.Kg.pop());const b=new Set;for(const a of this.ee)a.Ct()&&(a.Qx(),b.add(a));e.Vf(this.ee,b);b.clear();for(const a of this.zh)a.Ct()&&(a.Qx(),b.add(a));e.Vf(this.zh,b);this.yt();for(const a of this.Wm)a.bj()}K8(){this.Cq=!1}TP(b){var a=b.H();if(a=this.CZ(a))if(this.g.Qj)this.ju.push(b);
else for(const d of a)d.Uq||(d.Jg?this.ah(d):d.TL()||(this.LP(d),this.ah(d)))}Bt(){for(const b of this.ju)this.TP(b);e.D(this.ju)}ba(){return{timelinesJson:this.F$(),scheduledTimelinesJson:this.D$(),playingTimelinesJson:this.B$(),markedForRemovalTimelinesJson:this.z$(),hasRuntimeListeners:this.Io,changingLayout:this.Cq,isTickingTimelines:this.Ju}}ja(b){b&&(this.x5(),this.t8(b.timelinesJson),this.q8(b.scheduledTimelinesJson),this.o8(b.playingTimelinesJson),this.n8(b.markedForRemovalTimelinesJson),
this.Io=!b.hasRuntimeListeners,this.Cq=!!b.changingLayout,this.Ju=!!b.isTickingTimelines,this.P$(),this.KP(),this.yt())}F$(){return this.Wm.map(b=>b.ba())}t8(b){for(const a of b){b=this.qx(a.name);if(!b){b=this.x7(a);if(!b)continue;b=this.qx(b);b=this.yC(b)}b.ja(a);b.WZ()||this.ah(b)}}x7(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}D$(){return this.rF(this.Kg)}q8(b){this.cF(b,this.Kg)}B$(){return this.rF(this.ee)}o8(b){this.cF(b,this.ee)}z$(){return this.rF(this.zh)}n8(b){this.cF(b,this.zh)}Y7(b,
a){for(const d of a)if(d===b.Aa())return!0;return!1}rF(b){return b.map(a=>a.Aa())}cF(b,a){var d=new Set;for(const c of a)this.Y7(c,b)||d.add(c);e.Vf(a,d);d=c=>g=>g.Aa()===c;for(const c of b)(b=this.qx(c))&&(a.find(d(c))||a.push(b))}}}
{"use strict";const e=self.B;e.jo=class extends e.aa{constructor(b,a,d){super();this.g=d.G();this.zb=d;this.Dd=a;this.Da=b;this.gb=[];this.zT=0;this.zq=null;this.WQ=0;this.RK();this.LA=this.cv=null;this.Yb=0;this.Nc=1;this.zd=0;this.wd=1;this.Am=this.fl=this.cA=!1;this.If=!0;this.AA=this.Jg=!1;this.Dq=-1;this.Ce=this.Fo=this.Uq=this.Nz=!1;this.nA=NaN;this.Lg=[""];this.sT="";this.NI=!1;this.Kz=this.Cc=0}static AW(b,a){const d=a.Bv.Y(b[0]);b=e.m(e.jo,b[0],d,a);b.u3();return b}static yC(b,a,d){return e.m(e.jo,
b,a,d)}j(){if(!this.Jg){this.zb.Cw(this);this.zb.sW(this);for(const b of this.gb)b.j();e.D(this.gb);this.Dd=this.zb=this.g=this.gb=null;this.Jg=!0;this.LA=this.cv=null}}RK(){for(const b of this.Dd.Fs().XU())this.zT=this.gb.push(e.BE.Ma(this,b))}G(){return this.g}Bs(b,a,d){if(this.Kz){var c;for(let m=0;m<this.gb.length;m++){var g=this.gb[m];b===g.xa()&&(g=g.zf(d))&&a.constructor===g.Bb().constructor&&(c||(c=[]),c.push(g))}return c}}WZ(){return!!this.gb.length}Zx(b){this.Da=b}Aa(){return this.Da}ML(){return this.Dd.Aa()}Df(){return this.Dd.Df()}Cs(){return this.Dd.Cs()}Yh(){return this.Dd.Yh()}Pe(){return this.Dd.Pe()}wj(b){for(const a of this.gb)a.wj(b)}bx(){return this.Dd.bx()}hx(){return this.Dd.hx()}ai(){return this.Dd.ai()}gi(b){return this.Nc=
b}qj(){return this.IsPlaying()?0<this.Nc:!0}BL(){this.cv||(this.cv=new Promise(b=>{this.LA=b}))}$D(){this.cv&&(this.LA(),this.LA=this.cv=null)}KN(b){this.Lg=e.jo.w7(b);this.NI=!0}IM(){e.C.xc.J.ho(this);this.zb.ua(e.C.xc.J.Aja);this.zb.ua(e.C.xc.J.Bja);this.zb.ua(e.C.xc.J.Cja);this.zb.ua(e.C.xc.J.qja);e.C.xc.J.ho(null)}ND(){this.Dq=this.g.Wj}dL(){this.Fo||(this.Fo=!0,e.C.xc.J.ho(this),this.zb.ua(e.C.xc.J.xja),this.zb.ua(e.C.xc.J.yja),this.zb.ua(e.C.xc.J.zja),this.zb.ua(e.C.xc.J.pja),e.C.xc.J.ho(null))}iq(b){this.cA=
b}aM(){return this.Dq===this.g.Wj}IsPlaying(b=!1){return this.aM()||this.fl&&!b?!0:this.cA}sq(){return this.IsPlaying(!0)}kq(b){this.fl=b}oN(b){this.If=b;b=this.ya();if(0>=b||b>=this.Df())this.If=!0}Yx(b){this.AA=b}iE(b){this.Nz=b}u3(){this.Uq=!0}ya(){return this.Yb}lq(b){const a=this.ya();this.oc(b);this.oN(!1);this.If||this.iE(!0);if(this.sq()||this.fl||!this.Am)this.sq()||this.fl||this.Am?this.sq()?this.ve():this.fl&&(this.zb.Cw(this),this.wN()):this.wN();this.Jt();this.YE(b,!0,a);this.zF();this.Cc&&
this.G().$();this.XP()}oc(b){this.Yb=0>b?0:b>=this.Df()?this.Df():b}XP(){e.C.xc&&this.constructor===e.jo&&(e.C.xc.J.ho(this),this.zb.ua(e.C.xc.J.uja),this.zb.ua(e.C.xc.J.vja),this.zb.ua(e.C.xc.J.wja),e.C.xc.J.ho(null))}Play(b=!1){return this.Jg||this.fl?!1:this.sq()&&this.aM()?this.J$():this.sq()||!this.If&&!b&&!this.Nz?!1:this.K$()}J$(){this.iE(!1);this.zb.o2(this);this.zb.iN(this);this.BL();return!0}K$(){this.iE(!1);this.zb.iN(this);this.BL();return!0}ve(b=!1){this.Jg||(this.oN(b),this.zb.FK(this),
this.If&&this.$D())}Yc(b=!0,a=!1){if(!this.Jg)if(!this.sq()&&this.fl)this.zb.Cw(this);else if(!this.If){this.ve(!0);this.qj()?this.oc(0):this.oc(this.Df());var d=this.ya();this.Jt();a?this.R7(d):this.YE(d,!1);b&&this.XP();this.zF();this.Cc&&b&&this.G().$()}}bN(){this.Yc(!1,!0)}R7(b){this.YE(b,!1,NaN,!1,!0)}Ct(){if(this.Jg)return!0;if(this.XZ())return!1;this.zb.GK(this);this.bN();return!0}wN(){this.Gc(!0)}Gc(b){if(!this.AA){if(b){this.Ce=this.Am=!0;this.Jt();for(const a of this.gb)a.Gc()}else if(this.iq(!0),
this.kq(!1),this.IM(),this.If){this.Dq=-1;this.zd=0;this.wd=1;this.Fo=this.If=!1;this.Ce=this.Am=!0;this.qj()?this.oc(0):this.oc(this.Df());this.Jt();for(const a of this.gb)a.Gc()}else{this.Ce=!0;this.Jt();for(const a of this.gb)a.te()}this.zF()}}Jt(){this.Kz=0;for(const b of this.gb)b.Dm&&(this.Kz=1)}zF(){this.Cc=0;for(const b of this.gb)b.Ky(),0===this.Cc&&1===b.Cc&&(this.Cc=1),this.zq||1!==b.Lm||(this.zq||(this.zq=[]),this.WQ=this.zq.push(b))}We(b,a){if(0!==b||0!==this.nA){this.nA=b;var d=this.Yb;
a=d+b*a*this.Nc;b=this.Dd.Ar;this.Yb=0>a?0:a>=b?b:a;var c=!1;a=this.bx();var g=this.hx();a||g?a&&!g?0<this.Nc?this.Yb>=b&&this.oc(0):0>=this.Yb&&this.oc(b):!a&&g?0<this.Nc?this.Yb>=b&&(this.oc(b),this.gi(-1*this.Nc),1===this.zd?this.wd<this.ai()?(this.wd++,this.zd=0):c=!0:0===this.zd&&(this.zd=1)):0>=this.Yb&&(this.oc(0),this.gi(-1*this.Nc),1===this.zd?this.wd<this.ai()?(this.wd++,this.zd=0):c=!0:0===this.zd&&(this.zd=1)):a&&g&&(0<this.Nc?this.Yb>=b&&(this.oc(b),this.gi(-1*this.Nc)):0>=this.Yb&&(this.oc(0),
this.gi(-1*this.Nc))):0<this.Nc?this.Yb>=b&&(this.wd<this.ai()?(this.wd++,this.oc(0)):(this.oc(b),c=!0)):0>=this.Yb&&(this.wd<this.ai()?(this.wd++,this.oc(b)):(this.oc(0),c=!0));a=this.zT;if(c){for(c=0;c<a;c++)this.gb[c].sN();this.ve(!0);this.ND()}else{g=this.WQ;for(c=0;c<g;c++)this.zq[c].vn();if(1===this.Kz)for(c=0;c<a;c++){const m=this.gb[c],h=m.Qe(),l=d-h;0>this.Yb-h&&0<l?(this.Yb=0>h?0:h>=b?b:h,m.za(h,!0,!1,!1,this.Ce,!1)):m.za(this.Yb,!0,!1,!1,this.Ce,!1)}else for(c=0;c<a;c++)this.gb[c].za(this.Yb,
!0,!1,!1,this.Ce,!1);for(c=0;c<g;c++)this.zq[c].un();this.Ce&&(this.Ce=!1)}}}YE(b,a=!1,d=NaN,c=!1,g=!1){for(var m of this.gb)m.vn();for(const h of this.gb){m=b;if("number"===typeof d){const l=this.ya()-h.Qe(),n=d-h.Qe();0>l&&0<n&&(m=h.Qe(),this.oc(m))}h.za(m,!1,a,!0,this.Ce,g)}for(const h of this.gb)h.un();this.Ce&&c&&(this.Ce=!1)}Qx(){if(!this.Jg)for(const b of this.gb)b.Kk()}bj(){for(const b of this.gb)b.bj()}kW(){for(const b of this.gb)b.iW()}J3(b,a){if(a)for(const d of this.gb)if(d.di()){if(b){if(d.jj()!==
b)continue}else if(d.QZ())continue;d.r3(a);this.zb.LN(a.H(),this);break}}TL(){return this.gb.some(b=>b.di()?b.uC():!0)}XZ(){return this.gb.some(b=>b.di()?b.uC()?(b=b.H())?b.Ef():!1:!1:!1)}zf(b){for(const a of this.gb)for(const d of a.Va)if(d.pa.Oc===b)return d}NL(b){for(const a of this.gb)if(b===a.xa())return a;return null}AL(){const b=[];for(const a of this.gb)b.push(a.H());return b.filter(a=>a)}ba(){return{tracksJson:this.H$(),name:this.Da,playheadTime:this.ya(),playbackRate:this.Nc,pingPongState:this.zd,
currentRepeatCount:this.wd,isPlaying:this.cA,isScheduled:this.fl,initialStateSet:this.Am,finishedTriggers:this.Fo,complete:this.If,released:this.Jg,markedForRemoval:this.AA,completedTick:this.Dq,implicitPause:this.Nz,isTemplate:this.Uq,tags:this.Lg.join(" "),stringTags:this.sT,tagsChanged:this.NI,firstTick:this.Ce}}ja(b){b&&(this.u8(b.tracksJson),this.Da=b.name,this.Yb=b.playheadTime,this.Nc=b.playbackRate,this.zd=b.pingPongState,this.wd=b.currentRepeatCount,this.cA=!!b.isPlaying,this.fl=!!b.isScheduled,
this.Am=!!b.initialStateSet,this.Fo=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.If=!!b.complete,this.Jg=!!b.released,this.AA=!!b.markedForRemoval,this.Dq=b.completedTick,this.Nz=!!b.implicitPause,this.Uq=!!b.isTemplate,this.Lg=b.tags.split(" "),this.sT=b.stringTags,this.NI=!!b.tagsChanged,this.Ce=!!b.firstTick)}H$(){return this.gb.map(b=>b.ba())}u8(b){b.forEach((a,d)=>{this.gb[d].ja(a)});this.gb.filter(a=>a.uC())}static w7(b){if(e.On(b))return b.slice(0);if(e.ei(b))return b.split(" ")}}}
{"use strict";const e=self.B;e.BE=class extends e.aa{constructor(b,a){super();this.Gh=b;this.Eb=a;this.He=a.Fs();this.ml=this.dl=NaN;this.Pa=this.fc=null;this.Dm=0<a.Qe();this.Bo=this.Tq=!1;this.Ki=null;this.hc=this.Eb.kj().hc;this.Va=[];this.QK();this.Lm=this.Cc=this.ak=0}static Ma(b,a){return e.m(e.BE,b,a)}j(){this.hc=null;for(const b of this.Va)b.j();e.D(this.Va);this.Ki=this.Eb=this.Pa=this.fc=this.Gh=this.Va=null}QK(){for(const b of this.Eb.Ud().HU())this.Va.push(e.Xa.Ma(this,b))}Kk(){for(const b of this.Va)b.Kk()}bj(){for(const b of this.Va)b.bj();
this.Pa=this.fc=null}tb(){return this.Gh}G(){return this.Gh.G()}hZ(){return this.hc?this.hc:this.hc=this.Eb.kj().hc}zf(b){for(let a=0;a<this.Va.length;a++){const d=this.Va[a];if(d.pa.Oc===b)return d}}Os(){this.fc||this.xa()}Zl(){return this.fc?!this.fc.Js():!1}uC(){if(!this.di())return!1;const b=this.G().Ug(this.ws());return b?!b.Js():!1}H(){if(this.di()){var b=this.$C();if(-1!==b)return this.G().Oe(b)}}iW(){this.fc=null;this.dl=-1;this.Pa=null;this.ml=-1}QZ(){return!!this.fc}xa(){return this.fc&&
this.Zl()?this.fc:this.fc=this.G().Ug(this.ws())}r3(b){if(this.fc!==b){this.bj();this.fc=b;this.ml=b.H().Fa();this.dl=b.lc;this.Pa=b.A();for(const m of this.Yda()){const h=m.mea;switch(m.Xda.Gd()){case "instance-variable":var a=b.H(),d=a.aZ(m.name),c=a.vL(d);a=a.xs(d);c===m.name&&a===m.type&&h.A4(d);break;case "behavior":var g=m.rJ;d=this.H();c=b.H();a=h.$f(c);g&&a&&(g=g.Aa(),d.ls(g),c.ls(g),h.x4(a.eb))}}}}*Yda(){for(const d of this.Va){var b=d.Bb(),a=this.H();const c={Xda:d,mea:b};switch(d.Gd()){case "world-instance":c.Eqa=
d.pa.Oc;break;case "instance-variable":b=b.Gp();c.name=a.vL(b);c.type=a.xs(b);break;case "effect":a=b.SC(a.Ka);c.Qoa=a;break;case "behavior":a=b.$f(a);c.rJ=a;break;case "plugin":c.zqa=a.wb()}yield c}}A(){if(this.Pa&&this.Zl())return this.Pa;const b=this.xa();b&&(this.Pa=b.A());return this.Pa}ws(){return this.dl?this.dl:this.Eb.ws()}Yh(){return this.Eb.Yh()}Pe(){return this.Eb.Pe()}jj(){return this.Eb.jj()}Qe(){return this.Eb.Qe()}qk(){return this.Eb.qk()}wj(b){for(const a of this.hZ())a.wj(b);for(const a of this.Va)a.wj(b)}pk(){return this.Eb.pk()}Fk(b){this.Eb.Fk(b)}$C(){return isNaN(this.ml)?
this.Eb.$C():this.ml}Tl(){this.xa();return this.Eb.Tl()}Sl(){this.xa();return this.Eb.Sl()}nj(){return this.Eb.nj()}Aa(){return this.Eb.Aa()}di(){return 0===this.nj()}Gc(){this.Os();if(this.Zl()||!this.di()){var b=this.tb().qj()?0:this.qk();for(const a of this.Va)a.Gc(b),0===this.ak&&1===a.ak&&(this.ak=1),0===this.Cc&&1===a.Cc&&(this.Cc=1);this.Lm=0;this.Va.some(a=>a.Lm)&&(this.Lm=1);this.Ki=this.gP(b);this.Bo=this.Tq=!1;this.za(b)}}te(){this.Os();if(this.Zl()||!this.di()){this.Gh.qj();var b=this.Gh.ya()-
this.Qe();this.Ki=this.gP(b);for(const a of this.Va)a.te(b)}}sN(){if(!(this.tb().If||(this.Os(),!this.Zl()&&this.di()||this.Dm))){const b=this.Gh.ya();b>=this.Qe()+this.qk()?this.za(this.qk(),!0,!1,!0):0>=b&&this.za(0,!0,!1,!0)}}Ky(){for(let b=0,a=this.Va.length;b<a;b++){const d=this.Va[b];d.Ky();0===this.ak&&1===d.ak&&(this.ak=1);0===this.Cc&&1===d.Cc&&(this.Cc=1)}}vn(){const b=this.Va.length;for(let a=0;a<b;a++)this.Va[a].vn()}za(b,a=!1,d=!1,c=!1,g=!1,m=!1){this.fc||this.xa();const h=0===this.Eb.ra;
if(!((!this.fc||this.fc.Js())&&h||m&&h&&this.H().Ef()||(b-=this.Qe(),0>b))){this.F0(b,a);this.G0(b,a,g);for(let l=0,n=this.Va.length;l<n;l++)this.Va[l].za(b,d,c);this.E0(b,a);0!==this.ak&&(this.Pa||(this.Pa=this.fc.A()),this.Pa&&this.Pa.ub())}}un(){const b=this.Va.length;for(let a=0;a<b;a++)this.Va[a].un()}F0(b,a){if(a&&this.Dm&&!this.Tq){if(this.tb().qj()){if(0>b)return;for(const d of this.Va)d.za(0,!1,!0)}else{if(b>this.qk())return;for(const d of this.Va)d.za(this.qk(),!1,!0)}for(const d of this.Va)d.Gc();
this.Tq=!0}}E0(b,a){if(a&&this.Dm&&!this.Bo)if(this.tb().qj()){if(b>=this.qk()){for(const d of this.Va)d.za(this.qk(),!1,!0);this.Bo=!0}}else if(0>=b){for(const d of this.Va)d.za(0,!1,!0);this.Bo=!0}}G0(b,a,d){if(!d&&a&&e.C.xc){a=this.tb();d=this.Ki.Ee;var c=this.Ki.ya(),g=d?d.ya():a.Df();if(b<=c||b>=g)this.Ki=this.He.rL(b,this.Eb),a.qj()?d&&this.QD(this.Ki):this.Ki.Ee&&this.QD(this.Ki)}}gP(b){const a=this.He.eZ(b,this.Eb);return a?a:this.He.rL(b,this.Eb)}QD(b){const a=this.tb();e.C.xc.J.ho(a);e.C.xc.J.R3(b);
b=a.zb;b.ua(e.C.xc.J.oja);b.ua(e.C.xc.J.QD);e.C.xc.J.ho(null);e.C.xc.J.R3(null)}uV(){return this.Eb.kj().pV()}RW(b){this.Eb.kj().QW(b)}Gw(b){for(const a of this.Va)a.Gw(b)}bo(){for(const b of this.Va)b.bo()}Sh(){this.Os();if(this.Zl()||!this.di())for(const b of this.Va)b.Sh()}Th(){this.Os();if(this.Zl()||!this.di()){var b=!1;for(const a of this.Va){const d=a.Th();!b&&d&&(b=!0)}b&&(b=this.uV(),b.lq(this.tb().ya()),b.wj("noease"),b.Fk(!0),b.KN(""))}}ba(){var b=this.xa();b=b?b.lc:this.ws();return{propertyTracksJson:this.C$(),
lastKeyframeDataItemJson:this.y$(),initialStateOfNestedSet:this.Tq,endStateOfNestedSet:this.Bo,instanceUid:b}}ja(b){b&&(this.p8(b.propertyTracksJson),this.m8(b.lastKeyframeDataItemJson),this.j8(b.instanceUid),this.Tq=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Tq=b.initialStateOfNestedSet),this.Bo=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.Bo=b.endStateOfNestedSet))}y$(){return this.Eb.kj().gZ(this.Ki)}C$(){return this.Va.map(b=>b.ba())}p8(b){b.forEach((a,d)=>{this.Va[d].ja(a)})}j8(b){if(e.Xl(b)&&
(b=this.G().Ug(b))){var a=this.tb();a.kW();a.J3(this.Eb.jj(),b)}}m8(b){this.Ki=this.Eb.kj().fZ(b)}}}
{"use strict";const e=self.B;e.Xa=class extends e.aa{constructor(b,a){super();this.nb=b;this.pa=a;this.jc=a.Ud();this.Lm=this.Cc=this.ak=0;this.he=this.Bb();this.Ib=this.pa.Yg().Ib;this.Nt=this.Ac=null}static Ma(b,a){return e.m(e.Xa,b,a)}j(){this.nb=null;this.he&&(this.he.j(),this.he=null);this.jc=this.pa=this.Ib=null}hD(){return!!this.Nt}S2(b){this.Nt=b}Ud(){return this.jc}tb(){return this.nb.tb()}G(){return this.nb.G()}xa(){return this.nb.xa()}Bb(){if(this.he)return this.he;let b;switch(this.pa.Gd()){case "behavior":b=
new e.Xa.OV(this);break;case "effect":b=new e.Xa.ZX(this);this.Cc=1;break;case "instance-variable":b=new e.Xa.Q_(this);break;case "plugin":b=new e.Xa.S1(this);this.Cc=1;break;case "world-instance":b=new e.Xa.Wn(this);this.ak=this.Cc=1;break;case "value":b=new e.Xa.C4(this);break;case "audio":b=new e.Xa.LV(this)}return this.he=b}Gd(){return this.pa.Gd()}jx(){return this.pa.nj()}As(){return this.Ud().Vw(this.pa).nj()}pk(){return this.pa.pk()}Fk(b){this.pa.Fk(b)}Yh(){return this.pa.Yh()}Pe(){return this.pa.Pe()}wj(b){for(const a of this.ix())a.wj(b)}tC(){return this.pa.tC()}ix(){return this.Ib?
this.Ib:this.Ib=this.pa.Yg().Ib}Kk(){this.Bb().Kk()}bj(){this.Bb().bj()}ne(){return this.Bb().ne()}Gc(b){this.Bb().Gc();this.Ac=this.hP(b);this.Ky()}te(b){this.Bb().te();this.Ac=this.hP(b)}Ky(){var b=this.nb;this.Lm=0;if(b.di()){var a=this.tb();b=b.xa();const d=this.Bb(),c=this.pa.Oc;d.tj()?(a=a.Bs(b,d,c))&&a.length&&(this.Lm=1):this.Lm=0}}hP(b){const a=this.tb(),d=this.jc.vZ(b,this.pa);return d?d:a.qj()?this.jc.Xh(b,this.pa):this.jc.sL(b,this.pa)}vn(){this.he.vn()}za(b,a=!1,d=!1){let c;if(a)var g=
this.jc.Xh(b,this.pa);else{if(this.Ac){var m=this.tb();const h=this.Ac.Ee;g=this.Ac.ya();m=h?h.ya():m.Df();if(b<=g||b>=m)this.Ac=this.jc.Xh(b,this.pa)}else this.Ac=this.jc.Xh(b,this.pa);g=this.Ac}g&&(c=g.Ee);this.he.za(b,g,c,a,d)}yf(b){if(this.Ac){var a=this.tb();const c=this.Ac.Ee;var d=this.Ac.ya();a=c?c.ya():a.Df();if(b<=d||b>=a)this.Ac=this.jc.Xh(b,this.pa)}else this.Ac=this.jc.Xh(b,this.pa);d=this.Ac;return this.he.yf(b,d,d.Ee)}un(){this.he.un()}static LL(b,a){return a.jc.Xh(b,a.pa)}uK(){const b=
this.pa.Yg().tK();this.Ac=null;return b}Gw(b){this.Ac=null;this.pa.Yg().WK(b)}bo(){this.Bb().bo()}Sh(){if(this.Bb().Sh()){const b=this.jc.Vw(this.pa),a=this.Bb().ne();b.jN(a)}}Th(){const b=this.Bb().Th();b&&this.wV();this.Bb().xw();return b}wV(){const b=this.tb().ya(),a=this.Bb(),d=e.Xa.LL(b,this),c=this.uK();c.MN(d.nj());c.lq(b);c.wj(d.Ql());c.Fk(!0);c.ue(a.PL());c.jN(a.ne())}ba(){return{sourceAdapterJson:this.Bb().ba()}}ja(b){b&&this.Bb().ja(b.sourceAdapterJson)}}}
{"use strict";const e=self.B.Xa;e.Wn=class{constructor(b){this.K=b;this.jf=null;this.Xg()}j(){this.jf&&(this.jf.j(),this.jf=null);this.K=null}tj(){return this.jf.tj()}zf(){return this.K}Kk(){this.jf&&this.jf.Kk()}bj(){this.jf&&this.jf.bj()}Xg(){return this.jf?this.jf:this.jf=this.K5()}Gp(){}Fa(){return this.Gp()}Es(){}Gc(){this.Xg().Gc()}te(){this.Xg().te()}vn(){this.jf.yp()}za(b,a,d,c,g){let m;switch(this.K.As()){case "numeric":m=e.Ps.za(b,a,d,this.K);break;case "angle":m=e.kw.za(b,a,d,this.K);break;
case "boolean":m=e.mw.za(b,a,d,this.K);break;case "color":m=e.yw.za(b,a,d,this.K);break;case "text":m=e.by.za(b,a,d,this.K)}this.jf.wn(b,m,a,d,c,g)}yf(b,a,d){switch(this.K.As()){case "numeric":return e.Ps.za(b,a,d,this.K);case "angle":return e.kw.za(b,a,d,this.K);case "boolean":return e.mw.za(b,a,d,this.K);case "color":return e.yw.za(b,a,d,this.K);case "text":return e.by.za(b,a,d,this.K)}}un(){this.jf.xp()}bo(){var b=this.Xg();b.Ch=b.ne()}xw(){this.Xg().xw()}ne(){return this.Xg().ne()}Sh(){return this.Xg().Sh()}Th(){return this.Xg().Th()}PL(){const b=
this.K,a=b.nb.tb().ya(),d=e.LL(a,b),c=d.Ee;switch(b.As()){case "numeric":return e.Ps.za(a,d,c,b);case "angle":return e.kw.za(a,d,c,b);case "boolean":return e.mw.za(a,d,c,b);case "color":return e.yw.za(a,d,c,b);case "text":return e.by.za(a,d,c,b)}}K5(){const b=this.K;switch(b.tC()?b.As():""){case "combo":case "boolean":case "text":case "string":return new e.Te.xM(this);case "numeric":case "number":case "angle":return"combo"===this.K.jx()?new e.Te.xM(this):new e.Te.yM(this);case "color":case "offsetColor":return new e.Te.nW(this);
default:return new e.Te.yM(this)}}ba(){return{propertyAdapterJson:this.Xg().ba()}}ja(b){b&&this.Xg().ja(b.propertyAdapterJson)}}}
{"use strict";const e=self.B;class b extends e.Xa.Wn{constructor(a){super(a);this.Gv=NaN}Gp(){return this.K.pa.Qf[0]}Fa(){return this.Gv?this.Gv:super.Fa()}Es(){return this.K.nb.xa()}A4(a){this.K.pa.Qf[0]!==a&&(this.Gv=a)}za(a,d,c,g,m){this.Xg().sC(d.rd())&&super.za(a,d,c,g,m)}yf(a,d,c){if(this.Xg().sC(d.rd()))return super.yf(a,d,c)}ba(){return Object.assign(super.ba(),{index:this.Gv})}ja(a){a&&(super.ja(a),this.Gv=a.index)}}e.Xa.Q_=b}
{"use strict";const e=self.B;class b extends e.Xa.Wn{constructor(a){super(a);this.eb=NaN}Gp(){return this.K.pa.Qf[1]}Es(){var a=this.K.pa,d=this.eb?this.eb:a.Qf[0];a=this.K.nb.xa();d=a.iL(d);return a.fd[d].wa}$f(a){return a.Ow(this.K.pa.Qf[2])}x4(a){this.K.pa.Qf[0]!==a&&(this.eb=a)}za(a,d,c,g,m){const h=this.K.nb.xa();this.$f(h.H())&&super.za(a,d,c,g,m)}yf(a,d,c){const g=this.K.nb.xa();if(this.$f(g.H()))return super.yf(a,d,c)}ba(){return Object.assign(super.ba(),{sid:this.eb})}ja(a){a&&(super.ja(a),
this.eb=a.sid)}}e.Xa.OV=b}{"use strict";const e=self.B;class b extends e.Xa.Wn{constructor(a){super(a)}Gp(){return this.K.pa.Qf[1]}Es(){const a=this.K.nb.A().Lf,d=this.SC(a.Ka).Fa();return a.Ks(d)?a.mk(d):null}SC(a){return a.nk(this.K.pa.Qf[0])}za(a,d,c,g,m){this.CP()&&super.za(a,d,c,g,m)}yf(a,d,c){if(this.CP())return super.yf(a,d,c)}CP(){const a=this.K.nb.A().Lf,d=this.SC(a.Ka);if(d)return a.Ks(d.Fa())}}e.Xa.ZX=b}
{"use strict";const e=self.B;class b extends e.Xa.Wn{constructor(a){super(a)}Gp(){return this.K.pa.Qf[0]}Es(){return this.K.nb.xa().wa}za(a,d,c,g,m){var h=this.K.nb;const l=h.H().wb();h=h.xa().H().wb();l===h&&super.za(a,d,c,g,m)}yf(a,d,c){var g=this.K.nb;const m=g.H().wb();g=g.xa().H().wb();if(m===g)return super.yf(a,d,c)}}e.Xa.S1=b}
{"use strict";const e=self.B;class b extends e.Xa.Wn{constructor(a){super(a);this.tc=0;this.Oz=!1}tj(){return!1}Gc(){const a=this.K.Ud();let d=this.K.pa;d=a.Vw(d);this.tc=d.nc()}te(){}rd(){this.Oz||this.K.za(0);return this.tc}za(a,d,c){this.tc=e.Xa.Ps.za(a,d,c,this.K);this.Oz=!0}bo(){}xw(){}ne(){return this.tc}Sh(){return!1}Th(){return!1}ba(){return{value:this.tc,init:this.Oz}}ja(a){a&&(this.tc=a.value,this.Oz=a.hasOwnProperty("init")?a.init:!0)}}e.Xa.C4=b}
{"use strict";const e=self.B;class b extends e.Xa.Wn{constructor(a){super(a);this.Ij=!1;this.Oq=this.Lb=this.ge=null;this.Gh=this.K.tb();this.nb=this.K.nb;this.sv=this.K.pa.Qf;this.KG=this.sv[0];this.JI=this.sv[1];this.jh=this.sv[3]?this.sv[3]:Math.random().toString(36).slice(2);this.sp=this.$o=this.Nm=NaN;this.Ye=null;this.BP()}j(){super.j();this.Ye=this.KG=this.sv=this.nb=this.Gh=this.Oq=this.Lb=this.ge=null}BP(){if(self.B.C.Audio){var a=this.K.G().cx("audio");a&&(this.ge=a.bi().wa);this.Lb=self.B.C.Audio.dd;
this.Oq=self.B.C.Audio.me}}NP(){if(!this.Ye){var a=this.K.nb.zf("audioSource");a&&(this.Ye=a.Bb())}}q7(){const a=this.K.nb.zf("volume");return a?a.Bb().$o:this.$o}Kk(){super.Kk();this.Ij=!1;this.ge&&(this.Oq&&(this.Nm=this.Oq.Q1.call(this.ge,this.jh),this.$o=this.Oq.E4.call(this.ge,this.jh)),this.Lb&&this.Lb.ve.call(this.ge,this.jh))}km(a){this.sp=a}Gc(){super.Gc();this.Nm=NaN;this.Ij=!1}te(){super.te();const a=this.K.tb().ya();this.Nm=a-this.JI;switch(this.K.pa.Oc){case "volume":this.$o=this.K.yf(a)}this.Ij=
!1}za(a,d,c,g,m){if(this.ge)switch(this.K.pa.Oc){case "audioSource":if(!this.Gh.qj())break;if(g){this.Lb&&this.Lb.ve.call(this.ge,this.jh);break}if(a<this.JI){this.Ij=!1;break}d=this.Oq.P1.call(this.ge,this.jh);c=this.Gh.Nc;c!==d&&this.Lb.gi.call(this.ge,this.jh,c);if(this.Ij)break;this.Ij=!0;if(isNaN(this.Nm)){const h=self.performance.now(),l=a-this.JI;this.ge.fg("get-suspended").then(n=>{if("suspended"===n)this.Ij=!1;else if(n=l+(self.performance.now()-h)/1E3,this.Lb){let p=this.sp;isNaN(p)?(this.km(0),
p=0):this.km(p);this.Lb.Play.call(this.ge,this.KG,0,p,this.jh,n)}})}else{const h=this.Nm;this.Nm=NaN;const l=this.q7();this.$o=NaN;this.ge.fg("get-suspended").then(n=>{"suspended"===n?this.Ij=!1:this.Lb&&(this.km(l),this.Lb.Play.call(this.ge,this.KG,0,l,this.jh,h))})}break;case "volume":this.NP(),super.za(a,d,c,g,m)}}yf(a,d,c){if(this.ge)switch(this.K.pa.Oc){case "volume":return this.NP(),super.yf(a,d,c)}}RL(){return this.Ye?this.Ye.sp:0}W3(a,d){this.Ye&&this.Ye.km(this.RL()+d);this.Lb&&this.Ye&&
this.Lb.km.call(this.ge,this.Ye.jh,this.Ye.sp)}kV(a,d){this.Ye&&this.Ye.km(d);this.Lb&&this.Ye&&this.Lb.km.call(this.ge,this.Ye.jh,this.Ye.sp)}ba(){return{audioPlaybackStarted:this.Ij,audioTag:this.jh,pauseTime:this.Nm,pauseVolume:this.$o,volume:this.sp}}ja(a){a&&(this.Ij=a.audioPlaybackStarted,this.jh=a.audioTag,this.Nm=a.pauseTime,this.$o=a.pauseVolume,this.sp=a.volume,this.BP())}}e.Xa.LV=b}"use strict";function ic(e,b,a){return e.K.tb().qj()?b():a()}
function jc(e,b,a){return"relative"===e.K.Pe()?b():a()}function kc(e){if(e.tr)return e.tr;e.tr=e.he.Es();return e.tr}function lc(e,b=!1){const a=[];for(const d of e){e=d.nb.Qe();for(const c of d.ix())b&&0===c.ya()?a.push({time:e+c.ya(),value:c.ih}):b||a.push({time:e+c.ya(),value:c.ih})}return a.sort((d,c)=>d.time-c.time)}function mc(e,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=e)return b[a];return null}
self.B.Xa.Te=class{constructor(e){this.he=e;this.K=e.zf();this.Pa=this.K.nb.A();this.Oc=this.K.pa.Oc;this.Pq=!1;this.tr=this.Ch=null}j(){this.tr=this.Ch=this.Pa=this.K=this.he=null}tj(){return!1}Kk(){}bj(){this.tr=this.Ch=this.Pa=null}Bb(){return this.he}zf(){return this.K}A(){return this.Pa?this.Pa:this.Pa=this.K.nb.A()}Gc(){}te(){}xw(){this.Ch=null}ne(){}Sh(){}Th(){}sC(e){return typeof this.Pk()===typeof e}yp(){}wn(){}xp(){}no(){return ic(this,()=>{const e=this.K.pa;return this.K.Ud().Vw(e)},()=>
{const e=this.K.pa;return this.K.Ud().Fn(e)}).ih}ky(){const e=this.K.tb().ya()-this.K.nb.Qe();return ic(this,()=>{const b=this.K.pa;return this.K.Ud().Xh(e,b)},()=>{const b=this.K.pa,a=this.K.Ud(),d=a.sL(e,b);return d?d:a.Fn(b)}).ih}oy(){}xe(){return this.he.Fa()}ba(){return{firstAbsoluteUpdate:this.Pq,saveState:this.Ch}}ja(e){e&&(this.Pq=e.firstAbsoluteUpdate,this.Ch=e.saveState)}};
{"use strict";const e=self.B,b=new Map,a=[0,0,0];class d extends e.Xa.Te{constructor(c){super(c)}Gc(){}te(){}ne(){const c=this.K.Gd(),g=kc(this),m=this.xe();switch(c){case "behavior":return this.Ny(g.Xc(m));case "effect":return this.Ny(g[m]);case "plugin":return this.Ny(g.Xc(m));case "world-instance":return this.Ny(this.Pk())}}Sh(){const c=this.no();return!this.CO(c,this.Pk())}Th(){return e.Vd(this.Ch)?!1:!this.CO(this.Ch,this.Pk())}CO(c,g){return c.Fl(g)}no(){const c=super.no();return this.qy(c)}ky(){const c=
super.ky();return this.qy(c)}oy(){}Ny(c){return e.Yl(c,e.Za)?c.toArray().slice(0,3):c.slice(0,3)}qy(c){return e.Yl(c,e.Za)?c:new e.Za(c[0],c[1],c[2],1)}sC(){return!0}tj(){return!0}yp(){var c=this.K.tb(),g=this.K.xa();const m=this.K.Bb();(c=c.Bs(g,m,this.Oc))&&1<c.length&&(b.has(g)||b.set(g,new Map),g=b.get(g),c=this.K.Gd(),g.has(c)||g.set(c,new Map),g=g.get(c),g.has(this.Oc)||g.set(this.Oc,{dV:!1,color:new e.Za(0,0,0,1)}))}rP(c,g,m){c=b.get(c).get(g).get(m);c.dV=!0;return c.color}wn(c,g){var m=this.K.tb(),
h=this.K.nb;c=this.K.xa();var l=this.K.Bb();const n=this.K.Gd();if((l=m.Bs(c,l,this.Oc))&&1<l.length){if(l=lc(l,!0),m=m.ya(),m=mc(m,l))l=m.time-h.Qe(),0===l?this.rP(c,n,this.Oc).PT(g[0],g[1],g[2]):0>l||(m=g[0],h=g[1],g=g[2],l=this.K.za(l,!1,!0),m=e.Za.BC(m,l[0]),h=e.Za.BC(h,l[1]),g=e.Za.BC(g,l[2]),this.rP(c,n,this.Oc).PT(m,h,g))}else this.Hj(g[0],g[1],g[2])}xp(){const c=this.K.xa();if(b.has(c)){var g=b.get(c),m=this.K.Gd();if(g.has(m)){var h=g.get(m);if(h.has(this.Oc)){var l=h.get(this.Oc),n=l.color;
l.dV&&this.Hj(n.Ra,n.Ua,n.Ta);0===h.size&&g.delete(m);0===g.size&&b.delete(c)}}}}Pk(){const c=this.K.Gd(),g=kc(this),m=this.xe();switch(c){case "behavior":return this.qy(g.Xc(m));case "effect":return g[m].clone();case "plugin":return this.qy(g.Xc(m));case "world-instance":return this.A().ab.clone()}}Hj(c,g,m){const h=this.K.Gd(),l=kc(this),n=this.xe();switch(h){case "behavior":a[0]=c;a[1]=g;a[2]=m;l.xj(n,a);break;case "effect":l[n].Vr(c,g,m);break;case "plugin":a[0]=c;a[1]=g;a[2]=m;l.xj(n,a);break;
case "world-instance":this.A().S3(c,g,m)}}ba(){}ja(){}}e.Xa.Te.nW=d}
{"use strict";const e=self.B,b=e.Xa;class a extends e.Xa.Te{constructor(d){super(d)}Gc(){}te(){}ne(){return this.Pk()}Sh(){return this.no()!==this.ne()}Th(){return e.Vd(this.Ch)?!1:this.Ch!==this.ne()}tj(){return!1}wn(d,c){const g=this.K,m=g.nb,h=g.Gd();var l=g.tb();const n=m.xa(),p=g.Bb();(l=l.Bs(n,p,this.Oc))&&1<l.length&&(l=lc(l),d=mc(d+m.Qe(),l))&&(c=d.value);switch(g.As()){case "numeric":if(!b.Ps.Mk(this.xe(),kc(this),c,h))return;break;case "angle":if(!b.kw.Mk(this.xe(),kc(this),c,h))return;
break;case "boolean":if(!b.mw.Mk(this.xe(),kc(this),c,h))return;break;case "color":if(!b.yw.Mk(this.xe(),kc(this),c,h))return;break;case "text":if(!b.by.Mk(this.xe(),kc(this),c,h))return}this.Hj(c)}Pk(){const d=this.K.Gd(),c=kc(this),g=this.xe();switch(d){case "behavior":return c.Xc(g);case "effect":return c[g];case "instance-variable":return c.pe(g);case "plugin":return c.Xc(g)}}Hj(d){const c=this.K.Gd(),g=kc(this),m=this.xe();switch(c){case "behavior":g.xj(m,d);break;case "effect":g[m]=d;break;
case "instance-variable":g.im(m,d);break;case "plugin":g.xj(m,d)}}}e.Xa.Te.xM=a}
{"use strict";const e=self.B,b=new Map,a=(c,g,m,h,l)=>b.set(c,{jea:g,Fca:m,pda:h,round:l});a("offsetX",(c,g)=>c.S0(g),(c,g)=>c.dh(g),c=>c.ga(),!0);a("offsetY",(c,g)=>c.T0(g),(c,g)=>c.eh(g),c=>c.ia(),!0);a("offsetWidth",(c,g)=>c.AM(g),(c,g)=>c.Jk(g),c=>c.ta(),!0);a("offsetHeight",(c,g)=>c.zM(g),(c,g)=>c.Gk(g),c=>c.qa(),!0);a("offsetAngle",(c,g)=>c.O0(g),(c,g)=>c.Hd(g),c=>c.Ea(),!1);a("offsetOpacity",(c,g,m,h)=>{m=c.qe()+g;0===h.zc?(1<m?h.zc+=m-1:0>m&&(h.zc+=m),c.P0(g)):(c=c.qe()+g,0<g&&0<h.zc?1<c&&
(h.zc+=c-1):0<g&&0>h.zc?(h.zc+=g,0<h.zc&&(h.zc=0)):0>g&&0<h.zc?(h.zc+=g,0>h.zc&&(h.zc=0)):0>g&&0>h.zc&&0>c&&(h.zc+=c))},(c,g)=>{c.Hk(g)},c=>c.qe(),!1);a("offsetOriginX",(c,g)=>c.Q0(g),(c,g)=>c.kE(g),c=>c.ys(),!1);a("offsetOriginY",(c,g)=>c.R0(g),(c,g)=>c.lE(g),c=>c.zs(),!1);a("offsetZElevation",(c,g)=>c.U0(g),(c,g)=>c.Ve(g),c=>c.$a(),!0);a("offsetScaleX",(c,g,m)=>{const h=0>c.ta()?-1:1;c.AM(m.Tl()*h*g)},(c,g,m)=>{c.Jk(m.Tl()*g)},(c,g)=>{const m=0>c.ta()?-1:1;if(c.Jn()){var h=c.Ba();const l=g.tb().NL(h.xa());
l?h=h.ta()/l.Tl():(h.xa(),h=1);return c.ta()*m/(g.Tl()*h)}return c.ta()*m/g.Tl()},!1);a("offsetScaleY",(c,g,m)=>{const h=0>c.qa()?-1:1;c.zM(m.Sl()*h*g)},(c,g,m)=>{c.Gk(m.Sl()*g)},(c,g)=>{const m=0>c.qa()?-1:1;if(c.In()){var h=c.Ba();const l=g.tb().NL(h.xa());l?h=h.qa()/l.Sl():(h.xa(),h=1);return c.qa()*m/(g.Sl()*h)}return c.qa()*m/g.Sl()},!1);class d extends e.Xa.Te{constructor(c){super(c);this.zc=this.Rb=0;this.kT=this.mT=this.lT=this.fH=this.hH=this.gH=null;this.uI=!1;this.Ym=e.Yl(this.K.tb(),e.t4)?
new e.Xa.Te.N0(this):new e.Xa.Te.M0(this);const g=this.K.pa.Oc;switch(this.K.Gd()){case "world-instance":c=b.get(g);this.gH=c.pda;this.hH=c.jea;this.fH=c.Fca;this.uI=c.round;break;case "audio":this.lT=c.RL,this.mT=c.W3,this.kT=c.kV,this.uI=!0}}j(){this.fH=this.hH=this.gH=this.Ym=null;super.j()}tj(){return this.Ym.tj()}AN(c){this.Rb=c}Gc(){const c=this.Ym.Gc();"number"===typeof c&&(this.Rb=c);this.zc=0}te(){const c=this.Ym.te();"number"===typeof c&&(this.Rb=c)}ne(){return this.Pk()}Sh(){return this.no()!==
this.ne()}Th(){return e.Vd(this.Ch)?!1:this.Ch!==this.ne()}yp(){this.Ym.yp()}wn(c,g,m,h,l,n,p){return this.Ym.wn(c,g,m,h,l,n,p)}xp(){this.Ym.xp()}Pk(){const c=kc(this),g=this.xe(),m=this.A(),h=this.K.nb;switch(this.K.Gd()){case "behavior":return c.Xc(g);case "effect":return c[g];case "instance-variable":return c.pe(g);case "plugin":return c.Xc(g);case "world-instance":return this.gH(m,h);case "audio":return this.lT.call(this.Bb(),m,h)}}Hj(c){const g=kc(this),m=this.xe(),h=this.A(),l=this.K.nb;switch(this.K.Gd()){case "behavior":g.MD(m,
c);break;case "effect":g[m]+=c;break;case "instance-variable":g.t3(m,c);break;case "plugin":g.MD(m,c);break;case "world-instance":this.hH(h,c,l,this);break;case "audio":this.mT.call(this.Bb(),h,c,l,this)}}EQ(c){const g=kc(this),m=this.xe(),h=this.A(),l=this.K.nb;switch(this.K.Gd()){case "behavior":g.xj(m,c);break;case "effect":g[m]=c;break;case "instance-variable":g.im(m,c);break;case "plugin":g.xj(m,c);break;case "world-instance":this.fH(h,c,l);break;case "audio":this.kT.call(this.Bb(),h,c,l)}}tq(c,
g,m,h,l,n){this.Ym.tq(c,g,m,h,l,n)}Nk(c,g,m){c=(c.toString().split(".")[1]||"").length;const h=this.Pk();this.Hj((0===c?this.uI?Math.round(h):h:e.toFixed(h,c))-h,g,m)}ba(){return Object.assign(super.ba(),{v:this.Rb,a:this.zc})}ja(c){c&&(super.ja(c),this.Rb=c.v,this.zc=c.a)}}e.Xa.Te.yM=d}
{"use strict";class e{constructor(a){this.eJ=!1;this.tc=0;this.Va=a;for(let d=0,c=this.Va.length;d<c;d++)this.Va[d].S2(this)}ON(){this.eJ=!0}ue(a){this.tc=a}rd(){return this.tc}Yc(){this.eJ=!1;this.tc=0}}class b{constructor(a){this.de=a}j(){this.de=null}Gc(){const a=this.de;this.de.zf();return jc(a,()=>ic(a,()=>0,()=>a.Bb().PL()),()=>{})}te(){}tj(){switch(this.de.zf().Pe()){case "relative":return!1;case "absolute":return!0}}yp(){var a=this.de.zf(),d=a.pa.Oc;switch(a.Pe()){case "absolute":if(a.hD())a.Nt.Yc();
else{const c=a.tb(),g=a.xa();a=a.Bb();(d=c.Bs(g,a,d))&&1<d.length&&new e(d)}}}wn(a,d,c,g,m,h){var l=this.de,n=this.de.zf();switch(n.Pe()){case "relative":n=l.Rb;l.Hj(d-n,c,g);h&&this.tq(a,c,g,m,n,d);l.AN(d);break;case "absolute":if(c=n.tb(),a=n.nb,n.xa(),n.Bb(),n.hD()){if(l=n.Nt,g=lc(l.Va,!0),c=c.ya(),c=mc(c,g))a=c.time-a.Qe(),0===a?(l.ON(),l.ue(l.rd()+d)):0>a||(n=n.yf(a),l.ON(),l.ue(l.rd()+(d-n)))}else l.EQ(d)}}xp(){const a=this.de;var d=this.de.zf();switch(d.Pe()){case "absolute":d.hD()&&(d=d.Nt,
d.eJ&&a.EQ(d.rd()))}}tq(a,d,c,g,m,h){const l=this.de;g||(d&&a===d.ya()?l.Nk(d.nc(),d,c):c&&a===c.ya()?l.Nk(c.nc(),d,c):0===h-m&&l.Nk(d.nc(),d,c))}}self.B.Xa.Te.M0=b}
{"use strict";class e{constructor(b){this.de=b}j(){this.de=null}Gc(){const b=this.de;b.Pq=!0;return this.oy(b.no())}te(){const b=this.de;if(b.no()!==b.ky())return b.Pq=!0,this.oy(b.ky())}tj(){return!1}yp(){}wn(b,a,d,c,g,m){const h=this.de,l=h.Rb;switch(h.zf().Pe()){case "relative":h.Hj(a-l,d,c);m&&this.tq(b,d,c,g,l,a);break;case "absolute":h.Pq?(h.Pq=!1,h.Hj(l,d,c)):(h.Hj(a-l,d,c),m&&this.tq(b,d,c,g,l,a))}h.AN(a)}xp(){}oy(b){return b-this.de.ne()}tq(b,a,d,c,g,m){const h=this.de;c?a&&b===a.ya()?h.Nk(a.nc(),
a,d):d&&b===d.ya()?h.Nk(d.nc(),a,d):d||h.Nk(a.nc(),a,d):a&&b===a.ya()?h.Nk(a.nc(),a,d):d&&b===d.ya()?h.Nk(d.nc(),a,d):0===m-g&&h.Nk(a.nc(),a,d)}}self.B.Xa.Te.N0=e}
{"use strict";const e=self.B,b=self.ds;e.Xa.Ps=class{constructor(){}static Mk(a,d,c,g){let m;switch(g){case "behavior":m=d.Xc(a);break;case "effect":m=d[a];break;case "instance-variable":m=d.pe(a);break;case "plugin":m=d.Xc(a)}return m===c?!1:!0}static za(a,d,c,g){if(!c)return c=g.pa,c=g.Ud().Fn(c),c.nc();var m=g.Yh();"default"===m&&(m="continuous");"combo"===g.jx()&&(m="discrete");if("discrete"===m)return d.nc();if("continuous"===m||"step"===m){"step"===m&&(m=g.tb().Cs(),0!==m&&(m=1/m,a=Math.floor(a*
m)/m));var h=d.ya();const l=c.ya();m=d.nc();const n=c.nc();if(m===n)return m;a=e.normalize(a,h,l);const p=d.Ql();d=d.JC("cubic-bezier");c=c.JC("cubic-bezier");d&&d.tv&&c&&c.qz?(h=l-h,h=b.Gn(p)(h*a,0,1,h),h=b.Gn("cubicbezier")(h,m,m+d.HI,n+c.CG,n)):h=b.Gn(p)((l-h)*a,m,n-m,l-h);return"integer"===g.jx()?Math.floor(h):h}}}}
{"use strict";const e=self.B;e.Xa.kw=class{constructor(){}static Mk(b,a,d,c){let g;switch(c){case "behavior":g=a.Xc(b);break;case "effect":g=a[b];break;case "instance-variable":g=a.pe(b);break;case "plugin":g=a.Xc(b)}return g===d?!1:!0}static za(b,a,d,c){if(!d)return a=c.pa,a=c.Ud().Fn(a),a.nc();var g=c.Yh();"default"===g&&(g="continuous");"combo"===c.jx()&&(g="discrete");if("discrete"===g)return a.nc();if("continuous"===g||"step"===g){"step"===g&&(c=c.tb().Cs(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const m=a.ya(),h=d.ya();c=a.nc();d=d.nc();if(g=a.JC("angle")){const l=g.tI;if(c===d&&0===l)return c;b=e.normalize(b,m,h);a=self.ds.Gn(a.Ql())(b,0,1,1);switch(g.vG){case "closest":return e.oJ(c,d,a,l);case "clockwise":return e.Mca(c,d,a,l);case "anti-clockwise":return e.Lca(c,d,a,l)}}else{if(c===d)return c;b=e.normalize(b,m,h);a=self.ds.Gn(a.Ql());return e.oJ(c,d,a(b,0,1,1))}}}}}"use strict";
self.B.Xa.mw=class{constructor(){}static Mk(e,b,a,d){let c;switch(d){case "behavior":c=b.Xc(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.pe(e);break;case "plugin":c=b.Xc(e)}return!!c===!!a?!1:!0}static za(e,b,a,d){return a?b.nc()?1:0:(e=d.pa,e=d.Ud().Fn(e),e.nc()?1:0)}};
{"use strict";const e=self.B,b=[0,0,0],a=[0,0,0],d=[0,0,0];e.Xa.yw=class{constructor(){}static Mk(c,g,m,h){let l;switch(h){case "behavior":l=g.Xc(c);break;case "effect":l=g[c];break;case "instance-variable":l=g.pe(c);break;case "plugin":l=g.Xc(c)}Array.isArray(m)?(b[0]=m[0],b[1]=m[1],b[2]=m[2]):(d.DU(m),b[0]=Math.floor(255*d.Ra),b[1]=Math.floor(255*d.Ua),b[2]=Math.floor(255*d.Ta));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(d.DU(l),a[0]=Math.floor(255*d.Ra),a[1]=Math.floor(255*d.Ua),a[2]=Math.floor(255*
d.Ta));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static za(c,g,m,h){if(!m)return g=h.pa,g=h.Ud().Fn(g),g=g.nc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;var l=h.Yh();"default"===l&&(l="continuous");if("discrete"===l)return g=g.nc(),b[0]=g[0],b[1]=g[1],b[2]=g[2],b;if("continuous"===l||"step"===l){"step"===l&&(h=h.tb().Cs(),0!==h&&(h=1/h,c=Math.floor(c*h)/h));h=g.ya();l=m.ya();var n=g.nc(),p=m.nc();const q=e.normalize(c,h,l);c=n[0];m=n[1];n=n[2];const u=p[0],r=p[1];p=p[2];g=self.ds.Gn(g.Ql());h=l-h;
l=h*q;b[0]=c===u?c:g(l,c,u-c,h);b[1]=m===r?m:g(l,m,r-m,h);b[2]=n===p?n:g(l,n,p-n,h);return b}}}}"use strict";self.B.Xa.by=class{constructor(){}static Mk(e,b,a,d){let c;switch(d){case "behavior":c=b.Xc(e);break;case "effect":c=b[e];break;case "instance-variable":c=b.pe(e);break;case "plugin":c=b.Xc(e)}return c===a?!1:!0}static za(e,b,a,d){return a?b.nc():(e=d.pa,e=d.Ud().Fn(e),e.nc())}};
{"use strict";const e=self.B;e.og=class{constructor(){this.Av=new Map}j(){for(const b of this.Av.values())b.j();this.Av.clear();this.Av=null}Uc(b){b=new e.l4(b);this.Av.set(b.Aa(),b)}Y(b){return this.Av.get(b)}static kt(b,a,d,c){if(a)for(const g of a)e.og.EO("create",g,b,d,c)}static wt(b,a,d,c){b.length?a.forEach((g,m)=>{b[m].ja(g)}):a.forEach(g=>{e.og.EO("load",g,b,d,c)})}static EO(b,a,d,c,g){let m;if("function"===typeof c)switch(b){case "load":m=new c(null,g);break;case "create":m=new c(a,g)}else if("object"===
typeof c)switch(c=c.map.get(a[c.GU]),b){case "load":m=new c(null,g);break;case "create":m=new c(a,g)}switch(b){case "load":m.ja(a);d.push(m);break;case "create":"function"!==typeof m.pk||m.pk()?d.push(m):m.j()}}}}
{"use strict";const e=self.B;e.l4=class{constructor(b){this.Da="";this.Ar=NaN;this.jB=0;this.Of=this.Mf="default";this.KA=this.yA=!1;this.mr=1;this.He=null;b&&(this.Da=b[0],this.Ar=b[1],this.jB=b[2],this.Mf=b[3],this.Of=b[4],this.yA=!!b[6],this.KA=!!b[7],this.mr=b[8],this.He=new e.VN(b[5],this))}j(){this.He.j();this.He=null}Fs(){this.He||(this.He=new e.VN(null,this));return this.He}Aa(){return this.Da}Zx(b){this.Da=b}Df(){return this.Ar}Cs(){return this.jB}Yh(){return this.Mf}Pe(){return this.Of}bx(){return this.yA}hx(){return this.KA}ai(){return this.mr}ba(){return{trackDataJson:this.He.ba(),
name:this.Da,totalTime:this.Ar,step:this.jB,interpolationMode:this.Mf,resultMode:this.Of,loop:this.yA,pingPong:this.KA,repeatCount:this.mr}}ja(b){b&&(this.Fs().ja(b.trackDataJson),this.Da=b.name,this.Ar=b.totalTime,this.jB=b.step,this.Mf=b.interpolationMode,this.Of=b.resultMode,this.yA=b.loop,this.KA=b.pingPong,this.mr=b.repeatCount)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.He=d;this.pm=this.Rz=null;this.ml=this.dl=NaN;this.Of=this.Mf="default";this.xg=!1;this.jc=this.vh=null;this.De="";this.dr=null;this.II=0;this.wA=this.He.Dd.Df();this.ra=0;this.Da="";a&&(a[0]&&(this.Rz=a[0],this.dl=a[0][2],this.ml=a[0][1]),this.Mf=a[1],this.Of=a[2],this.xg=!!a[3],a[6]&&(this.De=a[6]),a[7]&&(this.dr=a[7],this.II=a[7][0],this.wA=a[7][1]),a[8]&&(this.pm=a[8]),a[8]&&(this.pm=a[8]),a[9]&&(this.ra=a[9]),a[10]&&(this.Da=a[10]),this.vh=
new e.mM(a[4],this),this.jc=new e.OM(a[5],this))}j(){this.He=this.Rz=null;this.vh&&(this.vh.j(),this.vh=null);this.jc&&(this.jc.j(),this.jc=null);this.dr=null}Fs(){return this.He}kj(){this.vh||(this.vh=new e.mM(null,this));return this.vh}Ud(){this.jc||(this.jc=new e.OM(null,this));return this.jc}$C(){return this.ml}ws(){return this.dl}Yh(){return this.Mf}Pe(){return this.Of}pk(){return this.xg}Fk(a){this.xg=!!a}jj(){return this.De}Qe(){return this.II}qk(){return this.wA}Tl(){return this.pm[0]}Sl(){this.pm||
(this.pm=[]);return this.pm[1]}nj(){return this.ra}Aa(){return this.Da}ba(){return{keyframeDataJson:this.vh.ba(),propertyTrackDataJson:this.jc.ba(),instanceData:this.Rz,additionalInstanceData:this.pm,instanceUid:this.dl,objectClassIndex:this.ml,interpolationMode:this.Mf,resultMode:this.Of,enabled:this.xg,id:this.De,nestedData:this.dr,type:this.ra,name:this.Da}}ja(a){a&&(this.Rz=a.instanceData,this.dl=a.instanceUid,this.ml=a.objectClassIndex,this.Mf=a.interpolationMode,this.Of=a.resultMode,this.xg=
a.enabled,this.De=a.id,this.ra=a.type?a.type:0,this.Da=a.name?a.name:"",this.wA=this.He.Dd.Df(),a.nestedData&&(this.dr=a.nestedData,this.II=this.dr[0],this.wA=this.dr[1]),a.additionalInstanceData&&(this.pm=a.additionalInstanceData),this.kj().ja(a.keyframeDataJson),this.Ud().ja(a.propertyTrackDataJson))}}e.VN=class{constructor(a,d){this.Dd=d;this.op=[];e.og.kt(this.op,a,b,this)}j(){this.Dd=null;for(const a of this.op)a.j();e.D(this.op);this.op=null}eZ(a,d){d=d.kj().hc;const c=d.length;for(let g=0;g<
c;g++){const m=d[g];if(m.ya()===a)return m}}rL(a,d){d=d.kj().hc;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.ya()<=a)return g}}*XU(){for(const a of this.op)yield a}ba(){return{trackDataItemsJson:this.op.map(a=>a.ba())}}ja(a){a&&e.og.wt(this.op,a.trackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.jc=d;this.cB="";this.ra=this.Oc=this.Qf=null;this.QH=this.UH=NaN;this.Of=this.Mf="default";this.xg=!1;this.Oi=null;this.az=!0;a&&(this.cB=a[0][0],this.Qf=a[0].slice(1),this.Oc=a[1],this.ra=a[2],this.UH=a[3],this.QH=a[4],this.Mf=a[5],this.Of=a[6],this.xg=!!a[7],this.Oi=new e.NM(a[8],this),this.az=a[9])}j(){this.Oi.j();this.Qf=this.jc=this.Oi=null}Ud(){return this.jc}Yg(){this.Oi||(this.Oi=new e.NM(null,this));return this.Oi}Gd(){return this.cB}nj(){return this.ra}MN(a){this.ra=
a}Yh(){return this.Mf}Pe(){return this.Of}pk(){return this.xg}Fk(a){this.xg=!!a}tC(){return!!this.az}ba(){return{propertyKeyframeDataJson:this.Oi.ba(),sourceAdapterId:this.cB,sourceAdapterArguments:this.Qf,property:this.Oc,type:this.ra,min:this.UH,max:this.QH,interpolationMode:this.Mf,resultMode:this.Of,enabled:this.xg,canHavePropertyKeyframes:this.az}}ja(a){a&&(this.cB=a.sourceAdapterId,this.Qf=a.sourceAdapterArguments,this.Oc=a.property,this.ra=a.type,this.UH=a.min,this.QH=a.max,this.Mf=a.interpolationMode,
this.Of=a.resultMode,this.xg=a.enabled,this.az=a.canHavePropertyKeyframes,this.Yg().ja(a.propertyKeyframeDataJson))}}e.OM=class{constructor(a,d){this.Eb=d;this.cp=[];e.og.kt(this.cp,a,b,this)}j(){this.Eb=null;for(const a of this.cp)a.j();e.D(this.cp);this.cp=null}Vw(a){return a.Yg().Ib[0]}Fn(a){return a.Yg().Ib.Sd(-1)}vZ(a,d){d=d.Yg().Ib;const c=d.length;for(let g=0;g<c;g++){const m=d[g];if(m.ya()===a)return m}}sL(a,d){d=d.Yg().Ib;const c=d.length;for(let g=0;g<c;g++){const m=d[g];if(m.ya()>=a)return m}}Xh(a,
d){d=d.Yg().Ib;for(let c=d.length-1;0<=c;c--){const g=d[c];if(g.ya()<=a)return g}}*HU(){for(const a of this.cp)yield a}ba(){return{propertyTrackDataItemsJson:this.cp.map(a=>a.ba())}}ja(a){a&&e.og.wt(this.cp,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.vh=d;this.Zb=-1;this.Ai="noease";this.Bi=!1;this.Vu=this.Lg=null;a&&(this.Zb=a[0],this.Ai=a[1],this.Bi=!!a[2],this.Lg=(a=a[3])?a.split(" "):[],this.Vu=new Set(this.Lg.map(c=>c.toLowerCase())),this.Ee=null)}j(){this.vh=null;e.D(this.Lg);this.Lg=null;this.Vu.clear();this.Vu=null}kj(){return this.vh}at(a){this.Ee=a}ya(){return this.Zb}lq(a){this.Zb=a;this.vh.tt()}Ql(){return this.Ai}wj(a){this.Ai=a}pk(){return this.Bi}Fk(a){this.Bi=!!a}KN(a){this.Lg=
a?a.split(" "):[];this.Vu=new Set(this.Lg.map(d=>d.toLowerCase()))}ba(){return{time:this.Zb,ease:this.Ai,enable:this.Bi,tags:this.Lg}}ja(a){a&&(this.Zb=a.time,this.Ai=a.ease,this.Bi=a.enable,this.Lg=a.tags,this.Vu=new Set(this.Lg.map(d=>d.toLowerCase())))}}e.mM=class{constructor(a,d){this.Eb=d;this.hc=[];e.og.kt(this.hc,a,b,this);this.tt()}j(){this.Eb=null;for(const a of this.hc)a.j();e.D(this.hc);this.hc=null}tt(){this.hc.sort((a,d)=>a.ya()-d.ya());for(let a=0;a<this.hc.length;a++)this.hc[a].at(this.hc[a+
1])}pV(){const a=new b(null,this);this.hc.push(a);this.tt();return a}QW(a){for(const d of this.hc){if(!a(d))continue;const c=this.hc.indexOf(d);-1!==c&&(d.j(),this.hc.splice(c,1))}this.c4();this.tt()}c4(){this.hc.sort((a,d)=>a.ya()-d.ya())}gZ(a){return this.hc.indexOf(a)}fZ(a){return this.hc[a]}ba(){return{keyframeDataItemsJson:this.hc.map(a=>a.ba())}}ja(a){a&&(e.og.wt(this.hc,a.keyframeDataItemsJson,b,this),this.tt())}}}
{"use strict";const e=self.B;class b{constructor(a,d){this.Oi=d;this.ih=this.tc=null;this.ra="";this.Zb=NaN;this.Ai="noease";this.Bi=!1;this.pi=null;this.Sk=void 0;a&&(this.tc=a[0][0],this.ih=a[0][1],this.ra=a[0][2],this.Zb=a[1],this.Ai=a[2],this.Bi=!!a[3],this.pi=null,a[4]&&(this.pi=new e.zV(a[4],this)),this.Ee=null)}j(){this.Oi=null;this.pi&&(this.pi.j(),this.pi=null)}at(a){this.Ee=a}rd(){return this.tc}ue(a){"color"===this.ra&&e.Xl(a)?(this.tc[0]=e.cD(a),this.tc[1]=e.VC(a),this.tc[2]=e.LC(a)):
this.tc=a}jN(a){"color"===this.ra&&e.Xl(a)?(this.ih[0]=e.cD(a),this.ih[1]=e.VC(a),this.ih[2]=e.LC(a)):this.ih=a}nc(){const a=this.Oi.pa.Pe();if("relative"===a)return this.rd();if("absolute"===a)return this.ih}nj(){return this.ra}MN(a){this.ra=a}ya(){return this.Zb}lq(a){this.Zb=a;this.Oi.ut()}Ql(){return this.Ai}wj(a){this.Ai=a}pk(){return this.Bi}Fk(a){this.Bi=!!a}JC(a){if(this.pi){if(this.Sk||null===this.Sk)return this.Sk;var d=this.pi.so;if(!d)return this.Sk=null;var c=d.length;for(let g=0;g<c;g++){const m=
d[g];if(m.jj()===a)return this.Sk=m}return this.Sk=null}}ba(){const a=this.pi;return{addonDataJson:a?a.ba():a,value:this.tc,aValue:this.ih,type:this.ra,time:this.Zb,ease:this.Ai,enable:this.Bi}}ja(a){a&&(a.addonDataJson&&this.pi.moa(a.addonDataJson),this.tc=a.value,this.ih=a.aValue,this.ra=a.type,this.Zb=a.time,this.Ai=a.ease,this.Bi=a.enable)}}e.NM=class{constructor(a,d){this.pa=d;this.Ib=[];e.og.kt(this.Ib,a,b,this);this.ut()}j(){this.pa=null;for(const a of this.Ib)a.j();e.D(this.Ib);this.Ib=null}ut(){this.Ib.sort((a,
d)=>a.ya()-d.ya());for(let a=0;a<this.Ib.length;a++)this.Ib[a].at(this.Ib[a+1])}tK(){const a=new b(null,this);this.Ib.push(a);this.ut();return a}WK(a){for(const d of this.Ib){if(!a(d))continue;const c=this.Ib.indexOf(d);-1!==c&&(d.j(),this.Ib.splice(c,1))}this.d4();this.ut()}d4(){this.Ib.sort((a,d)=>a.ya()-d.ya())}ba(){return{propertyKeyframeDataItemsJson:this.Ib.map(a=>a.ba())}}ja(a){a&&(e.og.wt(this.Ib,a.propertyKeyframeDataItemsJson,b,this),this.ut())}}}
{"use strict";const e=self.B;class b{constructor(c,g){this.pi=g;this.De=c[0];this.Yk=c[1]}j(){this.Yk=this.pi=null}jj(){return this.De}ba(){return{id:this.De,data:this.Yk}}ja(c){c&&(this.De=c.id,this.Yk=c.data)}}class a extends b{constructor(c,g){super(c,g);this.HI=this.Yk[0];this.tv=!!this.Yk[1];this.CG=this.Yk[2];this.qz=!!this.Yk[3]}j(){super.j()}ba(){return Object.assign(super.ba(),{startAnchor:this.HI,startEnable:!!this.tv,endAnchor:this.CG,endEnable:!!this.qz})}ja(c){c&&(super.ja(c),this.HI=
c.startAnchor,this.tv=!!c.startEnable,this.CG=c.endAnchor,this.qz=!!c.endEnable)}}class d extends b{constructor(c,g){super(c,g);this.vG=this.Yk[0];this.tI=this.Yk[1]}j(){super.j()}ba(){return Object.assign(super.ba(),{direction:this.vG,revolutions:this.tI})}ja(c){c&&(super.ja(c),this.vG=c.direction,this.tI=c.revolutions)}}e.zV=class{constructor(c){this.so=[];e.og.kt(this.so,c,{GU:0,map:new Map([["cubic-bezier",a],["angle",d]])},this)}j(){for(const c of this.so)c.j();e.D(this.so);this.so=null}ba(){return{addonDataItemsJson:this.so.map(c=>
c.ba())}}ja(c){c&&e.og.wt(this.so,c.addonDataItemsJson,{GU:"id",map:new Map([["cubic-bezier",a],["angle",d]])},this)}}}
{"use strict";const e=self.B;let b=0;e.t4=class extends e.jo{constructor(a,d){super(`tween-${b++}`,a,d);this.De="";this.jR=!1;this.bH="start-value";this.nb=this.IS=this.HS=this.fc=null}RK(){for(const a of this.Dd.Fs().XU())this.gb.push(e.ZN.Ma(this,a));this.nb=this.gb[0]}zf(){return this.nb.Va[0]}xa(){var a=this.gb;if(a&&a.length&&(this.nb=a=a[0])){var d=a.xa();return a.Zl()?d:void 0}}jj(){return this.De}IM(){if(this.IS)for(const a of this.IS)a(this);if(!this.If)for(const a of this.gb)a.Th()}ND(){this.Dq=
this.g.Wj}dL(){if(!this.Fo&&(this.Fo=!0,this.HS))for(const a of this.HS)a(this)}lq(a){this.IO();super.lq(a)}Gc(a){if(!this.Am&&"current-state"===this.bH)for(const d of this.gb)d.Sh();super.Gc(a)}ve(a=!1){super.ve(a);if(!this.If)for(const d of this.gb)d.bo()}Yc(a=!0,d=!1){this.IO();super.Yc(a,d)}IO(){for(const a of this.gb){const d=c=>{c=c.ya();const g=this.Df();return 0!==c&&c!==g};a.RW(d);a.Gw(d)}}Ct(){if(this.Jg)return!0;const a=this.xa();if(a&&a.H().Ef())return!1;this.zb.GK(this);this.bN();return!0}We(a,
d,c){this.fc||(this.fc=this.xa());if(this.fc&&!this.fc.Js()&&(d=this.fc.pd,-1!==d&&(a=c*d),0!==a||0!==this.nA)){this.nA=a;c=this.Yb+a*this.Nc;a=this.Dd.Ar;this.Yb=0>c?0:c>=a?a:c;c=!1;d=this.bx();var g=this.hx();d||g?d&&!g?0<this.Nc?this.Yb>=a&&this.oc(0):0>=this.Yb&&this.oc(a):!d&&g?0<this.Nc?this.Yb>=a&&(this.oc(a),this.gi(-1*this.Nc),1===this.zd?this.wd<this.ai()?(this.wd++,this.zd=0):c=!0:0===this.zd&&(this.zd=1)):0>=this.Yb&&(this.oc(0),this.gi(-1*this.Nc),1===this.zd?this.wd<this.ai()?(this.wd++,
this.zd=0):c=!0:0===this.zd&&(this.zd=1)):d&&g&&(0<this.Nc?this.Yb>=a&&(this.oc(a),this.gi(-1*this.Nc)):0>=this.Yb&&(this.oc(0),this.gi(-1*this.Nc))):0<this.Nc?this.Yb>=a&&(this.wd<this.ai()?(this.wd++,this.oc(0)):(this.oc(a),c=!0)):0>=this.Yb&&(this.wd<this.ai()?(this.wd++,this.oc(a)):(this.oc(0),c=!0));c?(this.nb.sN(),this.ve(!0),this.ND()):(this.nb.za(this.Yb,!0,!1,!1,this.Ce,!1),this.Ce&&(this.Ce=!1))}}ba(){const a=super.ba();return Object.assign(a,{tweenDataItemJson:this.Dd.ba(),id:this.De,destroyInstanceOnComplete:this.jR,
initialValueMode:this.bH})}ja(a){a&&(this.Dd.ja(a.tweenDataItemJson),super.ja(a),this.De=a.id,this.jR=a.destroyInstanceOnComplete,this.bH=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const e=self.B;e.ZN=class extends e.BE{constructor(b,a){super(b,a);this.xI=this.nu=null}static Ma(b,a){return e.m(e.ZN,b,a)}vO(){1===this.Va.length?this.nu=this.Va[0]:(this.nu=this.Va[0],this.xI=this.Va[1])}QK(){for(const b of this.Eb.Ud().HU())this.Va.push(e.YN.Ma(this,b));this.vO()}vn(){}za(b,a,d=!1,c=!1,g,m=!1){this.fc||this.xa();if(this.fc){if(this.fc.Js()||m&&this.H().Ef())return!1;this.xI?(this.nu.za(b,d,c),this.xI.za(b,d,c)):this.nu.za(b,d,c);0!==this.nu.ak&&(this.Pa||(this.Pa=
this.fc.A()),this.Pa&&this.Pa.ub())}}un(){}ja(b){super.ja(b);this.vO()}}}
{"use strict";const e=self.B;e.YN=class extends e.Xa{constructor(b,a){super(b,a);this.Ut=!1}static Ma(b,a){return e.m(e.YN,b,a)}za(b,a=!1,d=!1){if(this.Ut){var c=this.Ib[0];var g=this.Ib[1]}else{if(a)c=this.jc.Xh(b,this.pa);else{if(this.Ac){g=this.tb();const m=this.Ac.Ee;c=this.Ac.ya();g=m?m.ya():g.Df();if(b<=c||b>=g)this.Ac=this.jc.Xh(b,this.pa)}else this.Ac=this.jc.Xh(b,this.pa);c=this.Ac}g=c.Ee}this.he.za(b,c,g,a,d)}uK(){const b=this.pa.Yg().tK();this.Ac=null;this.Ut=2>=this.ix().length;return b}Gw(b){this.Ac=
null;this.pa.Yg().WK(b);this.Ut=2>=this.ix().length}ba(){return{sourceAdapterJson:this.Bb().ba(),basic:this.Ut}}ja(b){b&&(this.Bb().ja(b.sourceAdapterJson),this.Ut=b.basic)}}}
{"use strict";const e=self.B,b=self.ds;e.WN=class extends e.aa{constructor(a){super();this.Da=a[0];this.Sf=[];for(var d of a[1])a=e.XN.Ma(this,d),this.Sf.push(a);for(d=0;d<this.Sf.length;d++)this.Sf[d].at(this.Sf[d+1]);this.dv=new Map;this.AT=new Map;this.C9();b.oV(this.Da,(c,g,m,h)=>this.za(c,g,m,h))}static Ma(a){return e.m(e.WN,a)}j(){for(const a of this.Sf)a.j();e.D(this.Sf);this.Sf=null;this.dv.clear();this.dv=null;this.AT.clear();this.AT=null}UY(a){for(let d=this.Sf.length-1;0<=d;d--){const c=
this.Sf[d];if(c.Tf<a)return c}}TY(a){for(let d=this.Sf.length-1;0<=d;d--){const c=this.Sf[d];if(c.Tf<=a)return c}}za(a,d,c,g){var m=a/g;a=this.TY(m);g=a.Ee;g||(a=this.UY(m),g=a.Ee);m=e.Kda(m,a.Tf,g.Tf,g.Tf-a.Tf);const h=a.Tf,l=a.Iv,n=a.Tf+a.qT,p=a.Iv+a.xca,q=g.Tf+g.pR,u=g.Iv+g.Dba,r=g.Tf;g=g.Iv;g=b.Gn("spline")(m,h,l,n,p,q,u,r,g,this.dv.get(a));g+=a.Iv;return(1-g)*d+g*(d+c)}C9(){this.dv.clear();for(let d=0;d<this.Sf.length-1;d++){var a=this.Sf[d];if(!a.tv)continue;const c=this.Sf[d+1];this.dv.set(a,
b.xY(a.Tf,a.Tf+a.qT,c.Tf+c.pR,c.Tf))}}}}{"use strict";const e=self.B;e.XN=class extends e.aa{constructor(b,a){super();this.Tf=a[0];this.Iv=a[1];this.qT=a[2];this.xca=a[3];this.pR=a[4];this.Dba=a[5];this.tv=a[6];this.qz=a[7];this.Ee=null}j(){}static Ma(b,a){return e.m(e.XN,b,a)}at(b){this.Ee=b}}}{"use strict";const e=self.B;e.r4=class extends e.aa{constructor(b){super();this.g=b;this.pB=[]}j(){for(const b of this.pB)b.j();e.D(this.pB);this.pB=null}Ma(b){this.pB.push(e.WN.Ma(b))}}}
{"use strict";const e=self.B;e.b4=class extends e.aa{constructor(b){super();this.M=b;this.fb=[];this.fb.push(e.m(e.sE,this));this.La=0;this.xi=this.fb[0]}j(){for(const b of this.fb)b.j();e.D(this.fb);this.M=this.xi=null}H(){return this.M}U(){return this.xi}jd(){this.U().jd()}c2(){var b=this.fb,a=++this.La;a===b.length?(a=e.m(e.sE,this),b.push(a),this.xi=a):(b=b[a],b.Yc(),this.xi=b)}d2(){const b=this.fb,a=++this.La;a===b.length&&b.push(e.m(e.sE,this));const d=b[a];d.vW(b[a-1]);this.xi=d}Ja(){this.xi=
this.fb[--this.La]}Zn(b){const a=this.fb;for(let d=0,c=a.length;d<c;++d)a[d].Zn(b)}}}
{"use strict";const e=self.B;e.sE=class extends e.aa{constructor(b){super();this.fb=b;this.M=this.fb.H();this.xd=this.M.G().Wc();this.Sb=!0;this.F=[];this.Xb=[]}j(){this.vw();this.xd=this.M=this.fb=null}vw(){e.D(this.F);e.D(this.Xb)}H(){return this.M}jD(){return this.Sb?!!this.M.F.length:!!this.F.length}ea(){return this.Sb?this.M.ea():this.F}KZ(){return!!this.Xb.length}MY(){const b=this.ea();return b.length?b:this.Xb}Yc(){this.Sb=!0;e.D(this.Xb)}jd(){this.Sb=!0}vW(b){b.Sb?this.Yc():(this.Sb=!1,e.Dc(this.F,
b.F),e.D(this.Xb))}vq(b){this.F.push(b)}Qk(b){this.Xb.push(b)}Xe(b){this.Sb=!!b}Ik(b){this.Sb=!1;e.D(this.F);this.F.push(b)}Xs(b){this.Sb=!1;e.Dc(this.F,b)}ct(b){this.Sb=!1;e.D(this.F);for(const a of b)this.F.push(a)}sK(b,a){for(const d of a)b.has(d)||this.Xb.push(d)}o4(b){for(const a of b)this.F.push(a);e.Vf(this.Xb,b)}dm(b){b&&(this.xd.Ne().Ab().yd?(this.Sb&&(e.D(this.F),e.Dc(this.Xb,b.H().ea()),this.Sb=!1),b=this.Xb.indexOf(b),-1!==b&&(this.F.push(this.Xb[b]),this.Xb.splice(b,1))):this.Ik(b))}Zn(b){e.Vf(this.F,
b);e.Vf(this.Xb,b)}}}
{"use strict";const e=self.B;e.gY=class extends e.aa{constructor(b){super();this.oa=b;this.g=this.oa.G();this.fb=[];this.fb.push(e.m(e.aL,this,null));this.La=0;this.vz=[]}j(){for(const b of this.fb)b.j();e.D(this.fb);e.D(this.vz);this.g=this.oa=null}da(){return this.oa}G(){return this.g}Ne(){return this.fb[this.La]}Na(b){var a=this.fb;const d=++this.La;if(d===a.length)return b=e.m(e.aL,this,b),a.push(b),b;a=a[d];a.Yc(b);return a}Ja(){--this.La}e2(b){this.vz.push(b)}T1(){this.vz.pop()}DY(){const b=this.vz;
return 0===b.length?null:b.Sd(-1)}}}
{"use strict";const e=self.B;e.aL=class extends e.aa{constructor(b,a){super();this.fb=b;this.g=this.fb.G();this.fu=a;this.Gf=this.Wk=0;this.BG=this.To=!1;this.GG=null;this.OG=this.BR=0}j(){this.Yc(null);this.g=this.fb=null}Yc(b){this.fu=b;this.Gf=this.Wk=0;this.BG=this.To=!1}nF(b,a){this.fu=b;this.Wk=0;this.Gf=a}cN(){this.Gf=this.Wk=0}Ab(){return this.fu}jg(b){this.fu=b}hm(b){this.Wk=b}Rx(b){this.Gf=b}jm(b){this.To=!!b}fq(b){this.BG=!!b}i3(b){this.GG=b}o_(b,a){this.BR=b;this.OG=a}Xx(b){this.OG=b}rj(){const b=
this.fu;return b.gA?!0:this.Wk<b.Wb.length-1?!!b.ld().length:!1}}}{"use strict";const e=self.B;e.z0=class extends e.aa{constructor(b){super();this.oa=b;this.g=this.oa.G();this.fb=[];this.La=-1;this.xi=null;this.Pz=[]}j(){e.D(this.fb);this.g=this.oa=null}eaa(b){this.Pz=b;b=this.Pz.slice(0);this.fb.push(b);this.La=0;this.xi=b}da(){return this.oa}G(){return this.g}Fp(){return this.xi}Na(){const b=++this.La,a=this.fb;b===a.length?a.push(this.Pz.slice(0)):e.Dc(a[b],this.Pz);this.xi=a[b]}Ja(){this.xi=this.fb[--this.La]}}}
{"use strict";const e=self.B;e.B0=class extends e.aa{constructor(b){super();this.oa=b;this.g=this.oa.G();this.fb=[];this.La=-1}j(){e.D(this.fb);this.g=this.oa=null}da(){return this.oa}G(){return this.g}hM(){return 0<=this.La}Fp(){return this.fb[this.La]}Na(){++this.La;if(this.La===this.fb.length){var b=e.m(e.A0,this);this.fb.push(b);return b}b=this.fb[this.La];b.Yc();return b}Ja(){--this.La}lY(b){const a=this.fb;for(let d=this.La;0<=d;--d){const c=a[d];if(c.Aa()===b)return c}return null}}}
{"use strict";const e=self.B;e.A0=class extends e.aa{constructor(b){super();this.ff=b;this.Da="";this.La=0;this.pc=!1}Yc(){this.Da="";this.La=0;this.pc=!1}Zx(b){this.Da=b}Aa(){return this.Da}wc(b){this.La=b}Fa(){return this.La}ve(){this.pc=!0}}}{"use strict";const e=self.B;e.HV=class extends e.aa{constructor(){super();this.fb=[];this.La=-1}j(){e.D(this.fb)}Fp(){return this.fb[this.La]}Na(){++this.La;if(this.La===this.fb.length){const b=[];this.fb.push(b);return b}return this.fb[this.La]}Ja(){--this.La}}}
{"use strict";const e=self.B;function b(a,d){return a.Fa()-d.Fa()}e.fY=class extends e.aa{constructor(a){super();this.g=a;this.Ot=[];this.yI=new Map;this.RF=[];this.GR=new Map;this.iG=new Map;this.pG=new Map;this.Qy=new Map;this.TQ=new Map;this.EG=new Map;this.kca=0;this.QF=[];this.dba=[];this.uS=[];this.MG=new Map;this.xd=e.m(e.gY,this);this.gd=e.m(e.z0,this);this.ff=e.m(e.B0,this);this.UI=[];this.SA=[];this.RA=[];this.hG=this.al=this.ul=0;this.Pf=[];this.Uy=[];self.c3_callFunction=(d,c)=>this.zy(d,
c)}j(){this.uw();this.xd.j();this.xd=null;this.gd.j();this.gd=null;e.D(this.SA);e.D(this.RA);this.g=null;e.D(this.Ot);this.yI.clear()}Ma(a){a=e.m(e.eY,this,a);this.Ot.push(a);this.yI.set(a.Aa().toLowerCase(),a)}h5(a){this.UI.push(a)}Hb(){for(const a of this.MG.values())a.Hb(!1);for(const a of this.Ot)a.Hb();for(const a of this.Ot)a.EF();for(const a of this.UI)a.Hb(!1);e.D(this.UI);this.gd.eaa(this.uS)}G(){return this.g}pL(a){return this.yI.get(a.toLowerCase())||null}P9(a){this.RF.push(a);this.GR.set(a.FR,
a)}M9(a){this.iG.set(a.eb,a)}L9(a){this.pG.set(a.eb,a)}K9(a){this.Qy.set(a.eb,a)}O9(a){this.MG.set(a.Gz.toLowerCase(),a)}N9(a){this.EG.set(a.eb,a);a.Ef()?this.QF.push(a):this.dba.push(a)}ly(a){2<=a.length&&a.sort(b);let d=this.TQ.get(a.length);d||(d=[],this.TQ.set(a.length,d));for(let g=0,m=d.length;g<m;++g){const h=d[g];a:{for(let l=0,n=a.length;l<n;++l)if(a[l]!==h[l]){var c=!1;break a}c=!0}if(c)return h}d.push(a);return a}p7(a){this.uS.push(a.Lo);return this.kca++}Wc(){return this.xd}Me(){return this.Wc().Ne()}Ab(){return this.Me().Ab()}xf(){const a=
this.Me();return a.Ab().jL(a.Wk)}Rw(){const a=this.Me();return a.Ab().hL(a.Gf)}uY(a){const d=[];for(a=a.Lp();a;)e.Cl(d,a.$O()),a=a.Lp();return d}iP(a){const d={};for(const c of this.uY(a))d[c.Zh()]=c.mP();return Object.create(Object.prototype,d)}UC(a){return this.EG.get(a)||null}IY(a){return this.iG.get(a)||null}sY(a){return this.Qy.get(a)||null}Xw(a){return this.MG.get(a.toLowerCase())||null}x2(){for(const a of this.QF)a.D2()}oL(a){return this.GR.get(a.toLowerCase())||null}JY(a){return(a=this.iG.get(a))&&
a.Hi?a:null}y2(){for(const a of this.RF)a.A2()}hQ(){for(const a of this.Ot)a.e$()}I2(a){this.hQ();this.ul++;for(const d of a.ew())if(a=d.Mc)this.g.Ss(d),a.ka(),this.g.Rs();this.ul--}async LW(a){this.hQ();this.ul++;for(const d of this.e6(a))await this.g.Dp(d);this.ul--}*e6(a){for(const d of a.ew())if(a=d.Mc)this.g.Ss(d),yield*a.hb(),this.g.Rs()}Lt(a,d,c,g){let m=!1;if(!a.Kb())return this.TD(d,c,g);this.al++;for(const h of a.ew())if(a=h.Mc){this.g.Ss(h);for(const l of a.jz){const n=l.Lt(d,c,g);m=m||
n}a=a.Lt(d,c,g);m=m||a;this.g.Rs()}this.al--;return m}*mt(a,d,c,g){let m=!1;if(!a.Kb())return this.TD(d,c,g);this.al++;for(const h of a.ew())if(a=h.Mc){this.g.Ss(h);for(const l of a.jz){const n=yield*l.mt(d,c,g);m=m||n}a=yield*a.mt(d,c,g);m=m||a;this.g.Rs()}this.al--;return m}TD(a,d,c){this.SA.push([a,d,c]);return!1}g2(a,d,c){let g=null;const m=new Promise(h=>g=h);this.RA.push([a,d,c,g]);return m}*o$(){if(this.g.Is())throw Error("should not be in breakpoint");const a=this.g.Ya;for(;this.RA.length;){const [d,
c,g,m]=this.RA.shift(),h=yield*this.mt(a,d,c,g);m(h)}}async eN(){for(const a of this.o$())await this.g.Dp(a)}CD(){return 0<this.al}pt(){return++this.al}nt(){--this.al}f0(){return 0<this.ul}Cx(){return this.f0()||this.CD()}p$(a){for(const [d,c,g]of this.SA)this.Lt(a,d,c,g);e.D(this.SA)}wf(a){a?this.hG++:this.hG--}gM(){return 0<this.hG}Cp(a){for(let d=0,c=a.length;d<c;++d)a[d].Sm.jd()}gg(a){for(let d=0,c=a.length;d<c;++d)a[d].Sm.c2()}se(a){for(let d=0,c=a.length;d<c;++d)a[d].Sm.d2()}Gb(a){for(let d=
0,c=a.length;d<c;++d)a[d].Sm.Ja()}jC(){const a=e.m(e.cE,this);this.Pf.push(a);return a}K2(){if(this.Pf.length){var a=this.Me(),d=!1;this.ul++;for(let c=0,g=this.Pf.length;c<g;++c){const m=this.Pf[c];m.FQ()&&m.g$(a);m.pv&&(d=!0)}d&&this.WO();this.ul--}}async NW(){if(this.Pf.length){var a=this.Me(),d=!1;this.ul++;for(let c=0,g=this.Pf.length;c<g;++c){const m=this.Pf[c];m.FQ()&&await m.Y5(a);m.pv&&(d=!0)}d&&this.WO();this.ul--}}WO(){const a=e.Oca(this.Pf,d=>d.pv);for(const d of a)d.j()}uw(){for(const a of this.Pf)a.j();
e.D(this.Pf)}n2(a){for(const d of this.Pf)d.Zn(a)}eC(a){this.Uy.push(a)}ww(){e.D(this.Uy)}uZ(){const a=Promise.all(this.Uy);this.Uy=[];return a}ba(){return{groups:this.w$(),cnds:this.v$(),acts:this.u$(),vars:this.I$(),waits:this.E$()}}ja(a){this.i8(a.groups);this.d8(a.cnds);this.c8(a.acts);this.v8(a.vars);this.r8(a.waits)}w$(){const a={};for(const d of this.RF)a[d.eb.toString()]=d.Rp();return a}i8(a){for(const [d,c]of Object.entries(a))(a=this.JY(parseInt(d,10)))&&a.gq(c)}v$(){const a={};for(const [d,
c]of this.pG){const g=c.ba();g&&(a[d.toString()]=g)}return a}d8(a){const d=new Map;for(const [c,g]of Object.entries(a))d.set(parseInt(c,10),g);for(const [c,g]of this.pG)g.ja(d.get(c)||null)}u$(){const a={};for(const [d,c]of this.Qy){const g=c.ba();g&&(a[d.toString()]=g)}return a}c8(a){const d=new Map;for(const [c,g]of Object.entries(a))d.set(parseInt(c,10),g);for(const [c,g]of this.Qy)g.ja(d.get(c)||null)}I$(){const a={};for(const [d,c]of this.EG)c.ob||!c.Ef()&&!c.uh||(a[d.toString()]=c.rd());return a}v8(a){for(const [d,
c]of Object.entries(a))(a=this.UC(parseInt(d,10)))&&a.ue(c)}E$(){return this.Pf.filter(a=>!a.d0()).map(a=>a.ba())}r8(a){this.uw();for(const d of a)(a=e.cE.D5(this,d))&&this.Pf.push(a)}HC(a){for(;a;)if(a=a.Lp(),a instanceof e.js)return a;return null}zy(a,d){Array.isArray(d)||(d=[]);a=this.Xw(a.toLowerCase());if(!a)return null;if(!a.Sn())return a.ss();var c=a.zg;if(d.length<c.length){d=d.slice(0);do d.push(c[d.length].Lo);while(d.length<c.length)}c=a.oe();return c.aE(c.md(),a.sl,a.ss(),...d)}}}
{"use strict";const e=self.B;e.eY=class extends e.aa{constructor(b,a){super();this.oa=b;this.g=b.G();this.Da=a[0];this.sz=[];this.sB=new Map;this.vR=new Map;this.Eba=new Map;this.su=!1;this.fT=[];this.jz=[];this.UQ=new Set;for(const d of a[1])this.FO(d,null,this.sz);this.Ni=this.g.pb?{type:"sheet",name:this.Da,fw:0,children:[]}:null}j(){this.g=this.oa=null}FO(b,a,d){switch(b[0]){case 0:case 3:this.B5(b,a,d);break;case 1:this.C5(b,a,d);break;case 2:this.G5(b,a,d);break;case 4:this.E5(b,a);break;case 5:this.L5(b,
a,d);break;default:throw Error("invalid event type");}}B5(b,a,d){b=e.jk.Ma(this,a,b);if(b.yd){d.push(b);d=b.Wb;for(let c=0,g=d.length;c<g;++c)d[c].Tn()&&this.xP(b,c)}else b.Tn()?this.xP(b,0):d.push(b)}E5(b,a){b=e.js.Ma(this,a,b);this.oa.O9(b)}C5(b,a,d){b=e.Kw.Ma(this,a,b);d.push(b)}G5(b,a,d){b=e.$K.Ma(this,a,b);d.push(b)}L5(b,a,d){b=e.Jw.Ma(this,a,b);d.push(b)}xP(b,a){b.yd||this.oa.h5(b);var d=b.jL(a),c=d.Ga,g=d.H();if(d.bS){var m=this.vR.get(g);m||(m=new Map,this.vR.set(g,m));d=d.OY().toLowerCase();
g=m.get(c);g||(g=new Map,m.set(c,g));c=g.get(d);c||(c=[],g.set(d,c));c.push([b,a])}else m=this.sB.get(g),m||(m={SJ:new Map,Nv:new Map},this.sB.set(g,m)),(g=d.$f())?(d=m.Nv.get(g),d||(d=new Map,m.Nv.set(g,d))):d=m.SJ,m=d.get(c),m||(m=[],d.set(c,m)),m.push([b,a])}Hb(){const b=this.sz;for(let a=0,d=b.length;a<d;++a)b[a].Hb(a<d-1&&b[a+1]instanceof e.jk&&b[a+1].Bx())}g5(b){this.fT.push(b)}EF(){e.D(this.jz);this.mO(this);this.UQ.clear()}mO(b){const a=b.jz,d=b.UQ;for(const c of this.fT){const g=c.xu;c.Cb&&
b!==g&&!d.has(g)&&(d.add(g),g.mO(b),a.push(g))}}da(){return this.oa}G(){return this.g}Aa(){return this.Da}bQ(b,a){this.Eba.set(a,b)}e$(){this.su=!1}ka(){if(!this.su){var b=this.g,a=b.vD(),d=a?performance.now():0;this.su=!0;var c=this.da(),g=c.Me();for(const m of this.sz)m.ka(g),c.Cp(m.ld()),c.ww(),b.Ed();g.Yc(null);a&&(this.Ni.fw+=performance.now()-d)}}*hb(){if(!this.su){this.su=!0;var b=this.g,a=this.da(),d=a.Me();for(const c of this.sz)yield*c.hb(d),a.Cp(c.ld()),a.ww(),b.Ed();d.Yc(null)}}Lt(b,a,
d){if(a){const c=a.H();this.CF(b,a,c,d);for(const g of c.ph)this.CF(b,a,g,d)}else return this.CF(b,a,null,null)}CF(b,a,d,c){d=this.sB.get(d);if(!d)return!1;c=c?d.Nv.get(c):d.SJ;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [g,m]of c)c=this.VO(a,g,m),b=b||c;return b}*mt(b,a,d){if(a){const c=a.H();yield*this.PE(b,a,c,d);for(const g of c.ph)yield*this.PE(b,a,g,d)}else return yield*this.PE(b,a,null,null)}*PE(b,a,d,c){d=this.sB.get(d);if(!d)return!1;c=c?d.Nv.get(c):d.SJ;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [g,m]of c)c=g.ke()?this.VO(a,g,m):yield*this.S5(a,g,m),b=b||c;return b}VO(b,a,d){const c=this.g,g=this.oa,m=g.Ab(),h=g.Wc(),l=g.al;let n=!1;m&&g.gg(m.md());g.gg(a.md());const p=1<l;p&&g.gd.Na();const q=h.Na(a);b&&(a.Wb[d].H().U().Ik(b),b.cc()&&b.ji());b=!0;if(a.Ba()){const u=a.pp;for(let r=0,v=u.length;r<v;++r)if(!u[r].dN(q)){b=!1;break}}b&&(c.xk(),a.yd?a.J2(q,d):a.ka(q),n=q.To);h.Ja();p&&g.gd.Ja();g.Gb(a.md());m&&g.Gb(m.md());m||1!==l||(g.ww(),g.gM()||c.Ed());return n}*S5(b,
a,d){const c=this.g,g=this.oa,m=g.Ab(),h=g.Wc(),l=g.al;let n=!1;m&&g.gg(m.md());g.gg(a.md());const p=1<l;p&&g.gd.Na();const q=h.Na(a);b&&(a.Wb[d].H().U().Ik(b),b.cc()&&b.ji());b=!0;if(a.Ba()){const u=a.pp;for(let r=0,v=u.length;r<v;++r)if(!(yield*u[r].TK(q))){b=!1;break}}b&&(c.xk(),a.yd?yield*a.MW(q,d):yield*a.hb(q),n=q.To);h.Ja();p&&g.gd.Ja();g.Gb(a.md());m&&g.Gb(m.md());m||1!==l||(g.ww(),g.gM()||c.Ed());return n}}}
{"use strict";const e=self.B,b=[];function a(){return!0}function*d(){return!0}e.jk=class extends e.aa{constructor(c,g,m){super();this.Mc=c;this.g=c.G();this.sc=g;this.Pd=null;this.xd=this.g.da().Wc();this.Fe=[];this.pr=[];this.qu=this.iA=this.gA=this.LR=!1;this.yd=!!m[2];this.Yz=!1;this.pp=null;this.Wb=[];this.Lb=[];this.Fh=[];this.oi=a;this.mo=d;this.pH=this.Hi=!1;this.FR="";this.$z=!1;this.Ni=this.hz=null;this.eb=m[4];this.Jq=m[5];this.Mc.bQ(this,this.Jq);this.Oa=this.g.pb?{Tc:m[3][0],OJ:m[3][1],
VT:!1,tJ:!1,uJ:!1,WT:!1}:null;this.da().M9(this);3===m[0]&&this.K7(m[1]);c=0;for(var h of m[6])g=e.HK.Ma(this,h,c++),this.Wb.push(g),this.rO(g.H());c=0;for(const l of m[7])h=e.jw.Ma(this,l,c++),this.Lb.push(h);if(9===m.length){m=m[8];for(const l of m)this.Mc.FO(l,this,this.Fh)}this.Wb.length&&(this.Yz=null===this.Wb[0].H()&&this.Wb[0].Ga===e.C.kb.J.$X);0===this.Wb.length&&(this.Wb=b);0===this.Lb.length&&(this.Lb=b);0===this.Fh.length&&(this.Fh=b)}static Ma(c,g,m){return e.m(e.jk,c,g,m)}K7(c){this.Hi=
!0;this.$z=this.pH=!!c[0];this.FR=c[1].toLowerCase();this.hz=[];this.da().P9(this);this.g.pb&&(this.Ni={type:"group",name:c[1],fw:0,children:[]})}Y4(c){this.hz.push(c)}lO(c,g){for(const m of c.vg.ol)g.includes(m)||g.push(m)}sO(c,g){if(c)if(g.includes(c)||g.push(c),c.cb)for(const m of c.Eo)m.cc()&&this.lO(m,g);else c.cc()&&this.lO(c,g)}rO(c){this.sO(c,this.Fe)}c5(c){this.sO(c,this.pr)}T2(){this.Fe=this.g.Ic}Hb(c){this.qu=!!c;this.E7();this.F7();for(const m of this.Wb)m.Hb();if(0<this.Lb.length){c=
!1;for(var g of this.Lb)g.Hb(),g.TZ()&&(c=!0);c?(this.oi=this.i$,this.mo=this.a6):(this.oi=this.h$,this.mo=this.Z5)}g=this.Fh;for(let m=0,h=g.length;m<h;++m)g[m].Hb(m<h-1&&g[m+1]instanceof e.jk&&g[m+1].Bx());this.Oa&&this.Maa();this.Ni&&this.r7().Ni.children.push(this.Ni)}r7(){let c=this.Ba();for(;c;){if(c.Hi)return c;c=c.Ba()}return this.Mc}Maa(){const c=this.Oa;c.VT=this.Wb.every(g=>g.ke());c.tJ=this.Lb.every(g=>g.ke());c.uJ=this.Fh.every(g=>g.ke());c.WT=c.VT&&c.tJ&&c.uJ}E7(){if(this.Hi){var c=
this.Ba();for(this.iA=!0;c;){if(!c.Hi){this.iA=!1;break}c=c.Ba()}}}D7(){var c=this.g.Ic;if(this.Fe===c)this.pr=c;else{this.pr=e.xJ(this.Fe);for(c=this.Ba();c;){for(var g of c.Fe)this.c5(g);c=c.Ba()}g=this.da();this.Fe=g.ly(this.Fe);this.pr=g.ly(this.pr)}}F7(){if(this.LZ()){this.pp=[];for(var c=this.Ba();c;)this.pp.push(c),c=c.Ba();this.pp.reverse()}}dt(){this.gA=!0;this.sc&&this.sc.dt()}ld(){return this.Fe}md(){this.LR||(this.LR=!0,this.D7());return this.pr}VZ(c){return this.Fe.includes(c)}da(){return this.Mc.da()}G(){return this.g}Ba(){return this.sc}maa(c){this.Pd=
c}Lp(){return this.Pd||this.sc}xD(){return this.Oa&&this.Oa.OJ}Qn(){return this.xD()&&this.Oa.Tc}Bx(){return this.Yz}Rp(){return this.$z}A2(){this.gq(this.pH)}gq(c){c=!!c;if(!this.Hi)throw Error("not a group");if(this.$z!==c){this.$z=c;for(const g of this.hz)g.$N();this.hz.length&&(c=this.g.Ia().Mc)&&c.EF()}}Tn(){return this.Wb.length&&this.Wb[0].Tn()}Z_(){return this.Pd&&this.Pd instanceof e.js}LZ(){return this.Z_()||this.Wb.some(c=>c.Tn())}jL(c){c=Math.floor(c);if(0>c||c>=this.Wb.length)throw new RangeError("invalid condition index");
return this.Wb[c]}Y_(c){let g=c.Fa();if(0===g)return!0;for(--g;0<=g;--g)if(this.Wb[g].H()===c.H())return!1;return!0}hL(c){c=Math.floor(c);if(0>c||c>=this.Lb.length)throw new RangeError("invalid action index");return this.Lb[c]}C7(c){c=Math.floor(c);return 0<=c&&c<this.Lb.length}$O(){return this.Fh.filter(c=>c instanceof e.Kw)}dN(c){c.jg(this);let g=!1;const m=this.Wb;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.hm(h);if(n.rH)throw Error("trigger cannot be used as sub-event to a loop");if(n.ka())g=
!0;else if(!this.yd)return!1}return this.yd?g:!0}J2(c,g){c.jg(this);this.Wb[g].ka()&&(this.oi(c,0)&&this.Rk(),c.jm(!0))}*TK(c){c.jg(this);let g=!1;const m=this.Wb;for(let h=0,l=m.length;h<l;++h){const n=m[h];c.hm(h);if(n.rH)throw Error("trigger cannot be used as sub-event to a loop");if(n.ke()?n.ka():yield*n.hb())g=!0;else if(!this.yd)return!1}return this.yd?g:!0}*MW(c,g){c.jg(this);g=this.Wb[g];if(g.ke()?g.ka():yield*g.hb())(this.Dw()?this.oi(c,0):yield*this.mo(c,0))&&(this.Ew()?this.Rk():yield*this.lt()),
c.jm(!0)}ka(c){c.jg(this);this.Yz||c.fq(!1);this.yd?this.n$(c):this.Dy(c)}*hb(c){if(this.Qn()||this.g.mc())yield this;c.jg(this);this.Yz||c.fq(!1);this.yd?yield*this.l6(c):yield*this.ME(c)}n$(c){const g=this.Wb;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.Tn()||(c.hm(l),h=h.ka(),m=m||h)}c.jm(m);m&&(this.oi(c,0)&&this.Rk(),this.qu&&c.fq(!0))}*l6(c){const g=this.Wb;let m=0===g.length;for(let l=0,n=g.length;l<n;++l){var h=g[l];h.Tn()||(c.hm(l),h=h.ke()?h.ka():yield*h.hb(),m=m||h)}c.jm(m);
m&&((this.Dw()?this.oi(c,0):yield*this.mo(c,0))&&(this.Ew()?this.Rk():yield*this.lt()),this.qu&&c.fq(!0))}Dy(c){const g=this.Wb;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.hm(m);if(!l.ka()){c.jm(!1);return}}c.jm(!0);this.oi(c,0)&&this.Rk();c.To&&this.qu&&c.fq(!0)}*ME(c){const g=this.Wb;for(let m=0,h=g.length;m<h;++m){const l=g[m];c.hm(m);if(l.ke()?!l.ka():!(yield*l.hb())){c.jm(!1);return}}c.jm(!0);(this.Dw()?this.oi(c,0):yield*this.mo(c,0))&&(this.Ew()?this.Rk():yield*this.lt());c.To&&this.qu&&
c.fq(!0)}h$(c,g){const m=this.Lb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Rx(h),g.ka();return!0}*Z5(c,g){const m=this.Lb;for(let h=g,l=m.length;h<l;++h)g=m[h],c.Rx(h),g.ke()?g.ka():yield*g.hb();return!0}i$(c,g){const m=this.da(),h=this.Lb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Rx(l);const p=g.ka();if(g.BK()&&!0===p)return!1;g.eg()&&p instanceof Promise&&m.eC(p)}return!0}*a6(c,g){const m=this.da(),h=this.Lb;for(let l=g,n=h.length;l<n;++l){g=h[l];c.Rx(l);let p;p=g.ke()?g.ka():yield*g.hb();if(g.BK()&&
!0===p)return!1;g.eg()&&p instanceof Promise&&m.eC(p)}return!0}f$(c){this.oi(c,c.Gf)&&this.Rk()}*X5(c){if(yield*this.mo(c,c.Gf))yield*this.lt()}Rk(){if(this.Fh.length){var c=this.Hi&&this.g.vD(),g=c?performance.now():0,m=this.xd,h=m.Na(this);this.gA?this.s$(h):this.r$(h);m.Ja();c&&(this.Ni.fw+=performance.now()-g)}}s$(c){const g=this.Hi,m=this.iA,h=this.da(),l=this.Fh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],r=u.ld(),v=!m||!g&&n<q;v&&h.se(r);u.ka(c);v?h.Gb(r):h.Cp(r)}}r$(c){const g=this.Fh;
for(let m=0,h=g.length;m<h;++m)g[m].ka(c)}*lt(){if(this.Fh.length){var c=this.xd,g=c.Na(this);this.gA?yield*this.o6(g):yield*this.n6(g);c.Ja()}}*o6(c){const g=this.Hi,m=this.iA,h=this.da(),l=this.Fh;for(let n=0,p=l.length,q=p-1;n<p;++n){const u=l[n],r=u.ld(),v=!m||!g&&n<q;v&&h.se(r);yield*u.hb(c);v?h.Gb(r):h.Cp(r)}}*n6(c){const g=this.Fh;for(let m=0,h=g.length;m<h;++m)yield*g[m].hb(c)}hg(c,g){this.g.xk();g.cN();const m=this.Wb;if(!this.yd)for(let h=c.Wk+1,l=m.length;h<l;++h)if(c=m[h],g.hm(h),!c.ka())return!1;
this.oi(g,0)&&this.Rk();return!0}*Yf(c,g){this.g.xk();g.cN();const m=this.Wb;if(!this.yd)for(let h=c.Wk+1,l=m.length;h<l;++h)if(c=m[h],g.hm(h),c.ke()?!c.ka():!(yield*c.hb()))return!1;(this.Dw()?this.oi(g,0):yield*this.mo(g,0))&&(this.Ew()?this.Rk():yield*this.lt());return!0}ke(){return!this.Qn()&&!this.g.mc()&&this.Oa.WT}Dw(){return!this.g.mc()&&this.Oa.tJ}Ew(){return!this.g.mc()&&this.Oa.uJ}FE(c){if(this.Ba()){const g=this.pp;for(let m=0,h=g.length;m<h;++m)if(!g[m].dN(c))return!1}return!0}*GO(c){if(this.Ba()){const g=
this.pp;for(let m=0,h=g.length;m<h;++m)if(!(yield*g[m].TK(c)))return!1}return!0}UO(c,g,m){0<g.length?m?(g=g.map(h=>h.Y(0)),c.gd.Na(),this.Pd.$s(g)):this.Pd.dY(g):m&&c.gd.Na()}G2(c,g){let m,h;const l=0<c.length;var n=this.g;const p=this.xd,q=n.da(),u=1<q.pt();this.UO(q,g,u);l&&q.gg(c);g=p.Na(this);this.FE(g)&&(n.xk(),g.jg(this),(n=this.Pd.eg())&&([h,m]=this.Pd.uE()),this.Dy(g),n&&this.Pd.Ns(h));p.Ja();u&&q.gd.Ja();l&&q.Gb(c);q.nt();return m}*JW(c,g){let m,h;if(this.Qn()||this.g.mc())yield this;const l=
0<c.length;var n=this.g;const p=this.xd,q=n.da(),u=1<q.pt();this.UO(q,g,u);l&&q.gg(c);g=p.Na(this);if(yield*this.GO(g))n.xk(),g.jg(this),(n=this.Pd.eg())&&([h,m]=this.Pd.uE()),yield*this.ME(g),n&&this.Pd.Ns(h);p.Ja();u&&q.gd.Ja();l&&q.Gb(c);q.nt();return m}H2(c){const g=this.md(),m=0<g.length,h=this.g,l=this.xd,n=h.da(),p=1<n.pt();p&&n.gd.Na();this.Pd.$s(c);m&&n.gg(g);c=l.Na(this);this.FE(c)&&(h.xk(),c.jg(this),this.Dy(c));l.Ja();p&&n.gd.Ja();m&&n.Gb(g);n.nt()}*KW(c){if(this.Qn()||this.g.mc())yield this;
const g=this.md(),m=0<g.length,h=this.g,l=this.xd,n=h.da(),p=1<n.pt();p&&n.gd.Na();this.Pd.$s(c);m&&n.gg(g);c=l.Na(this);if(yield*this.GO(c))h.xk(),c.jg(this),yield*this.ME(c);l.Ja();p&&n.gd.Ja();m&&n.Gb(g);n.nt()}aE(c,g,m,...h){let l,n;const p=0<c.length,q=this.g,u=this.xd,r=q.da(),v=1<r.pt();v&&r.gd.Na();0<h.length&&this.Pd.$s(h);p&&r.gg(c);h=u.Na(this);h.o_(g,m);u.e2(h);q.Ux(!1);this.FE(h)&&(q.xk(),h.jg(this),(g=this.Pd.eg())&&([n,l]=this.Pd.uE()),this.Dy(h),g&&this.Pd.Ns(n));q.Ux(!0);u.Ja();u.T1();
v&&r.gd.Ja();p&&r.Gb(c);r.nt();return l||h.OG}}}
{"use strict";const e=self.B,b=[];let a=!1;e.Jw=class extends e.aa{constructor(d,c,g){super();const m=d.G(),h=d.da();this.Mc=d;this.oa=h;this.g=d.G();this.sc=c;this.Ga=m.Wg(g[1]);this.Jq=g[2];this.Mc.bQ(this,this.Jq);this.Oa=m.pb?{Tc:g[3][0],OJ:g[3][1]}:null}static Ma(d,c,g){return e.m(e.Jw,d,c,g)}Hb(){const d=this.Ga,c=this.g.da().iP(this);this.Ga=d.bind(null,this.g.Fi,c)}Ba(){return this.sc}Lp(){return this.sc}xD(){return this.Oa&&this.Oa.OJ}Qn(){return this.xD()&&this.Oa.Tc}Bx(){return!1}ld(){return b}md(){return this.sc?
this.sc.md():b}ka(d){d.jg(this);this.oa.eC(this.t$())}async t$(){try{await this.Ga()}catch(d){console.error(`Unhandled exception running script %c${this.Mc.Aa()}, event ${this.Jq}:`,"font-size: 1.2em; font-weight: bold;",d),self.Xf&&self.Xf.gaa(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*hb(d){d.jg(this);if(this.Qn()||this.g.mc())yield this;
this.ka(d)}ke(){return!this.Qn()&&!this.g.mc()}static HZ(){return a}static o3(){a=!0}}}
{"use strict";const e=self.B;e.js=class extends e.aa{constructor(b,a,d){super();this.Mc=b;this.g=b.G();this.sc=a;const c=d[1];this.Gz=c[0];this.sl=c[1];this.zg=c[2].map(g=>e.Kw.Ma(b,this,g));this.Qba=c[3];this.cH=[];this.Au=c[4];this.gca=0;this.eu=-1;this.Rt=new Map;this.Kd=e.jk.Ma(b,a,d);this.Kd.maa(this)}static Ma(b,a,d){return e.m(e.js,b,a,d)}Hb(){for(const b of this.zg)b.Hb();this.Kd.Hb(!1)}$O(){return this.zg}Q9(b){this.cH.push(b)}dY(b){const a=this.zg;for(let d=0,c=a.length;d<c;++d)a[d].ue(b[d].Y(0))}$s(b){const a=
this.zg;for(let d=0,c=a.length;d<c;++d)a[d].ue(b[d])}dW(){return this.zg.map(b=>b.rd())}Ba(){return this.sc}Lp(){return this.sc}Sn(){return this.Qba}ss(){switch(this.sl){case 0:return null;case 2:return"";default:return 0}}oe(){return this.Kd}eg(){return this.Au}uE(){const b=this.gca++;this.eu=b;let a;const d=new Promise(c=>a=c);this.Rt.set(b,{resolve:a,YJ:0});return[b,d]}Ns(b){const a=this.Rt.get(b);0===a.YJ&&(a.resolve(),this.Rt.delete(b));this.eu=-1}N1(){this.Rt.get(this.eu).YJ++;return this.eu}F2(b){this.eu=
b;this.Rt.get(b).YJ--}}}
{"use strict";const e=self.B,b=[];e.Kw=class extends e.aa{constructor(a,d,c){super();const g=a.da();this.Mc=a;this.oa=g;this.g=a.G();this.sc=d;this.gd=g.gd;this.Da=c[1];this.ra=c[2];this.Lo=c[3];this.uh=!!c[4];this.ob=!!c[5];this.Sba=d instanceof e.js;this.eb=c[6];this.Ou=this.g.Zh(c[8]);this.uca=m=>this.ue(m);this.sca=()=>this.rd();this.NR=!this.sc||this.uh||this.ob;this.tc=this.Lo;this.OH=-1;this.$L()&&(this.tc=this.tc?1:0);!this.ED()||this.uh||this.ob||(this.OH=g.p7(this));g.N9(this)}static Ma(a,
d,c){return e.m(e.Kw,a,d,c)}Hb(){if(this.ED()&&!this.uh&&!this.ob&&!this.Sba){const a=this.oa.HC(this);a&&a.Q9(this)}}Aa(){return this.Da}Zh(){return this.Ou}Ba(){return this.sc}Lp(){return this.Ba()}Ef(){return!this.Ba()}ED(){return!this.Ef()}am(){return 0===this.ra}ei(){return 1===this.ra}$L(){return 2===this.ra}Bx(){return!1}ld(){return b}ka(){!this.ED()||this.uh||this.ob||this.ue(this.Lo)}ke(){return!0}*hb(a){this.ka(a)}ue(a){this.am()?"number"!==typeof a&&(a=parseFloat(a)):this.ei()?"string"!==
typeof a&&(a=a.toString()):this.$L()&&(a=a?1:0);this.NR?this.tc=a:this.gd.Fp()[this.OH]=a}rd(){return this.NR?this.tc:this.gd.Fp()[this.OH]}D2(){this.tc=this.Lo}mP(){return{configurable:!1,enumerable:!0,get:this.sca,set:this.uca}}}}
{"use strict";const e=self.B,b=[];e.$K=class extends e.aa{constructor(a,d,c){super();const g=a.da();this.Mc=a;this.oa=g;this.g=a.G();this.sc=d;this.xu=null;this.Lba=c[1];this.Cb=!0}static Ma(a,d,c){return e.m(e.$K,a,d,c)}Hb(){this.xu=this.oa.pL(this.Lba);this.Mc.g5(this);let a=this.Ba();for(;a;)a instanceof e.jk&&a.Hi&&a.Y4(this),a=a.Ba();this.$N();this.g.pb&&this.Mc.Ni.children.push(this.xu.Ni)}Ba(){return this.sc}ld(){return b}ka(){const a=!!this.Ba(),d=this.g.Ic;a&&this.oa.gg(d);this.xu.ka();a&&
this.oa.Gb(d)}*hb(){const a=!!this.Ba(),d=this.g.Ic;a&&this.oa.gg(d);yield*this.xu.hb();a&&this.oa.Gb(d)}ke(){return!1}$N(){let a=this.Ba();for(;a;){if(a instanceof e.jk&&a.Hi&&!a.Rp()){this.Cb=!1;return}a=a.Ba()}this.Cb=!0}}}
{"use strict";const e=self.B;e.Cn=class extends e.aa{constructor(h){super();this.ic=h;this.g=h.G()}Hb(){}static DW(h,l){return e.m([g,d,c,m,b,a][l[0]],h,l)}};class b extends e.Cn{constructor(h,l){super(h);this.Cd=this.g.Ds();this.Ga=this.g.Wg(l[1]);this.Ga!==e.C.kb.me.random&&this.Ga!==e.C.kb.me.XT||this.ic.rE()}Fd(){return this.Cd.Cj(this.Ga,this.Cd)}}class a extends e.Cn{constructor(h,l){super(h);this.Qq=null;this.Gz=l[1];this.ic.rE()}Hb(){const h=this.g.da();this.Qq=h.Xw(this.Gz);this.Gz=null;
const l=this.Qq.oe();this.Xk=[...new Set([...this.ic.oe().md(),...l.md()])];this.Xk=h.ly(this.Xk)}Fd(){const h=this.Qq;if(h.Sn())return e.jk.prototype.aE.bind(h.oe(),this.Xk,h.sl,h.ss());{const l=h.ss();return()=>l}}}class d extends e.Cn{constructor(h,l){super(h);this.M=this.g.Oe(l[1]);this.Ga=this.g.Wg(l[2]);this.sI=!!l[3];this.xd=this.g.da().Wc();this.ic.fF(this.M)}Fd(){return this.M.wb().Cj(this.Ga,this.M.bi().wa)}GC(){const h=this.M,l=h.U().MY();var n=l.length;if(0===n)return this.sI?"":0;var p=
this.ic.bB;p>=n?n=p%n:(0>p&&(p<=-n&&(p%=n),0>p&&(p+=n)),n=p);this.xd.Ne().i3(h);return this.Ga.apply(l[n].wa,[])}}class c extends e.Cn{constructor(h,l){super(h);this.M=this.g.Oe(l[1]);this.sI=!!l[2];this.ic.fF(this.M)}}class g extends e.Cn{constructor(h,l){super(h);this.M=this.g.Oe(l[1]);this.Jc=this.M.Ow(l[2]);this.ti=this.M.ls(l[2]);this.Ga=this.g.Wg(l[3]);this.sI=!!l[4];this.xd=this.g.da().Wc();this.ic.fF(this.M)}}class m extends e.Cn{constructor(h,l){super(h);this.rz=null;this.DG=l[1]}Hb(){this.rz=
this.g.da().UC(this.DG)}}}
{"use strict";const e=self.B;e.re=class extends e.aa{constructor(A,G,z){super();this.ic=A;this.La=z;this.ra=G;this.Y=null;this.ob=this.Ie=!1}static Ma(A,G,z){const F=G[0];return e.m([a,d,p,g,h,c,l,a,g,g,q,u,p,v,d,n,m,r,w,y][F],A,F,z,G)}Hb(){}rE(){this.Ie=!0}fF(A){this.Ie||!A||A.wb().Em||(this.Ie=!0)}Fa(){return this.La}G(){return this.ic.G()}oe(){return this.ic.oe()}};function b(A){A=self.TV[A];if(!A)throw Error("invalid expression number");return A}class a extends e.re{constructor(A,G,z,F){super(A,
G,z);this.bB=0;A=F[1];this.FG=A[0];this.er=[];this.wz=null;for(let I=1,J=A.length;I<J;++I)this.er.push(e.Cn.DW(this,A[I]));this.er.length?this.Y=this.LY:(this.Y=b(this.FG),this.ob=!0)}vd(A){if(0>A||A>=this.er.length)throw new RangeError("invalid numbered node");return this.er[A]}Hb(){for(var A of this.er)A.Hb();A=b(this.FG);this.wz=this.er.length?A(this):A}LY(A){this.bB=A;return this.wz()}}class d extends a{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.yZ;14===G&&(this.oe().T2(),this.ic instanceof
e.jw&&this.oe().dt())}yZ(A){this.bB=A;A=this.wz();return"string"===typeof A?A:""}j7(){return b(this.FG)()}}class c extends a{constructor(A,G,z,F){super(A,G,z,F);this.Y=this.W;this.ob=!1}W(A){this.bB=A;A=this.wz();return this.G().Ia().W(A)}}class g extends e.re{constructor(A,G,z,F){super(A,G,z);this.wba=F[1];this.Y=this.CY;this.ob=!0}CY(){return this.wba}}class m extends e.re{constructor(A,G,z,F){super(A,G,z);this.jba=F[1];this.Y=this.zY;this.ob=!0}zY(){return this.jba}}class h extends e.re{constructor(A,
G,z,F){super(A,G,z);this.M=this.G().Oe(F[1]);this.Y=this.H;A=this.oe();A.rO(this.M);this.ic instanceof e.jw?A.dt():A.Ba()&&A.Ba().dt();this.ob=!0}H(){return this.M}}class l extends e.re{constructor(A,G,z,F){super(A,G,z);this.Dg=this.G().Ya.Hp(F[1]);this.Y=this.ac;this.ob=!0}ac(){return this.Dg}}class n extends e.re{constructor(A,G,z,F){super(A,G,z);this.Gh=this.G().zb.qx(F[1]);this.Y=this.tb;this.ob=!0}tb(){return this.Gh}}class p extends e.re{constructor(A,G,z,F){super(A,G,z);this.Fba=F[1];this.Y=
this.PY;this.ob=!0}PY(){return this.Fba}}class q extends e.re{constructor(A,G,z,F){super(A,G,z);this.XR=F[1];(A=this.ic.H())&&A.cb?(this.Y=this.NY,this.rE()):(this.Y=this.$Y,this.ob=!0)}$Y(){return this.XR}NY(A){A=A||0;const G=this.ic.H();var z=G.U();const F=z.ea();if(F.length)A=F[A%F.length].H();else if(z.KZ())z=z.Xb,A=z[A%z.length].H();else if(0<G.F.length)z=G.ea(),A=z[A%z.length].H();else return 0;return this.XR+A.qL(G.Ei)}}class u extends e.re{constructor(A,G,z,F){super(A,G,z);this.DG=F[1];this.rz=
null;this.Y=this.KY;this.ob=!0}Hb(){this.rz=this.G().da().UC(this.DG)}KY(){return this.rz}}class r extends e.re{constructor(A,G,z,F){super(A,G,z);this.zR=F[1];this.Qq=null;this.Y=this.WY;this.ob=!0}Hb(){this.Qq=this.G().da().Xw(this.zR);this.zR=null}WY(){return this.Qq}}class v extends e.re{constructor(A,G,z,F){super(A,G,z);this.MI=[];this.GT=[];this.ob=!0;for(let I=1,J=F.length;I<J;++I)A=e.re.Ma(this.ic,F[I],0),this.MI.push(A),this.GT.push(0),A.ob||(this.ob=!1);this.Y=this.FZ}Hb(){for(const A of this.MI)A.Hb()}FZ(){const A=
this.MI,G=this.GT;for(let z=0,F=A.length;z<F;++z)G[z]=A[z].Y(0);return G}}class w extends e.re{constructor(A,G,z,F){super(A,G,z);this.Bba=F[1];this.Y=this.Ql;this.ob=!0}Ql(){return this.Bba}}class y extends e.re{constructor(A,G,z,F){super(A,G,z);this.oba=F[1];this.Y=this.BZ;this.ob=!0}BZ(){return this.oba}}}
{"use strict";const e=self.B;function b(c,g){for(let m=0,h=c.length;m<h;++m)g[m]=c[m].Y(0)}const a=[],d=function(){};e.HK=class extends e.aa{constructor(c,g,m){super();this.Kd=c;this.g=c.G();this.La=m;this.Ga=this.g.Wg(g[1]);this.vH=0<g[3];this.bS=2===g[3];this.rH=!!g[4];this.Ii=!!g[5];this.uh=!!g[6];this.eb=g[7];this.cS=this.Kd.yd;this.Jc=this.M=null;this.ti=-1;this.Cd=null;this.hb=this.ka=d;this.Ha=[];this.qb=[];this.Tk=!1;this.Hh=this.yb=null;this.Oa=this.g.pb?{Tc:g[8][0],qf:g[8][1]}:null;-1===
g[0]?this.Cd=this.g.Ds():(this.M=this.g.Oe(g[0]),g[2]&&(this.Jc=this.M.Ow(g[2]),this.ti=this.M.ls(g[2])),this.Kd.Ba()&&this.Kd.Ba().dt());if(10===g.length){c=g[9];for(let h of c)this.Ha.push(e.re.Ma(this,h,this.Ha.length)),this.qb.push(0)}0===this.Ha.length&&(this.qb=this.Ha=a);this.Kd.da().L9(this)}static Ma(c,g,m){return e.m(e.HK,c,g,m)}Hb(){for(const c of this.Ha)c.Hb(),c.Ie&&(this.Tk=!0);this.bS?(this.ka=this.j$,this.hb=this.f6):this.Cd?(this.yF(),this.hb=this.OE):this.M.wb().Em?(this.xF(),this.hb=
this.NE):this.uh?(this.ka=this.q$,this.hb=this.m6):(this.ka=this.nQ,this.hb=this.g6)}yF(){this.It(this.Cd,this.Cd,this.qF)}xF(){const c=this.M.wb(),g=this.M.bi().wa;this.It(c,g,this.pF)}It(c,g,m){const h=this.Ga,l=this.Ii,n=this.Ha;if(0===n.length){const p=c.Cj(h,g);this.ka=l?function(){return e.xor(p(),l)}:p}else if(1===n.length){const p=n[0];if(!l&&p.ob)this.ka=c.aP(h,g,p.Y(0));else{const q=c.Cj(h,g);this.ka=function(){return e.xor(q(p.Y(0)),l)}}}else if(2===n.length){const p=n[0],q=n[1];if(!l&&
p.ob&&q.ob)this.ka=c.bP(h,g,p.Y(0),q.Y(0));else{const u=c.Cj(h,g);this.ka=function(){return e.xor(u(p.Y(0),q.Y(0)),l)}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(!l&&p.ob&&q.ob&&u.ob)this.ka=c.cP(h,g,p.Y(0),q.Y(0),u.Y(0));else{const r=c.Cj(h,g);this.ka=function(){return e.xor(r(p.Y(0),q.Y(0),u.Y(0)),l)}}}else this.ka=m}H(){return this.M}$f(){return this.Jc}oe(){return this.Kd}G(){return this.g}Fa(){return this.La}kL(){return this.Fa()}Tn(){return this.vH}ke(){return!this.Oa.Tc&&!this.g.mc()&&
!this.Oa.qf}sk(){this.yb||(this.yb=new Map);return this.yb}Gs(){this.Hh||(this.Hh=new Map);return this.Hh}qF(){const c=this.qb;b(this.Ha,c);return e.xor(this.Ga.apply(this.Cd,c),this.Ii)}*OE(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){var c=this.qb;b(this.Ha,c);c=this.Ga.apply(this.Cd,c);e.$l(c)&&(c=yield*c);return e.xor(c,this.Ii)}return this.ka()}pF(){const c=this.qb;b(this.Ha,c);const g=this.M.bi().wa;return e.xor(this.Ga.apply(g,c),this.Ii)}*NE(){if(this.Oa.Tc||this.g.mc())yield this;
if(this.Oa.qf){var c=this.qb;b(this.Ha,c);const g=this.M.bi().wa;c=this.Ga.apply(g,c);e.$l(c)&&(c=yield*c);return e.xor(c,this.Ii)}return this.ka()}j$(){return!0}*f6(){if(this.Oa.Tc||this.g.mc())yield this;return!0}q$(){var c=this.qb;b(this.Ha,c);c=this.Ga.apply(this.Jc||this.M,c);this.M.$b();return c}*m6(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){var c=this.qb;b(this.Ha,c);c=this.Ga.apply(this.Jc||this.M,c);e.$l(c)&&(c=yield*c);this.M.$b();return c}return this.ka()}nQ(){const c=this.Ha,
g=this.qb,m=this.M.U();for(let h=0,l=c.length;h<l;++h){const n=c[h];n.Ie||(g[h]=n.Y(0))}return m.Sb?this.k$(m):this.l$(m)}*g6(){if(this.Oa.Tc||this.g.mc())yield this;return this.nQ()}TE(c){const g=this.Ha,m=this.qb;for(let h=0,l=g.length;h<l;++h){const n=g[h];n.Ie&&(m[h]=n.Y(c))}}k$(c){const g=this.M,m=g.cb,h=g.Ei,l=this.ti,n=0<=l,p=g.ea(),q=this.Tk,u=this.qb,r=this.Ga,v=this.Ii,w=this.cS&&!this.vH;c.vw();for(let A=0,G=p.length;A<G;++A){const z=p[A];q&&this.TE(A);var y=void 0;n?(y=m?z.H().Dn(h):0,
y=r.apply(z.fd[l+y].wa,u)):y=r.apply(z.wa,u);e.xor(y,v)?c.vq(z):w&&c.Qk(z)}c.Xe(!1);g.$b();return c.jD()}l$(c){const g=this.M,m=g.cb,h=g.Ei,l=g.cc(),n=this.ti,p=0<=n,q=this.Tk,u=this.qb,r=this.Ga,v=this.Ii,w=this.cS&&!this.vH,y=c.F,A=c.Xb,G=w&&!this.Kd.Y_(this),z=G?A:y;let F=0,I=!1;for(let M=0,P=z.length;M<P;++M){const R=z[M];q&&this.TE(M);var J=void 0;p?(J=m?R.H().Dn(h):0,J=r.apply(R.fd[n+J].wa,u)):J=r.apply(R.wa,u);e.xor(J,v)?(I=!0,G?(y.push(R),l&&R.H9()):(z[F]=R,l&&R.oaa(F),++F)):G?(z[F]=R,l&&
R.naa(F),++F):w&&(A.push(R),l&&R.G9())}e.Ke(z,F);l&&g.Jaa(G,F);G&&!I&&(I=this.z9(y));return w?I:c.jD()}z9(c){var g=this.M;const m=g.cb;g=g.Ei;const h=this.Tk,l=this.ti,n=0<=l,p=this.qb,q=this.Ga,u=this.Ii;for(let v=0,w=c.length;v<w;++v){var r=c[v];h&&this.TE(v);if(n){const y=m?r.H().Dn(g):0;r=q.apply(r.fd[l+y].wa,p)}else r=q.apply(r.wa,p);if(e.xor(r,u))return!0}return!1}Us(c,g){return this.Ha[c].Y(g)}OY(){const c=this.Ha;if(!c.length)throw Error("no parameters");return c[0].j7()}ba(){if(!this.yb||
!this.yb.size)return null;const c={};for(const [g,m]of this.yb.entries()){let h=m;"collmemory"===g&&(h=[...m.entries()].map(l=>[l[0].lc,l[1].lc,l[2]]));c[g]=h}return{ex:c}}ja(c){this.yb&&(this.yb.clear(),this.yb=null);if(c){var g=this.g,m=c.ex;if(m){c=this.sk();c.clear();for(const [h,l]of Object.entries(m))m=l,"collmemory"===h&&(m=e.m(e.Qs,l.map(n=>[g.Ug(n[0]),g.Ug(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(h,m)}}}}}
{"use strict";const e=self.B;function b(g,m){for(let h=0,l=g.length;h<l;++h)m[h]=g[h].Y(0)}const a=[],d=function(){},c=function*(){};e.jw=class extends e.aa{constructor(g,m,h){super();this.Kd=g;this.g=g=g.G();this.La=h;this.eb=4<=m.length?m[3]:-1;this.Py=5<=m.length?m[4]:0;this.Jc=this.M=this.Ga=null;this.ti=-1;this.Cd=null;this.$y="";this.Xk=this.Zy=null;this.hb=this.ka=d;this.Ha=[];this.qb=[];this.Tk=!1;this.Hh=this.yb=null;const l=(h=-3===m[0])?m[2]:m[5];this.Oa=g.pb||h?{Tc:l[0],qf:l[1],index:l[2]}:
null;-1===m[0]?(this.Cd=g.Ds(),this.Ga=g.Wg(m[1])):-2===m[0]?this.$y=m[1]:h?(this.Ga=g.Wg(m[1]),this.ka=this.bE,this.hb=this.OW,this.Py=1):(this.Ga=g.Wg(m[1]),this.M=g.Oe(m[0]),m[2]&&(this.Jc=this.M.Ow(m[2]),this.ti=this.M.ls(m[2])));if(7===m.length){m=m[6];for(const n of m)this.Ha.push(e.re.Ma(this,n,this.Ha.length)),this.qb.push(0)}0===this.Ha.length&&(this.qb=this.Ha=a);this.Kd.da().K9(this)}static Ma(g,m,h){return e.m(e.jw,g,m,h)}Hb(){for(var g of this.Ha)g.Hb(),g.Ie&&(this.Tk=!0);if(this.Cd)this.yF(),
this.hb=this.OE;else if(this.$y)this.N$(),this.$y="";else if(this.ka===this.bE){g=this.Ga;const m=this.g.da().iP(this.Kd);this.Ga=g.bind(null,this.g.Fi,m)}else this.Jc?this.eg()?(this.ka=this.lQ,this.hb=this.c6):(this.ka=this.kQ,this.hb=this.b6):this.M.wb().Em?(this.xF(),this.hb=this.NE):this.eg()?(this.ka=this.pQ,this.hb=this.i6):this.Ha.length?this.Ha.every(m=>m.Ie)?(this.ka=this.oQ,this.hb=this.h6):this.Tk?(this.ka=this.rQ,this.hb=this.k6):this.Ha.every(m=>m.ob)?(b(this.Ha,this.qb),this.ka=this.oF,
this.hb=this.HO):(this.ka=this.qQ,this.hb=this.j6):(this.ka=this.oF,this.hb=this.HO)}yF(){this.It(this.Cd,this.Cd,this.qF)}xF(){const g=this.M.wb(),m=this.M.bi().wa;this.It(g,m,this.pF)}N$(){const g=this.Kd.da(),m=g.Xw(this.$y);m.Sn()?(this.Zy=m.oe(),this.Xk=[...new Set([...this.Kd.md(),...this.Zy.md()])],this.Xk=g.ly(this.Xk),this.ka=e.jk.prototype.G2.bind(this.Zy,this.Xk,this.Ha),this.hb=this.d6):(this.ka=d,this.hb=c)}It(g,m,h){const l=this.Ga,n=this.Ha;if(0===n.length)this.ka=g.Cj(l,m);else if(1===
n.length){const p=n[0];if(p.ob)this.ka=g.aP(l,m,p.Y(0));else{const q=g.Cj(l,m);this.ka=function(){return q(p.Y(0))}}}else if(2===n.length){const p=n[0],q=n[1];if(p.ob&&q.ob)this.ka=g.bP(l,m,p.Y(0),q.Y(0));else{const u=g.Cj(l,m);this.ka=function(){return u(p.Y(0),q.Y(0))}}}else if(3===n.length){const p=n[0],q=n[1],u=n[2];if(p.ob&&q.ob&&u.ob)this.ka=g.cP(l,m,p.Y(0),q.Y(0),u.Y(0));else{const r=g.Cj(l,m);this.ka=function(){return r(p.Y(0),q.Y(0),u.Y(0))}}}else this.ka=h}eg(){return 1===this.Py}BK(){return 2===
this.Py}TZ(){return 0!==this.Py}H(){return this.M}oe(){return this.Kd}G(){return this.g}Fa(){return this.La}kL(){return this.Oa.index}ke(){return!this.Oa.Tc&&!this.g.mc()&&!this.Oa.qf}sk(){this.yb||(this.yb=new Map);return this.yb}Gs(){this.Hh||(this.Hh=new Map);return this.Hh}qF(){const g=this.qb;b(this.Ha,g);return this.Ga.apply(this.Cd,g)}*OE(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){const g=this.qb;b(this.Ha,g);return yield*this.Ga.apply(this.Cd,g)}return this.ka()}*d6(){if(this.Oa.Tc||
this.g.mc())yield this;return yield*this.Zy.JW(this.Xk,this.Ha)}pF(){const g=this.qb;b(this.Ha,g);return this.Ga.apply(this.M.bi().wa,g)}*NE(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){const g=this.qb;b(this.Ha,g);return yield*this.Ga.apply(this.M.bi().wa,g)}return this.ka()}oF(){const g=this.qb,m=this.M.U().ea();for(let h=0,l=m.length;h<l;++h)this.Ga.apply(m[h].wa,g)}*HO(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){const g=this.qb,m=this.M.U().ea();for(let h=0,l=m.length;h<l;++h)yield*this.Ga.apply(m[h].wa,
g)}else this.oF()}qQ(){const g=this.qb;b(this.Ha,g);const m=this.M.U().ea();for(let h=0,l=m.length;h<l;++h)this.Ga.apply(m[h].wa,g)}*j6(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){const g=this.qb;b(this.Ha,g);const m=this.M.U().ea();for(let h=0,l=m.length;h<l;++h)yield*this.Ga.apply(m[h].wa,g)}else this.qQ()}oQ(){const g=this.Ha,m=this.qb,h=this.Ga,l=this.M.U().ea();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,r=g.length;u<r;++u)m[u]=g[u].Y(n);h.apply(q.wa,m)}}*h6(){if(this.Oa.Tc||
this.g.mc())yield this;if(this.Oa.qf){const g=this.Ha,m=this.qb,h=this.Ga,l=this.M.U().ea();for(let n=0,p=l.length;n<p;++n){const q=l[n];for(let u=0,r=g.length;u<r;++u)m[u]=g[u].Y(n);yield*h.apply(q.wa,m)}}else this.oQ()}rQ(){const g=this.Ha,m=this.qb,h=this.Ga,l=this.M.U().ea();for(let p=0,q=g.length;p<q;++p){var n=g[p];n.Ie||(m[p]=n.Y(0))}for(let p=0,q=l.length;p<q;++p){n=l[p];for(let u=0,r=g.length;u<r;++u){const v=g[u];v.Ie&&(m[u]=v.Y(p))}h.apply(n.wa,m)}}*k6(){if(this.Oa.Tc||this.g.mc())yield this;
if(this.Oa.qf){const m=this.Ha,h=this.qb,l=this.Ga,n=this.M.U().ea();for(let p=0,q=m.length;p<q;++p){var g=m[p];g.Ie||(h[p]=g.Y(0))}for(let p=0,q=n.length;p<q;++p){g=n[p];for(let u=0,r=m.length;u<r;++u){const v=m[u];v.Ie&&(h[u]=v.Y(p))}yield*l.apply(g.wa,h)}}else this.rQ()}kQ(){var g=this.M;const m=g.cb,h=g.Ei,l=this.Ha,n=this.Tk,p=this.qb,q=this.Ga,u=this.ti;g=g.U().ea();for(let w=0,y=l.length;w<y;++w){var r=l[w];r.Ie||(p[w]=r.Y(0))}for(let w=0,y=g.length;w<y;++w){r=g[w];if(n)for(let A=0,G=l.length;A<
G;++A){var v=l[A];v.Ie&&(p[A]=v.Y(w))}v=m?r.H().Dn(h):0;q.apply(r.fd[u+v].wa,p)}}*b6(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){var g=this.M;const l=g.cb,n=g.Ei,p=this.Ha,q=this.Tk,u=this.qb,r=this.Ga,v=this.ti;g=g.U().ea();for(let w=0,y=p.length;w<y;++w){var m=p[w];m.Ie||(u[w]=m.Y(0))}for(let w=0,y=g.length;w<y;++w){m=g[w];if(q)for(let A=0,G=p.length;A<G;++A){var h=p[A];h.Ie&&(u[A]=h.Y(w))}h=l?m.H().Dn(n):0;yield*r.apply(m.fd[v+h].wa,u)}}else this.kQ()}pQ(){const g=this.Ha,m=this.qb,
h=this.Ga,l=this.M.U().ea(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let r=0,v=g.length;r<v;++r)m[r]=g[r].Y(p);n.push(h.apply(u.wa,m))}return Promise.all(n)}*i6(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){const g=this.Ha,m=this.qb,h=this.Ga,l=this.M.U().ea(),n=[];for(let p=0,q=l.length;p<q;++p){const u=l[p];for(let r=0,v=g.length;r<v;++r)m[r]=g[r].Y(p);n.push(yield*h.apply(u.wa,m))}return Promise.all(n)}return this.pQ()}lQ(){var g=this.M;const m=g.cb,h=g.Ei,l=this.Ha,n=this.qb,
p=this.Ga,q=this.ti;g=g.U().ea();const u=[];for(let r=0,v=g.length;r<v;++r){const w=g[r];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(r);const y=m?w.H().Dn(h):0;u.push(p.apply(w.fd[q+y].wa,n))}return Promise.all(u)}*c6(){if(this.Oa.Tc||this.g.mc())yield this;if(this.Oa.qf){var g=this.M;const m=g.cb,h=g.Ei,l=this.Ha,n=this.qb,p=this.Ga,q=this.ti;g=g.U().ea();const u=[];for(let r=0,v=g.length;r<v;++r){const w=g[r];for(let A=0,G=l.length;A<G;++A)n[A]=l[A].Y(r);const y=m?w.H().Dn(h):0;u.push(yield*p.apply(w.fd[q+
y].wa,n))}return Promise.all(u)}return this.lQ()}async bE(){try{await this.Ga()}catch(g){console.error(`Unhandled exception running script %c${this.Kd.Mc.Aa()}, event ${this.Kd.Jq}, action ${this.kL()+1}:`,"font-size: 1.2em; font-weight: bold;",g),self.Xf&&self.Xf.gaa(this),e.Jw.HZ()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),e.Jw.o3())}}*OW(){if(this.Oa.Tc||
this.g.mc())yield this;return this.bE()}ba(){return this.yb&&this.yb.size?{ex:e.AE(this.yb)}:null}ja(g){this.yb&&(this.yb.clear(),this.yb=null);g&&(g=g.ex)&&(this.yb=e.IC(g))}}}
{"use strict";const e=self.B,b=new e.Za;function a(L,O){return e.compare(this.A().ga(),L,O)}function d(L,O){return e.compare(this.A().ia(),L,O)}function c(){const L=this.A(),O=L.W();return O.Np()?L.Sp(O.pq()):L.iM(O.Uf,L.ac().UL(),L.ac().df)}function g(){var L=this.A();const O=L.ac();L=L.Vc();return 0>L.ca||0>L.Z||L.X>O.ta()||L.S>O.qa()}function m(L,O,U){const aa=this.U(),ha=aa.ea();if(!ha.length)return!1;let fa=ha[0];var ja=fa.A();let ua=fa,ka=e.cU(ja.ga(),ja.ia(),O,U);for(let wa=1,Ga=ha.length;wa<
Ga;++wa)if(fa=ha[wa],ja=fa.A(),ja=e.cU(ja.ga(),ja.ia(),O,U),0===L&&ja<ka||1===L&&ja>ka)ka=ja,ua=fa;aa.dm(ua);return!0}function h(L){const O=this.A();O.ga()!==L&&(O.dh(L),O.ub())}function l(L){const O=this.A();O.ia()!==L&&(O.eh(L),O.ub())}function n(L,O){const U=this.A();U.bY(L,O)||(U.lm(L,O),U.ub())}function p(L,O){if(L&&(L=L.qZ(this.na))){var [U,aa]=L.XC(O);O=this.A();if(O.ga()!==U||O.ia()!==aa)O.lm(U,aa),O.ub()}}function q(L){if(0!==L){var O=this.A();O.Jx(O.PC()*L,O.dD()*L);O.ub()}}function u(L,
O){if(0!==O){var U=this.A();L=e.Wa(L);U.Jx(Math.cos(L)*O,Math.sin(L)*O);U.ub()}}function r(){return this.A().ga()}function v(){return this.A().ia()}function w(){return this.g.mL(this.na)}function y(L,O){return e.compare(this.A().ta(),L,O)}function A(L,O){return e.compare(this.A().qa(),L,O)}function G(L){const O=this.A();O.ta()!==L&&(O.Jk(L),O.ub())}function z(L){const O=this.A();O.qa()!==L&&(O.Gk(L),O.ub())}function F(L,O){const U=this.A();if(U.ta()!==L||U.qa()!==O)U.Id(L,O),U.ub()}function I(){return this.A().ta()}
function J(){return this.A().qa()}function M(){return this.A().Vc().X}function P(){return this.A().Vc().S}function R(){return this.A().Vc().ca}function T(){return this.A().Vc().Z}function Z(L,O){return e.Jr(this.A().Ea(),e.Wa(O))<=e.Wa(L)}function X(L){return e.pf(this.A().Ea(),e.Wa(L))}function ba(L,O){L=e.Wa(L);O=e.Wa(O);const U=this.A().Ea();return e.pf(O,L)?e.pf(U,L)&&!e.pf(U,O):!(!e.pf(U,L)&&e.pf(U,O))}function Y(L){const O=this.A();L=e.je(e.Wa(L));isNaN(L)||O.Ea()===L||(O.Hd(L),O.ub())}function va(L){if(!isNaN(L)&&
0!==L){var O=this.A();O.Hd(O.Ea()+e.Wa(L));O.ub()}}function ta(L){if(!isNaN(L)&&0!==L){var O=this.A();O.Hd(O.Ea()-e.Wa(L));O.ub()}}function ya(L,O){const U=this.A(),aa=U.Ea();L=e.pJ(aa,e.Wa(O),e.Wa(L));isNaN(L)||aa===L||(U.Hd(L),U.ub())}function Na(L,O,U){const aa=this.A(),ha=aa.Ea();O-=aa.ga();U-=aa.ia();L=e.pJ(ha,Math.atan2(U,O),e.Wa(L));isNaN(L)||ha===L||(aa.Hd(L),aa.ub())}function Sa(L,O){const U=this.A(),aa=U.Ea();L-=U.ga();O-=U.ia();O=Math.atan2(O,L);isNaN(O)||aa===O||(U.Hd(O),U.ub())}function Ta(){return e.Oh(this.A().Ea())}
function Ua(L,O){return e.compare(e.LU(100*this.A().qe()),L,O)}function Wa(){return this.A().Fc()}function eb(L){const O=this.A();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&(O.zj(L),this.g.$())}function fb(L){L=e.fa(L/100,0,1);const O=this.A();O.qe()!==L&&(O.Hk(L),this.g.$())}function Pa(L){b.Ur(L);L=this.A();L.ab.Fl(b)||(L.NN(b),this.g.$())}function Va(){const L=this.A().ab;return e.Lx(L.Ra,L.Ua,L.Ta,L.Sa)}function ib(){return e.LU(100*this.A().qe())}function Ya(L){return L?this.A().W()===L:!1}function vb(L){const O=
this.U(),U=O.ea();if(!U.length)return!1;let aa=U[0];for(let ha=1,fa=U.length;ha<fa;++ha){const ja=U[ha],ua=ja.A(),ka=aa.A(),wa=ua.W().Fa(),Ga=ka.W().Fa();if(0===L){if(wa>Ga||wa===Ga&&ua.oj()>ka.oj())aa=ja}else if(wa<Ga||wa===Ga&&ua.oj()<ka.oj())aa=ja}O.dm(aa);return!0}function wb(L,O,U){const aa=this.A();L=0===L?aa.$a():aa.Re();return e.compare(L,O,U)}function jb(){this.A().V4()}function xb(){this.A().T4()}function yb(L){L&&this.A().U4(L)}function zb(L,O){L=0===L;O&&(O=O.vs(this.xa()))&&this.A().S4(O,
L)}function Ab(L){const O=this.A();O.$a()!==L&&(O.Ve(L),this.g.$())}function Bb(){return this.A().W().Fa()}function Cb(){return this.A().W().Aa()}function Db(){return this.A().oj()}function kb(){return this.A().$a()}function Eb(){return this.A().Re()}function Fb(L,O){if(O=this.H().Ka.nk(O)){O=O.Fa();L=1===L;var U=this.A().Lf;U.Ks(O)!==L&&(U.rN(O,L),U.gh(),this.g.$())}}function Gb(L,O,U){var aa=this.H().Ka.nk(L);if(aa){L=aa.Fa();var ha=this.A().Lf,fa=ha.mk(L);O=Math.floor(O);if(!(0>O||O>=fa.length)){aa=
aa.Cf().gx(O);if("color"===aa){b.Ur(U);O=fa[O];if(b.Fl(O))return;O.Wi(b)}else{"percent"===aa&&(U/=100);if(fa[O]===U)return;fa[O]=U}ha.Ks(L)&&this.g.$()}}}const lb=e.m(e.Rect),Xa=[],mb=[];let nb=!1,Za=null,ob=!1;const Qa=new Set;function pb(L,O,U,aa){O.lc<U.lc?L.Set(O,U,aa):L.Set(U,O,aa)}function qb(L,O,U){O.lc<U.lc?L.zn(O,U):L.zn(U,O)}function qa(L,O,U){return O.lc<U.lc?L.Y(O,U):L.Y(U,O)}function Ma(L,O,U,aa){if(!O)return!1;L=L.xa();const ha=0!==U||0!==aa,fa=L.A(),ja=L.G(),ua=ja.wi;var ka=ja.xf();
const wa=ka.oe().yd;var Ga=ka.H();ka=ka.Ii;const Ia=O.U();Ga=Ga!==O;Za=O;nb=Ga&&!ka;ob=!1;let db=0,Ha=0,ma=!1;Ia.Sb?(lb.ma(fa.Vc()),lb.offset(U,aa),ua.OC(fa.W(),O,lb,mb),O=mb):wa?ja.cM()&&!Ia.Xb.length&&Ia.F.length?O=Ia.F:(O=Ia.Xb,ob=!0):O=Ia.F;ha&&(db=fa.ga(),Ha=fa.ia(),fa.Jx(U,aa),fa.ub());for(const da of O)if(ua.yE(L,da)){ma=!0;if(ka)break;Ga&&Qa.add(da)}ha&&(fa.lm(db,Ha),fa.ub());e.D(mb);return ma}function Mb(L,O){if(nb){if(O){{L=L.G().Ab().yd;O=Za.U();const U=O.F,aa=O.Xb;O.Sb?(O.ct(Qa),L&&(e.D(aa),
O.sK(Qa,Za.ea()))):L?ob?O.o4(Qa):(O.sK(Qa,U),O.ct(Qa)):O.ct(Qa);Za.$b()}}Qa.clear();Za=null;nb=!1}}function Nb(L){if(this.g.$d)return Ob.call(this,L);if(!L)return!1;var O=this.g;const U=O.wi,aa=O.da(),ha=aa.Wc();var fa=aa.xf();const ja=fa.H();var ua=fa.sk(),ka=fa.Gs();fa=ha.Ne();const wa=O.Wj,Ga=wa-1,Ia=fa.Ab(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.m(e.Qs),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Jb().addEventListener("instancedestroy",
Ra=>{Ha.VK(Ra.instance)}));O=L.U();ua=ja.U().ea();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Sb?(U.OC(Ea.A().W(),L,Ea.A().Vc(),Xa),ka=Xa,U.vK(Ea,L,ka)):ka=O.ea();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.yE(Ea,La)||U.DK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.ld(),aa.se(ma),na=ja.U(),da=L.U(),na.Xe(!1),da.Xe(!1),ja===L?(da=na.F,e.D(da),da.push(Ea),da.push(La),ja.$b()):(na=na.F,da=da.F,e.D(na),e.D(da),
na.push(Ea),da.push(La),ja.$b(),L.$b()),Ia.hg(fa,db),aa.Gb(ma))}else qb(Ha,Ea,La)}e.D(Xa)}ha.Ja();return!1}function*Ob(L){if(!L)return!1;var O=this.g;const U=O.wi,aa=O.da(),ha=aa.Wc();var fa=aa.xf();const ja=fa.H();var ua=fa.sk(),ka=fa.Gs();fa=ha.Ne();const wa=O.Wj,Ga=wa-1,Ia=fa.Ab(),db=ha.Na(Ia);let Ha=ua.get("collmemory");Ha||(Ha=e.m(e.Qs),ua.set("collmemory",Ha));ka.get("collisionCreatedDestroyCallback")||(ka.set("collisionCreatedDestroyCallback",!0),O.Jb().addEventListener("instancedestroy",Ra=>
{Ha.VK(Ra.instance)}));O=L.U();ua=ja.U().ea();ka=null;for(let Ra=0;Ra<ua.length;++Ra){const Ea=ua[Ra];O.Sb?(U.OC(Ea.A().W(),L,Ea.A().Vc(),Xa),ka=Xa,U.vK(Ea,L,ka)):ka=O.ea();for(let hb=0;hb<ka.length;++hb){const La=ka[hb];if(U.yE(Ea,La)||U.DK(Ea,La)){var ma=qa(Ha,Ea,La),da=!1,na=-2;"number"===typeof ma&&(da=!0,na=ma);ma=!da||na<Ga;pb(Ha,Ea,La,wa);ma&&(ma=Ia.ld(),aa.se(ma),na=ja.U(),da=L.U(),na.Xe(!1),da.Xe(!1),ja===L?(da=na.F,e.D(da),da.push(Ea),da.push(La),ja.$b()):(na=na.F,da=da.F,e.D(na),e.D(da),
na.push(Ea),da.push(La),ja.$b(),L.$b()),yield*Ia.Yf(fa,db),aa.Gb(ma))}else qb(Ha,Ea,La)}e.D(Xa)}ha.Ja();return!1}function Pb(L){return Ma(this,L,0,0)}function Qb(L,O,U){return Ma(this,L,O,U)}function Rb(){return this.A().pj()}function rb(){return this.A().Se()}function sb(L,O){const U=this.U().ea();if(0===U.length)return!1;const aa=L.U();var ha=aa.ea();if(0===ha.length)return!1;ha=new Set(ha);const fa=new Set;for(let ua=0,ka=U.length;ua<ka;++ua){var ja=U[ua];if(1===O)for(const wa of ja.aw())wa.Ap(L)&&
ha.has(wa)&&fa.add(wa);else{if(0===O){if(ja=ja.Ba(),null===ja)continue}else ja=ja.rx();ja.Ap(L)&&ha.has(ja)&&fa.add(ja)}}if(0===fa.size)return!1;aa.ct(fa);L.$b();return!0}function tb(L,O){const U=this.U().ea();if(0===U.length)return!1;const aa=L.U();var ha=aa.ea();if(aa.Sb){var fa=[...this.g.KJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=new Set;for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja];2===O&&!ka.Se()&&ka.Ap(L)&&ha.has(ka)&&fa.add(ka);for(const wa of 0===
O?ka.children():ka.dk())2===O&&wa.Se()||wa.Ap(L)&&ha.has(wa)&&fa.add(wa)}if(0===fa.size)return!1;aa.ct(fa);L.$b();return!0}function ub(L,O){const U=this.U().ea();if(0===U.length)return!1;const aa=L.U();var ha=aa.ea();if(aa.Sb){var fa=[...this.g.KJ(L)];0<fa.length&&(ha=ha.concat(fa))}if(0===ha.length)return!1;ha=new Set(ha);fa=[];for(let ja=0,ua=U.length;ja<ua;++ja){const ka=U[ja].NC(O);null!==ka&&ka.Ap(L)&&ha.has(ka)&&fa.push(ka)}if(0===fa.length)return!1;aa.Xs(fa);L.$b();return!0}function gb(L,O){return e.compare(this.na.Qw(),
L,O)}function f(L,O,U,aa,ha,fa,ja,ua){const ka=this.na,wa=this.g.Rw().H();for(const Ga of L.RT(ka,wa)){if(!Ga.wb().tT)break;ka.Ml(Ga,{Xr:O,Yr:U,wp:aa,vp:ha,Wr:fa,Zr:ja,Pv:ua})}}function k(L){const O=this.na,U=this.g.Rw().H();for(const aa of L.RT(O,U))O.uj(aa)}function t(){this.na.pj()&&this.na.Ba().uj(this.na)}function x(){return this.na.Qw()}function C(L,O){L=Math.floor(L);O=Math.floor(O);const U=this.A();2>L||2>O||!isFinite(L)||!isFinite(O)?(U.Px(),U.ub()):U.zC(L,O)}function D(L,O,U,aa,ha,fa,ja,
ua){const ka=this.A();ka.CN(L,O,{mode:0===U?"absolute":"relative",x:aa,y:ha,iw:fa,bV:ja,eV:ua})&&ka.ub()}function E(){const L=this.A();return L.ci()?L.Vl().Mj:0}function H(){const L=this.A();return L.ci()?L.Vl().Zj:0}function K(L){const O=this.A();L=2===L?!O.Fc():0!==L;O.Fc()!==L&&O.zj(L)}function N(L,O){this.h3(L,O)}function Q(L,O){this.g3(L,""+O)}function S(L){this.m2(L)}function W(){this.eL()}function V(){this.yK()}function ea(){return this.AG}function ia(L){this.loa(0!==L)}function ca(){return this.joa()}
function oa(L,O,U){return e.compare(this.xa().pe(L),O,U)}function la(L){return!!this.xa().pe(L)}function ra(L,O){const U=this.U(),aa=U.ea();if(!aa.length)return!1;let ha=aa[0],fa=ha,ja=ha.pe(O);for(let ua=1,ka=aa.length;ua<ka;++ua){ha=aa[ua];const wa=ha.pe(O);if(0===L&&wa<ja||1===L&&wa>ja)ja=wa,fa=ha}U.dm(fa);return!0}function sa(L){if(this.g.xf().Ii){{const aa=this.U();if(aa.Sb){aa.Xe(!1);aa.vw();var O=this.ea();for(let ha=0,fa=O.length;ha<fa;++ha){var U=O[ha];U.lc===L?aa.Qk(U):aa.vq(U)}this.$b();
L=!!aa.F.length}else{O=aa.F;U=0;for(let ha=0,fa=O.length;ha<fa;++ha){const ja=O[ha];O[U]=ja;ja.lc===L?aa.Qk(ja):++U}e.Ke(O,U);this.$b();L=!!O.length}}}else L=pa(this,L);return L}function pa(L,O){O=L.G().Ug(O);if(!O)return!1;const U=L.U();if(!U.Sb&&!U.F.includes(O))return!1;if(L.cb){if(O.H().oC(L))return U.dm(O),L.$b(),!0}else if(O.H()===L)return U.dm(O),L.$b(),!0;return!1}function za(){this.g.An(this.na)}function Aa(){return!0}function Ba(){return!0}function Ca(L,O){this.xa().im(L,O)}function Fa(L,
O){const U=this.xa(),aa=U.pe(L);"number"===typeof aa&&"number"!==typeof O?O=parseFloat(O):"string"===typeof aa&&"string"!==typeof O&&(O=O.toString());U.im(L,aa+O)}function Ja(L,O){const U=this.xa(),aa=U.pe(L);"number"===typeof aa&&("number"!==typeof O&&(O=parseFloat(O)),U.im(L,aa-O))}function Ka(L,O){this.xa().im(L,O?1:0)}function Da(L){const O=this.xa();O.im(L,0===O.pe(L)?1:0)}function Hb(L){let O;try{O=JSON.parse(L)}catch(U){console.error("Failed to load from JSON string: ",U);return}L=this.xa();
L.Ay("state");L.nd(O,"state")}function Ib(){return JSON.stringify(this.xa().ud("state"))}function nc(){return this.xa().H().Aa()}function oc(){const L=this.g.Me().GG;let O=L.F.length;for(const U of this.g.KJ(L))++O;return O}function pc(){return this.g.Me().GG.U().ea().length}function qc(){return this.na.En()}function rc(){return this.na.lc}e.nV=function(L,O){const U=L[1],aa=L[4],ha=L[5],fa=L[6],ja=L[7],ua=L[8],ka=L[10],wa=L[11],Ga=L[12],Ia=L[13],db=L[14],Ha=L[15],ma=O.J,da=O.dd,na=O.me;L[3]&&(ma.hga=
a,ma.qW=d,ma.kia=c,ma.oia=g,ma.Qja=m,da.dh=h,da.eh=l,da.Mma=n,da.Nma=p,da.aja=q,da.$ia=u,na.jO=r,na.kO=v,na.CJ=w);aa&&(ma.gga=y,ma.$fa=A,da.Jk=G,da.Gk=z,da.Id=F,na.$na=I,na.pha=J,na.xfa=M,na.zfa=P,na.yfa=R,na.wfa=T);ha&&(ma.AV=Z,ma.V_=X,ma.U_=ba,da.Hd=Y,da.tla=va,da.ula=ta,da.vla=ya,da.wla=Na,da.Qma=Sa,na.rfa=Ta);fa&&(ma.Fc=Wa,ma.aga=Ua,da.zj=eb,da.Hk=fb,da.Vla=Pa,na.Opacity=ib,na.Ufa=Va);ja&&(ma.fia=Ya,ma.Yja=vb,ma.iga=wb,da.dja=jb,da.bja=xb,da.cja=yb,da.hoa=zb,da.Ve=Ab,na.Jia=Bb,na.Iia=Cb,na.goa=
Db,na.foa=kb,na.vna=Eb);ua&&(da.Xla=Fb,da.Yla=Gb);Ia&&(ma.pj=Rb,ma.Se=rb,ma.Wja=sb,ma.Pja=tb,ma.Uja=ub,ma.Zfa=gb,da.Ml=f,da.uj=k,da.yka=t,na.Qfa=x);db&&(da.Hma=C,da.CN=D,na.Xia=E,na.Yia=H);ka&&(ma.Fc=Wa,da.zj=K,da.Tla=N,da.$la=Q,da.xka=S);wa&&(ma.Qha=ea,da.cma=W,da.Qla=V);Ga&&(ma.Sn=ca,da.bma=ia);Ha&&(ma.rja=Nb,ma.pia=Pb,ma.qia=Qb,O.Tga=Mb);U||(ma.oW=oa,ma.Fha=la,ma.Rja=ra,ma.Oja=sa,da.s3=Ca,da.bfa=Fa,da.nna=Ja,da.Rla=Ka,da.tna=Da,ma.DM=Aa,ma.X0=Ba,da.vga=za,da.ID||(da.ID=Hb),na.IV||(na.IV=Ib),na.qga=
oc,na.Zja=pc,na.sha=qc,na.Dna=rc,na.mja=nc)}}
{"use strict";const e=self.B;e.cE=class extends e.aa{constructor(b){super();this.oa=b;this.ra="";this.Zb=-1;this.qv="";this.fA=!1;this.Ci=null;this.Gf=0;this.Fe=[];this.hp=new Map;this.Vk=null;this.Qt=-1;this.NG=this.zg=null;this.pv=!1}j(){this.ra="";this.Zb=-1;this.qv="";this.NG=this.zg=this.Vk=this.Ci=null;this.Qt=-1;e.D(this.Fe);for(const b of this.hp.values())b.j();this.hp.clear()}qg(){var b=this.oa,a=b.G().Ic;const d=b.Me();this.Ci=d.Ab();this.Gf=d.Gf+1;if(b=b.HC(this.Ci))this.Vk=b,this.zg=b.dW(),
this.NG=b.cH.map(c=>c.rd()),b.eg()&&(this.Qt=b.N1());for(const c of a)if(a=c.U(),!a.Sb||this.Ci.VZ(c))this.Fe.push(c),this.hp.set(c,e.m(e.RN,a))}N_(b){this.ra="timer";this.qg();this.Zb=this.oa.G().Rl()+b}L_(b){this.ra="signal";this.qg();this.qv=b.toLowerCase()}z_(b){this.ra="promise";this.qg();b.then(()=>this.nE()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.nE()})}k0(){return"timer"===this.ra}h0(){return"signal"===this.ra}d0(){return"promise"===
this.ra}nE(){this.fA=!0}FQ(){return this.k0()?this.Zb<=this.oa.G().Rl():this.fA}jQ(b){b.nF(this.Ci,this.Gf);for(const [a,d]of this.hp.entries())d.nF(a.U());if(b=this.Vk)b.$s(this.zg),b.cH.map((a,d)=>a.ue(this.NG[d])),b.eg()&&b.F2(this.Qt)}g$(b){this.jQ(b);this.Ci.f$(b);this.Vk&&this.Vk.eg()&&this.Vk.Ns(this.Qt);this.oa.Cp(this.Fe);this.pv=!0}async Y5(b){this.jQ(b);for(const a of this.Ci.X5(b))await this.oa.G().Dp(a);this.Vk&&this.Vk.eg()&&this.Vk.Ns(this.Qt);this.oa.Cp(this.Fe);this.pv=!0}Zn(b){for(const a of this.hp.values())a.Zn(b)}ba(){const b=
{},a={t:this.Zb,st:this.qv,s:this.fA,ev:this.Ci.eb,sm:this.Fe.map(d=>d.eb),sols:b};this.Ci.C7(this.Gf)&&(a.act=this.Ci.hL(this.Gf).eb);for(const [d,c]of this.hp)b[d.eb.toString()]=c.ba();return a}static D5(b,a){const d=b.G();var c=b.IY(a.ev);if(!c)return null;let g=0;if(a.hasOwnProperty("act")){var m=b.sY(a.act);if(!m)return null;g=m.Fa()}m=e.m(e.cE,b);m.Zb=a.t;m.ra=-1===m.Zb?"signal":"timer";m.qv=a.st;m.fA=a.s;m.Ci=c;m.Gf=g;for(var h of a.sm)(c=d.dx(h))&&m.Fe.push(c);for(const [l,n]of Object.entries(a.sols))if(a=
d.dx(parseInt(l,10)))h=e.m(e.RN,null),h.ja(b,n),m.hp.set(a,h);return m}}}{"use strict";const e=self.B;e.RN=class extends e.aa{constructor(b){super();this.M=null;this.eA=!0;this.F=[];b&&(this.M=b.H(),this.eA=b.Sb,e.Dc(this.F,b.F))}j(){this.M=null;e.D(this.F)}nF(b){b.Xe(this.eA);e.Dc(b.F,this.F)}Zn(b){e.Vf(this.F,b)}ba(){return{sa:this.eA,insts:this.F.map(b=>b.lc)}}ja(b,a){b=b.G();this.eA=!!a.sa;e.D(this.F);for(const d of a.insts)(a=b.Ug(d))&&this.F.push(a)}}}
{"use strict";const e=self.B;function b(a,d){let c=a.get(d);c||(c=new Map,a.set(d,c));return c}e.fm=class extends e.aa{constructor(a){super();this.g=a.uf;this.Em=!!a.sU;this.Bg=!!a.Dda;this.Wba=!!a.Cda;this.fca=!!a.Oda;this.Gba=!!a.sda;this.tT=!!a.oea;this.zca=!!a.nea;this.gT=null;this.ZQ=new Map;this.kba=new Map;this.lba=new Map;this.mba=new Map}j(){this.g=null}G(){return this.g}Ls(){return this.Wba}Vp(){return this.fca}kD(){return this.Gba}Cj(a,d){if(!d)throw Error("missing 'this' binding");let c=
this.ZQ.get(a);if(c)return c;c=a.bind(d);this.ZQ.set(a,c);return c}aP(a,d,c){if(!d)throw Error("missing 'this' binding");const g=b(this.kba,a);let m=g.get(c);if(m)return m;m=a.bind(d,c);g.set(c,m);return m}bP(a,d,c,g){if(!d)throw Error("missing 'this' binding");var m=b(this.lba,a);m=b(m,c);let h=m.get(g);if(h)return h;h=a.bind(d,c,g);m.set(g,h);return h}cP(a,d,c,g,m){if(!d)throw Error("missing 'this' binding");var h=b(this.mba,a);h=b(h,c);h=b(h,g);let l=h.get(m);if(l)return l;l=a.bind(d,c,g,m);h.set(m,
l);return l}paa(a){if(!this.Em)throw Error("must be single-global plugin");this.gT=a}bi(){if(!this.Em)throw Error("must be single-global plugin");return this.gT.bi()}}}
{"use strict";const e=self.B;e.Cla=class extends e.fm{constructor(b,a){super(b);this.ym=a;this.ica=0;this.dH=new Map;this.rK("elem-focused",d=>d.W8());this.rK("elem-blurred",d=>{d&&d.V8()})}j(){super.j()}a5(b){const a=this.ica++;this.dH.set(a,b);return a}W9(b){this.dH.delete(b)}rK(b,a){this.g.Qh(this.ym,b,d=>{const c=this.dH.get(d.elementId);a(c,d)})}}}{"use strict";const e=self.B;e.bq=class extends e.aa{constructor(b){super();this.M=b;this.g=b.G();this.Ah=b.wb()}j(){this.Ah=this.g=this.M=null}H(){return this.M}G(){return this.g}wb(){return this.Ah}Zw(){return this.M.Zw()}Ms(){}Zp(){}PD(){}RD(){}uk(){return null}}}
{"use strict";const e=self.B;e.ao=class extends e.aa{constructor(b,a){super();this.na=b;this.ym=a;this.g=b.G();this.M=this.na.H();this.od=this.M.od;this.yr=this.wl=null;this.Iu=this.gl=!1;this.Yd=null;this.Lv=!1}j(){this.Lv=!0;this.My();this.BF();this.yr=this.wl=null;this.Yd&&(this.Yd.j(),this.Yd=null);this.od=this.M=this.g=this.na=null}fO(){return this.Lv}xa(){return this.na}G(){return this.g}H(){return this.M}wb(){return this.od.wb()}nx(){return this.na.Vg()}ua(b){return this.g.ua(b,this.na,null)}Hc(b){return this.g.Hc(b,
this.na,null)}fC(b,a){this.g.Qh(this.ym,b,a)}gC(b){for(const [a,d]of b)this.fC(a,d)}Qa(b,a){this.g.Bk(this.ym,b,a)}fg(b,a){return this.g.Vn(this.ym,b,a)}Dj(b,a){this.g.ae?this.Qa(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.ym,handler:b,data:a,responseId:null})}We(){}Kt(){this.gl||(this.wl||(this.wl=()=>this.We()),this.g.Jb().addEventListener("tick",this.wl),this.gl=!0)}My(){this.gl&&(this.g.Jb().removeEventListener("tick",this.wl),this.gl=!1)}BF(){this.Iu&&(this.g.Jb().removeEventListener("tick2",
this.yr),this.Iu=!1)}ud(){return null}nd(){}Xc(){}xj(){}MD(b,a){if(0!==a){var d=this.Xc(b);if("number"!==typeof d)throw Error("expected number");this.xj(b,d+a)}}uk(){return null}}}
{"use strict";const e=self.B;e.gN=class extends e.ao{constructor(b,a){super(b,a);this.Pa=b.A();this.NT=this.lJ=null}j(){if(this.lJ){const b=this.g.Jb();b.removeEventListener("webglcontextlost",this.lJ);b.removeEventListener("webglcontextrestored",this.NT);this.NT=this.lJ=null}this.Pa=null;super.j()}Kx(){}A(){return this.Pa}Tl(){throw Error("original size not known");}Sl(){throw Error("original size not known");}rs(){return null}QC(){var b=this.rs();return b&&(b=b.bg())?[b.ta(),b.qa()]:[100,100]}RC(){const b=
this.rs();return b?b.kf:null}wD(){const b=this.rs();return b?b.Eu:!1}XC(){const b=this.na.A();return[b.ga(),b.ia()]}$p(){return!0}}}
{"use strict";const e=self.B,b=e.m(e.Rect);e.Bla=class extends e.gN{constructor(a,d){super(a,d);this.pz=this.wb().a5(this);this.aS=!0;this.gba=this.AG=!1;this.Xq=e.m(e.Rect,0,0,-1,-1);a=this.g.L;this.qS=a.Vi;this.pS=a.Ui;this.Kt()}j(){this.wb().W9(this.pz);this.Wp("destroy");this.pz=-1;super.j()}Wp(a,d){d||(d={});d.elementId=this.pz;this.Qa(a,d)}$P(a){a||(a={});a.elementId=this.pz;this.Dj("focus",a)}Vx(a){a=!!a;this.aS!==a&&(this.aS=a,this.Wp("set-visible",{isVisible:a}))}We(){this.Paa()}waa(){const a=
this.g.L.Ww();return"Android"===e.Fb.Zg&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}Paa(){var a=this.A();const d=a.W();var c=a.ga(),g=a.ia();let [m,h]=d.Un(c,g),[l,n]=d.Un(c+a.ta(),g+a.qa());c=this.g.L;g=c.yc;const p=c.rc;if(a.Fc()&&d.Fc()){if(!this.waa()){if(0>=l||0>=n||m>=g||h>=p){this.Vx(!1);return}1>m&&(m=1);1>h&&(h=1);l>=g&&(l=g-1);n>=p&&(n=p-1)}b.set(m,h,l,n);a=c.Vi;g=c.Ui;b.bd(this.Xq)&&this.qS===a&&this.pS===g?this.Vx(!0):(this.Xq.ma(b),this.qS=a,this.pS=g,this.Vx(!0),a=null,this.gba&&
(a=d.hj()-.2),this.Wp("update-position",{left:Math.round(this.Xq.X)+c.ns(),top:Math.round(this.Xq.S)+c.os(),width:Math.round(this.Xq.width()),height:Math.round(this.Xq.height()),fontSize:a}))}else this.Vx(!1)}eL(){this.$P({focus:!0})}yK(){this.$P({focus:!1})}W8(){this.AG=!0}V8(){this.AG=!1}h3(a,d){this.Wp("set-css-style",{prop:e.VV(a),val:d})}g3(a,d){this.Wp("set-attribute",{name:a,val:d})}m2(a){this.Wp("remove-attribute",{name:a})}}}
{"use strict";const e=self.B,b=self.$Z;e.yla=class extends e.aa{constructor(a){super();this.g=a.uf;this.VH=e.m(e.mC);this.DA=e.m(e.mC);this.tu=null;this.tca=a.bra||null}j(){this.DA.j();this.VH.j();this.g=null}G(){return this.g}b5(a){this.VH.Uc(a)}AL(){return this.VH.KC()}pg(a){this.DA.Uc(a)}po(a){this.DA.zn(a)}ea(){return this.DA.KC()}XY(){if(null===this.tu){const a=this.tca;if(a){if(this.tu=new a(this),!(this.tu instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.tu=new b(this)}return this.tu}}}{"use strict";const e=self.B;e.Ala=class extends e.aa{constructor(b){super();this.g=b.G();this.Jc=b;this.M=b.H();this.si=b.Ol();this.si.b5(this.M)}j(){this.si=this.M=this.Jc=this.g=null}$f(){return this.Jc}H(){return this.M}G(){return this.g}Ol(){return this.si}}}
{"use strict";const e=self.B;e.zla=class extends e.aa{constructor(b,a){super();this.Wy=b;this.ym=a;this.na=b.na;this.g=b.G();this.Jc=b.$f();this.od=this.Jc.od;this.eS=this.Iu=this.gl=!1;this.Yd=null}j(){this.My();this.BF();this.Baa();this.Yd&&(this.Yd.j(),this.Yd=null);this.od=this.Jc=this.g=this.na=this.Wy=null}Ol(){return this.Jc.Ol()}H(){return this.na.H()}A(){return this.na.A()}G(){return this.g}$f(){return this.Jc}nx(){return this.Wy.nx()}ua(b){return this.g.ua(b,this.na,this.Jc)}Hc(b){return this.g.Hc(b,
this.na,this.Jc)}We(){}Kt(){this.gl||(this.g.W4(this),this.gl=!0)}My(){this.gl&&(this.g.T9(this),this.gl=!1)}BF(){this.Iu&&(this.g.U9(this),this.Iu=!1)}Baa(){this.eS&&(this.g.S9(this),this.eS=!1)}fC(b,a){this.g.Qh(this.ym,b,a)}ud(){return null}nd(){}Xc(){}xj(){}MD(b,a){if(0!==a){var d=this.Xc(b);if("number"!==typeof d)throw Error("expected number");this.xj(b,d+a)}}uk(){return null}}}
{"use strict";const e=self.B;e.C={};e.zp={};e.R1=class extends e.aa{constructor(b){super();this.g=b;this.eba=[];this.OS=new Map;this.Cd=null;this.bba=[];this.dG=new Map;this.jS=this.jT=null}FW(b){const a=this.g.Wg(b[0]);if(!a)throw Error("missing plugin");e.nV(b,a);b=e.m(a,{uf:this.g,sU:b[1],Dda:b[2],Cda:b[5],sda:b[8],Oda:b[9],oea:b[13],nea:b[14]});this.eba.push(b);this.OS.set(a,b)}HW(){this.Cd=e.m(e.C.kb,{uf:this.g,sU:!0})}zW(b){b=this.g.Wg(b[1]);if(!b)throw Error("missing behavior");const a=e.m(b,
{uf:this.g});this.bba.push(a);this.dG.set(b,a);!this.jT&&e.zp.lea&&a instanceof e.zp.lea?this.jT=a:!this.jS&&e.zp.Fda&&a instanceof e.zp.Fda&&(this.jS=a)}sZ(b){return this.OS.get(b)||null}OZ(b){return this.dG.has(b)}wY(b){return this.dG.get(b)||null}Ds(){return this.Cd}}}
{"use strict";const e=self.B,b=new Set;e.qD=class extends e.aa{constructor(){super();this.Hv="";this.R=this.V=this.dI=this.cI=this.$A=0;this.WG=this.Eu=!1;this.Jo=null;this.np="";this.kf=e.m(e.Rect);this.QA=e.m(e.sd);b.add(this)}j(){this.Ck();this.Jo=null;b.delete(this)}static Kx(){for(const a of b)a.np="",a.kf.set(0,0,0,0),a.QA.aj(a.kf)}qM(a){this.Hv=a[0];this.$A=a[1];this.cI=a[2];this.dI=a[3];this.V=a[4];this.R=a[5];this.Eu=a[6];this.WG=!0}Hn(){return this.$A}ta(){return this.V}qa(){return this.R}async KD(a,
d){if(!this.Jo)throw Error("no asset");if(this.np)throw Error("already loaded texture");this.np="loading";a=await this.Jo.KD(a,d);if(!a)return this.np="",null;this.np="loaded";this.WG||(this.V=a.ta(),this.R=a.qa(),this.WG=!0);this.kf.set(this.cI,this.dI,this.cI+(this.Eu?this.R:this.V),this.dI+(this.Eu?this.V:this.R));this.kf.El(a.ta(),a.qa());this.QA.aj(this.kf);this.Eu&&this.QA.bea();return a}Ck(){this.np&&(this.Jo&&this.Jo.Ck(),this.np="",this.kf.set(0,0,0,0),this.QA.aj(this.kf))}bg(){return this.Jo?
this.Jo.bg():null}}}{"use strict";const e=self.B;e.CV=class extends e.aa{constructor(b){super();this.Da=b[0];this.vca=b[1];this.rH=!!b[2];this.mr=b[3];this.eb=b[6];this.Fz=b[7].map(a=>e.m(e.BV,a))}j(){for(const b of this.Fz)b.j();e.D(this.Fz)}Aa(){return this.Da}VY(){var b=Math.floor(0);if(0>b||b>=this.Fz.length)throw new RangeError("invalid frame");return this.Fz[b]}ox(){return this.vca}ai(){return this.mr}}}
{"use strict";const e=self.B;e.BV=class extends e.aa{constructor(b){super();this.Kf=e.m(e.qD);this.Kf.qM(b);this.KS=e.m(e.gy,b[8],b[9]);this.Iba=b[10].map(a=>e.m(e.j_,this,a));this.Jba=new Map;for(const a of this.Iba)this.Jba.set(a.Aa().toLowerCase(),a);this.fz=null;b=b[11];6<=b.length&&(this.fz=e.m(e.yn,b))}j(){this.fz&&(this.fz.j(),this.fz=null);this.Kf.j();this.Kf=null}Zw(){return this.Kf}ys(){return this.KS.O}zs(){return this.KS.N}}}
{"use strict";const e=self.B;e.j_=class extends e.aa{constructor(b,a){super();this.Da=a[0];this.RS=e.m(e.gy,a[1],a[2])}j(){}Aa(){return this.Da}ga(){return this.RS.O}ia(){return this.RS.N}}}
{"use strict";const e=self.B,b=self.Xf,a=self.zx;e.LD=class extends e.aa{constructor(d,c,g){super();const m=d.Wg(g[1]);this.g=d;this.Ah=d.bp.sZ(m);this.od=null;this.Qz=m.Instance;this.La=c;this.eb=g[11];this.Da=g[0];this.Ou=this.g.Zh(g[14]);this.Tba=!!g[9];this.cb=!!g[2];this.Vba=!!g[10];this.Gi=g[3].map(h=>({RU:h[0],type:h[1],name:h[2],Eda:d.Zh(h[3])}));this.iba=g[4];this.Cba=g[5];this.Bg=this.Ah.Bg;this.Ka=null;this.ez=e.m(e.e4,d.Hg,d.Gg);this.WF=!0;this.XF=!1;this.JG=this.Eo=null;this.Ei=-1;this.IG=
this.xz=this.yz=this.HG=this.ph=null;this.nH=!1;this.vg=null;this.XQ=g[8].map(h=>e.wK.Ma(this,h));this.Xy=[];this.eG=new Map;this.cG=new Map;this.DT=new Set;this.Sm=e.m(e.b4,this);this.UF=this.TF=this.qm=this.Kf=this.vg=this.Hq=null;this.xr=0;this.yb=new Map;this.Hh=new Map;this.F=[];this.$G=!0;this.Ah.kD()&&(this.Ka=e.m(e.ik,this,g[12]));g[6]&&(this.Kf=e.m(e.qD),this.Kf.qM(g[6]));if(g[7]){this.qm=g[7].map(h=>e.m(e.CV,h));this.TF=new Map;this.UF=new Map;for(const h of this.qm)this.TF.set(h.Aa().toLowerCase(),
h),this.UF.set(h.eb,h)}this.cb?(this.Eo=[],this.JG=new Set,this.Ei=this.g.o7()):(this.ph=[],this.HG=new Set,this.yz=[],this.xz=[],this.IG=[]);this.od=e.m(m.mm,this,g[15]);this.YR=this.vu=null;this.Rd=e.m(e.Event.Jb);if(c=this.od.uk()){if(this.vu=new c(this),!(this.vu instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.vu=new a(this);this.Ah.Em&&(this.Ah.paa(this),this.M5(g))}static Ma(d,c,g){return e.m(e.LD,d,c,g)}j(){this.Kf&&(this.Kf.j(),this.Kf=
null);if(this.qm){for(const d of this.qm)d.j();e.D(this.qm);this.TF.clear();this.UF.clear()}this.Sm.j();this.Sm=null;this.yb.clear();this.Hh.clear();this.g=this.vg=null}h8(d){for(let c=1,g=d.length;c<g;++c){const m=this.g.Oe(d[c]);this.Eo.push(m);this.JG.add(m);m.ph.push(this);m.HG.add(this)}}O$(d){this.nH=!0;this.vg=d}cc(){return this.nH}L8(){var d=0;if(!this.cb)for(var c of this.ph)for(var g of c.XQ){const l=g.Aa().toLowerCase();this.eG.set(l,g);this.cG.set(l,d);this.Xy.push(g);++d}for(var m of this.XQ)c=
m.Aa().toLowerCase(),this.eG.set(c,m),this.cG.set(c,d),this.Xy.push(m),++d;for(var h of this.Xy)this.DT.add(h.Ol().constructor);if(!this.cb&&this.ph.length){d=this.g.tR;e.IB(this.yz,d,0);e.IB(this.xz,d,0);e.IB(this.IG,d,0);d=[];c=h=m=0;for(const l of this.ph)if(g=l.Ei,this.yz[g]=m,m+=l.Gi.length,this.xz[g]=h,h+=l.iba,this.IG[g]=c,c+=l.Cba,(g=l.Ka)&&this.Ka)for(const n of g.Zf())d.push(n.lW(this.Ka));this.Ka&&this.Ka.Z1(d)}}M5(d){const c=this.g.n7(),g=e.m(e.Instance,{uf:this.g,VJ:this,uid:c});g.jy(d[16],
[]);this.g.y8(c,g);this.F.push(g)}SZ(){return 0<this.xr}Ms(d){if(this.cb)return Promise.resolve();this.xr++;return 1===this.xr?this.od.Ms(d)||Promise.resolve():Promise.resolve()}Zp(){if(!this.cb){this.xr--;if(0>this.xr)throw Error("released textures too many times");0===this.xr&&this.od.Zp()}}PD(){if(this.cb)throw Error("not applicable to family");this.od.PD()}RD(d){return this.cb?Promise.resolve():this.od.RD(d)}G(){return this.g}wb(){return this.Ah}Aa(){return this.Da}Zh(){return this.Ou}Fa(){return this.La}Ef(){return this.Tba}aO(d){return d&&
this.DT.has(d)}cZ(){return this.Gi.map(d=>d.RU)}bZ(d){return this.Gi.findIndex(c=>c.RU===d)}aZ(d){return this.Gi.findIndex(c=>c.name===d)}e7(){return this.Gi.map(d=>d.Eda)}xs(d){d=Math.floor(d);if(0>d||d>=this.Gi.length)throw new RangeError("invalid instance variable index");return this.Gi[d].type}vL(d){d=Math.floor(d);if(0>d||d>=this.Gi.length)throw new RangeError("invalid instance variable index");return this.Gi[d].name}Ow(d){return this.eG.get(d.toLowerCase())||null}ls(d){d=this.cG.get(d.toLowerCase());
return"undefined"===typeof d?-1:d}kD(){return this.Ah.kD()}bO(){return this.Ka&&this.Ka.JZ()}U(){return this.Sm.U()}Zw(){return this.Kf}pN(d){this.Hq=d}oC(d){return this.HG.has(d)}bL(d){return this.JG.has(d)}Dn(d){return this.xz[d]}qL(d){return this.yz[d]}RY(){if(!this.qm)throw Error("no animations");return this.qm[0].VY()}EY(){if(this.qm){const d=this.RY().Zw();return[d.ta(),d.qa()]}return this.Kf?[this.Kf.ta(),this.Kf.qa()]:[100,100]}bi(){if(!this.Ah.Em)throw Error("not a single-global plugin");
return this.F[0]}ea(){return this.F}*oU(){yield*this.F}pg(d){this.F.push(d)}Gt(){this.$G=!0}Oy(){if(this.$G&&!this.cb){var d=this.F,c=0;for(let g=d.length;c<g;++c)d[c].wQ(c);d=this.g.Bm;for(const g of d)g.H()===this&&g.wQ(c++);this.$G=!1}}uL(d){var c=this.F;if(d<c.length)return c[d];d-=c.length;c=this.g.Bm;for(const g of c)if(g.H()===this){if(0===d)return g;--d}return null}vs(d){if(d&&d.cc()&&d.H()!==this)for(const c of d.Bd)if(c.H()===this)return c;d=this.U().ea();return d.length?d[0]:null}qZ(d){const c=
this.U().ea();return 0<c.length?c[d.En()%c.length]:null}*RT(d,c){const g=this.U().ea();var m=g.length;const h=c.U(),l=c.U().ea(),n=l.length;var p=d.En();if(c.cb||!h.Sb)p=l.indexOf(d);d=Math.ceil(m/n);m%=n;0===m||p<m?(p*=d,m=d):(p=m*d+(p-m)*(d-1),m=d-1);for(let q=p,u=p+m;q<u;++q)yield g[q]}$b(){if(this.nH&&!this.cb){this.Oy();var d=this.U(),c=d.F,g=d.Sb,m=this.g.Me();m=m&&m.Ab()&&m.Ab().yd;for(const n of this.vg.ol)if(n!==this){n.Oy();var h=n.U();h.Xe(g);if(!g){var l=h.F;e.D(l);for(const p of c)l.push(n.uL(p.En()));
if(m){l=d.Xb;h=h.Xb;e.D(h);for(const p of l)h.push(n.uL(p.En()))}}}}}Jaa(d,c){for(const g of this.vg.ol){const m=g.U();d?e.Ke(m.Xb,c):e.Ke(m.F,c)}}sQ(){this.WF=!0}sF(d){this.XF=!!d}MQ(){if(this.WF&&this.Bg){for(const d of this.F)d.A().OQ();for(const d of this.g.Bm)d.H()===this&&d.A().OQ();this.WF=!1}}sk(){this.yb||(this.yb=new Map);return this.yb}Gs(){this.Hh||(this.Hh=new Map);return this.Hh}SL(){return this.aO(e.zp.ija)}lD(){return this.aO(e.zp.Jja)}ba(){const d={instances:this.F.map(c=>c.ud())};
this.yb&&this.yb.size&&(d.ex=e.AE(this.yb));return d}ja(d){this.yb&&(this.yb.clear(),this.yb=null);var c=d.ex;c&&(this.yb=e.IC(c));c=this.F;d=d.instances;for(let g=0,m=Math.min(c.length,d.length);g<m;++g)c[g].nd(d[g]);for(let g=d.length,m=c.length;g<m;++g)this.g.An(c[g]);for(let g=c.length,m=d.length;g<m;++g){c=d[g];let h=null;if(this.Bg&&(h=this.g.Kb().ax(c.w.l),!h))continue;this.g.Uh(this.Hq||this,h,!1,0,0,!0).nd(c)}this.Gt()}Tg(d){var c=this.g;(c=c.pb&&!c.da().Cx())&&b.vE();this.Rd.dispatchEvent(d);
c&&b.kC()}}}{"use strict";const e=self.B;e.tW=class extends e.aa{constructor(b,a){super();this.g=b;this.ol=a;for(const d of this.ol)d.O$(this)}j(){this.g=null}G(){return this.g}NZ(){return this.ol.some(b=>b.Bg)}}}
{"use strict";const e=self.B,b=self.Xf,a=self.yx,d=[];let c=0;const g=new WeakMap,m=new WeakMap;e.Instance=class extends e.aa{constructor(h){super();this.g=h.uf;this.Ld=h.VJ;this.Zd=this.wa=this.Pa=null;this.QR=0;this.lc=h.uid;this.VS=c++;this.Ca=0;this.fd=this.af=d;var l=this.Ld.Xy;0<l.length&&(this.fd=l.map((n,p)=>e.m(e.lw,{uf:this.g,rJ:n,instance:this,index:p})));this.Bd=this.Ld.cc()?[]:null;this.pd=-1;this.Qb=null;l=this.wb();l.Vp()&&(this.Ca|=4);if(l.Bg)if(this.Pa=e.m(e.Q4,this,h.wU),h.fV)this.Pa.Wl(h.fV);
else{this.Pa.y_();const [n,p]=this.Ld.EY();this.Pa.Id(n,p);this.H().bO()&&this.Pa.Lf.v0()}h.nU?this.k8(h.nU):this.f8()}j(){this.Zd&&(this.Zd.Ft(),this.Zd=null);if(0<this.fd.length){for(var h of this.fd)h.j();e.D(this.fd)}this.wa.j();this.wa=null;if(h=g.get(this))h.clear(),g.delete(this);if(h=m.get(this))h.clear(),m.delete(this);this.Bd&&e.D(this.Bd);this.Qb&&(this.Qb.j(),this.Qb=null);this.Ld=this.g=null;0<this.af.length&&e.D(this.af);this.Pa&&(this.Pa.j(),this.Pa=null)}k8(h){0<h.length&&(this.af=
[],e.Dc(this.af,h))}f8(){const h=this.Ld.Gi.length;if(0!==h){this.af=[];var l=[0,0,""];for(let n=0;n<h;++n)this.af.push(l[this.Ld.xs(n)])}}jy(h,l){if(this.wa)throw Error("already got sdk instance");for(let n=0,p=this.fd.length;n<p;++n)this.fd[n].jy(l?l[n]:null);this.wa=e.m(this.Ld.Qz,this,h);if(!(this.wa instanceof e.ao))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,p=this.fd.length;n<p;++n);this.Ld.YR&&this.yP()}A(){return this.Pa}G(){return this.g}tY(){const h=this.pd;return-1===
h?this.G().pd:h}oE(h){h=+h;if(0>h||!isFinite(h))h=0;this.pd=h}E2(){this.pd=-1}Jb(){this.Qb||(this.Qb=e.m(e.Event.Jb));return this.Qb}dj(h){this.wa.dj(h)}caa(){this.Ca|=2}wk(){return 0!==(this.Ca&2)}dF(){this.Ca|=1}Js(){return 0!==(this.Ca&1)}Vp(){return 0!==(this.Ca&4)}wM(){return 0!==(this.Ca&32)}rs(){return this.wa.rs()}QC(){return this.wa.QC()}RC(){return this.wa.RC()}wD(){return this.wa.wD()}XC(h){return this.wa.XC(h)}H(){return this.Ld}$p(){return this.wa.$p()}Ap(h){return h.cb?h.bL(this.H()):
this.H()===h}cO(){if(!this.wb().tT)throw Error("object does not support scene graph");}pj(){return null!==this.Ba()}Ba(){var h=this.A();return h?(h=h.Ba())?h.xa():null:null}rx(){var h=this.A();return h?(h=h.rx())?h.xa():null:null}*aw(){const h=this.A();if(h)for(const l of h.aw())yield l.xa()}Se(){const h=this.A();return h?h.Se():!1}Le(){const h=this.A();return h?h.Le().map(l=>l.xa()):[]}*children(){const h=this.A();if(h)for(const l of h.children())yield l.xa()}*dk(){const h=this.A();if(h)for(const l of h.dk())yield l.xa()}Qw(){const h=
this.A();return h?h.Qw():0}NC(h){const l=this.A();return l?(h=l.NC(h))?h.xa():null:null}Ml(h,l){this.cO();h.cO();this.A().Ml(h.A(),l||{})}uj(h){const l=this.A();l&&l.uj(h.A())}Tw(){const h=this.A();return h?h.Tw():!1}X3(){var h=this.A();if(h&&(h=h.EL()))for(const l of h)if(h=this.g.Ug(l[2])){const n=l[3];this.Ml(h,{Xr:!!(n>>0&1),Yr:!!(n>>1&1),wp:!!(n>>2&1),vp:!!(n>>3&1),Wr:!!(n>>4&1),Pv:!!(n>>5&1),Zr:!!(n>>6&1)})}}cc(){return null!==this.Bd}nq(h){this.Bd.push(h)}UZ(h){return!!this.KL(h)}KL(h){const l=
this.Bd;if(null===l||0===l.length)return!1;for(const n of l)if(n.H()===h)return n;return null}ji(){for(const h of this.Bd)h.H().U().Ik(h)}H9(){for(const h of this.Bd)h.H().U().vq(h)}oaa(h){for(const l of this.Bd)l.H().U().F[h]=l}G9(){for(const h of this.Bd)h.H().U().Qk(h)}naa(h){for(const l of this.Bd)l.H().U().Xb[h]=l}wb(){return this.Ld.wb()}wQ(h){this.QR=h}En(){this.Ld.Oy();return this.QR}iL(h){const l=this.fd;for(let n=0,p=l.length;n<p;++n)if(l[n].$f().eb===h)return n;return-1}pe(h){h|=0;const l=
this.af;if(0>h||h>=l.length)throw new RangeError("invalid instance variable");return l[h]}l7(h){const l=this.af[h];return 0===this.Ld.xs(h)?!!l:l}im(h,l){h|=0;const n=this.af;if(0>h||h>=n.length)throw new RangeError("invalid instance variable");switch(this.Ld.xs(h)){case 0:n[h]=l?1:0;break;case 1:n[h]="number"===typeof l?l:parseFloat(l);break;case 2:n[h]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}t3(h,l){if(0!==l){h|=0;var n=this.af;if(0>h||h>=
n.length)throw new RangeError("invalid instance variable");var p=n[h];if("number"===typeof p)n[h]="number"===typeof l?n[h]+l:n[h]+parseFloat(l);else{if("boolean"===typeof p)throw Error("can not set offset of boolean variable");if("string"===typeof p)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}sk(){let h=g.get(this);if(h)return h;h=new Map;g.set(this,h);return h}Gs(){let h=m.get(this);if(h)return h;h=new Map;m.set(this,h);return h}sP(h){const l=
this.H();if(l.Rd.iD(h))return!0;for(const n of l.ph)if(n.Rd.iD(h))return!0;return this.g.Rd.iD(h)?!0:!1}DF(){const h=new Set;h.add(this);const l=this.A();if(l&&l.Se())for(const n of this.dk())if(h.add(n),n.cc())for(const p of n.Bd)h.add(p);if(this.cc())for(const n of this.Bd)h.add(n);for(const n of h.values())n.JQ()}JQ(){if(this.sP("instancecreate")){const h=this.H(),l=new e.Event("instancecreate");l.instance=this.Vg();h.Tg(l);for(const n of h.ph)n.Tg(l);this.g.Tg(l)}this.g.ua(this.wb().constructor.J.DM,
this,null)}Haa(){this.g.ua(this.wb().constructor.J.X0,this,null)}V6(h){if(this.Zd){var l=new e.Event("destroy");l.zda=h;this.Tg(l)}if(this.sP("instancedestroy")){l=this.H();var n=new e.Event("instancedestroy");n.instance=this.Vg();n.zda=h;l.Tg(n);for(const p of l.ph)p.Tg(n);this.g.Tg(n)}}ud(h="full"){const l={};"full"===h?l.uid=this.lc:l.c3=!0;if("visual-state"!==h){var n=g.get(this);n&&n.size&&(l.ex=e.AE(n));-1!==this.pd&&(l.mts=this.pd);if(0<this.Ld.Gi.length){n={};var p=this.Ld.cZ();for(let q=
0,u=this.af.length;q<u;++q)n[p[q].toString()]=this.af[q];l.ivs=n}if(this.fd.length){n={};for(const q of this.fd)(p=q.ud())&&(n[q.$f().eb.toString()]=p);l.behs=n}}this.Pa&&(l.w=this.Pa.ba(h));(h=this.wa.ud())&&(l.data=h);return l}Ay(h="full"){this.Pa&&this.Pa.Ay(h)}nd(h,l="full"){if("full"===l)this.lc=h.uid;else if(!h.c3)return;if("visual-state"!==l){var n=g.get(this);n&&(n.clear(),g.delete(this));if(n=h.ex)n=e.IC(n),g.set(this,n);this.pd=h.hasOwnProperty("mts")?h.mts:-1;if(n=h.ivs)for(const [u,r]of Object.entries(n))if(n=
this.Ld.bZ(parseInt(u,10)),!(0>n||n>=this.af.length)){var p=r;null===p&&(p=NaN);this.af[n]=p}}if(this.wb().Bg){n=h.w;var q=n.l;this.Pa.W().eb!==q&&(p=this.Pa.W(),(q=p.ac().ax(q))?(this.Pa.Ht(q),p.po(this,!0),q.pg(this,!0),q.ng(),this.Pa.ub()):"full"===l&&this.g.An(this));this.Pa.ja(n,l)}if("visual-state"!==l&&(l=h.behs))for(const [u,r]of Object.entries(l))l=this.iL(parseInt(u,10)),0>l||l>=this.fd.length||this.fd[l].nd(r);(h=h.data)&&this.wa.nd(h)}Vg(){return this.Zd||this.yP()}yP(){var h=this.Pa?
self.pD:a;const l=this.wa.uk(),n=this.Ld.YR,p=n||l||h;a.qg(this);this.Zd=new p;a.qg(null);if(l&&!(this.Zd instanceof h))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${h.name}'`);if(n&&(h=l||h,!(this.Zd instanceof h)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${h.name}'`);return this.Zd}k7(h){if(0!==this.af.length){var l={},n=this.Ld.e7();for(let p=0,q=n.length;p<q;++p)l[n[p]]={configurable:!1,enumerable:!0,
get:e.Instance.prototype.l7.bind(this,p),set:e.Instance.prototype.im.bind(this,p)};l=Object.create(Object.prototype,l);h.Dpa={value:l,writable:!1}}}f7(h){var l=this.fd;if(0!==l.length){var n={};for(const p of l)n[p.$f().Zh()]={value:p.nx(),writable:!1};l=Object.create(Object.prototype,n);h.Nv={value:l,writable:!1}}}Tg(h){h.instance=this.Vg();var l=this.g;(l=l.pb&&!l.da().Cx())&&b.vE();this.Vg().dispatchEvent(h);l&&b.kC()}}}
{"use strict";const e=self.B;e.N2=class extends e.aa{constructor(b){super();this.ic=b;this.sc=null;this.cz=[];this.gB=b.ta();this.fB=b.qa();this.LI=this.KI=1;this.IA=0}j(){this.sc=null;e.D(this.cz)}GN(b){this.IA=(this.sc=b)?b.Ea():0}Ba(){return this.sc}Se(){return 0<this.cz.length}Le(){return this.cz}G3(b){this.KI=b}H3(b){this.LI=b}lj(){return this.ic.Jn()?this.sc.ta()/this.sc.Db.gB:1}mj(){return this.ic.In()?this.sc.qa()/this.sc.Db.fB:1}ba(){return{sw:this.gB,sh:this.fB,sx:this.KI,sy:this.LI,psa:this.IA,
c:this.cz.map(b=>{let a="";b.Kn()&&(a+="x");b.Ln()&&(a+="y");b.Jn()&&(a+="w");b.In()&&(a+="h");b.tx()&&(a+="a");b.ux()&&(a+="z");b.Tw()&&(a+="d");return{uid:b.xa().lc,f:a}})}}ja(b){this.gB=b.sw;this.fB=b.sh;this.KI=b.sx;this.LI=b.sy;this.IA=b.psa}Bt(b){const a=this.ic,d=a.G();for(const c of b.c){b=d.Ug(c.uid).A();const g=c.f,m={};m.Xr=g.includes("x");m.Yr=g.includes("y");m.wp=g.includes("w");m.vp=g.includes("h");m.Wr=g.includes("a");m.Zr=g.includes("z");m.Pv=g.includes("d");a.Ml(b,m)}}}}
{"use strict";const e=self.B,b=e.m(e.Rect);e.m(e.sd);const a=e.m(e.Event,"bboxchange",!1),d=e.m(e.Za,0,0,0,0),c=e.m(e.yn),g=e.m(e.Za,1,1,1,1),m=e.m(e.Rect,0,0,-1,-1),h=e.m(e.Rect,0,0,-1,-1),l=new Set(["absolute","relative"]),n=[];let p=!0;const q=new WeakMap,u=new WeakMap;e.Q4=class extends e.aa{constructor(r,v){super();this.na=r;this.M=r.H();this.g=r.G();this.Sj=v;this.ck=-1;this.Ca=196635;this.M.wb().Ls()&&(this.Ca|=128);this.gr=this.fr=this.sG=this.zI=this.Sa=this.Kc=this.Ag=this.Qg=this.Sc=this.N=
this.O=NaN;this.jG=e.m(e.Rect);this.kG=e.m(e.sd);this.dz=h;this.gv=m;this.Qi=this.Br=this.CI=null;this.yo=this.ab=g;this.Lf=this.jp=null;this.na.H().bO()&&(this.Lf=e.m(e.P_,this.na,this));this.Li=this.Db=null}dF(){this.Ca|=256}j(){this.jp&&(this.g.ib().SM(this.jp),this.jp=null);this.CI=null;this.Br&&(this.Br.EU.j(),this.Br=null);this.Qi&&(this.Qi.clear(),this.Qi=null);this.Px();this.pj()&&this.Ba().uj(this);if(this.Se()){const r=[...this.Le()];for(const v of r)this.uj(v)}this.Cy();this.Sj=this.g=
this.M=this.na=null}Wl(r){p=!1;this.lm(r[0],r[1]);this.Ve(r[2]);this.Id(r[3],r[4]);this.Kc=0;this.Ls()?this.Hd(r[6]):this.Sa=0;d.Jl(r[7]);this.Ey(d);this.kE(r[8]);this.lE(r[9]);this.ig(r[10]);this.Lf&&this.Lf.g8(r[12]);r[14]&&q.set(this,{Sca:r[14][1],Eea:r[14][2]});if(r[15]){var v=r[15];this.zC(v[0],v[1]);r=this.Vl();v=v[2];for(let w=0,y=v.length;w<y;++w){const A=v[w];for(let G=0,z=A.length;G<z;++G){const F=A[G],I=r.Ip(G,w);I.dh(F[0]);I.eh(F[1]);I.Ve(F[2]);I.pE(F[3]);I.qE(F[4])}}}p=!0;this.xq()}y_(){this.zI=
this.Sa=this.Kc=this.Ag=this.Qg=this.Sc=this.N=this.O=0;this.sG=1;this.gr=this.fr=0;this.xq()}G(){return this.g}H(){return this.M}xa(){return this.na}ot(){return this.tx()?this.Ba().Ea()-this.Db.IA:0}dh(r){r=+r;if(this.Kn()){const v=this.Db;r-=this.ga();const w=-this.ot();0===w?this.O+=r/v.lj():(this.O+=Math.cos(w)*r/v.lj(),this.Ln()&&(this.N+=Math.sin(w)*r/v.mj()))}else this.O=r}S0(r){r=+r;this.Kn()?this.dh(this.ga()+r):this.O+=r}ga(){if(this.Kn()){let r=this.O;const v=this.Db,w=this.Ba(),y=this.ot();
0===y?r*=v.lj():(r=r*v.lj()*Math.cos(y),this.Ln()&&(r-=this.N*v.mj()*Math.sin(y)));return w.ga()+r}return this.O}eh(r){r=+r;if(this.Ln()){const v=this.Db;r-=this.ia();const w=-this.ot();0===w?this.N+=r/v.mj():(this.Kn()&&(this.O-=Math.sin(w)*r/v.lj()),this.N+=Math.cos(w)*r/v.mj())}else this.N=r}T0(r){r=+r;this.Ln()?this.eh(this.ia()+r):this.N+=r}ia(){if(this.Ln()){let r=this.N;const v=this.Db,w=this.Ba(),y=this.ot();0===y?r*=v.mj():(r=r*v.mj()*Math.cos(y),this.Kn()&&(r+=this.O*v.lj()*Math.sin(y)));
return w.ia()+r}return this.N}lm(r,v){r=+r;v=+v;if(this.OL()){const y=this.Kn(),A=this.Ln(),G=this.Db,z=r-this.ga(),F=v-this.ia();var w=-this.ot();if(0===w)this.O=y?this.O+z/G.lj():r,this.N=A?this.N+F/G.mj():v;else{const I=Math.sin(w);w=Math.cos(w);this.O=y?A?this.O+(w*z-I*F)/G.lj():this.O+w*z/G.lj():r;this.N=A?y?this.N+(I*z+w*F)/G.mj():this.N+w*F/G.mj():v}}else this.O=r,this.N=v}Jx(r,v){r=+r;v=+v;this.OL()?this.lm(this.ga()+r,this.ia()+v):(this.O+=r,this.N+=v)}bY(r,v){return this.ga()===r&&this.ia()===
v}Ve(r){r=+r;this.ux()&&(r-=this.Ba().$a());this.Sc!==r&&(this.Sc=r,this.RQ(),r=this.W(),0!==this.Sc&&r.tQ(),r.ng())}RQ(){this.xq();if(this.Se()){const r=this.Le();for(let v=0,w=r.length;v<w;v++){const y=r[v];y.ux()&&y.RQ()}}}U0(r){this.Ve(this.$a()+r)}$a(){return this.ux()?this.Ba().$a()+this.Sc:this.Sc}Re(){return this.W().$a()+this.$a()}Jk(r){r=+r;if(this.Jn()){const v=this.ta();this.Qg=0===v?1E-6:r/v*this.Qg}else this.Qg=r}AM(r){r=+r;this.Jn()?this.Jk(this.ta()+r):this.Qg+=r}ta(){return this.Jn()?
this.Ba().ta()*this.Qg:this.Qg}Gk(r){r=+r;if(this.In()){const v=this.qa();this.Ag=0===v?1E-6:r/v*this.Ag}else this.Ag=r}zM(r){r=+r;this.In()?this.Gk(this.qa()+r):this.Ag+=r}qa(){return this.In()?this.Ba().qa()*this.Ag:this.Ag}Id(r,v){r=+r;v=+v;if(this.Jn()){const w=this.ta();this.Qg=0===w?1E-6:r/w*this.Qg}else this.Qg=r;this.In()?(r=this.qa(),this.Ag=0===r?1E-6:v/r*this.Ag):this.Ag=v}wZ(){if(this.pj()){const r=this.Db;return Math.min(r.lj(),r.mj())}return 1}Ls(){return 0!==(this.Ca&128)}Hd(r){r=+r;
this.Ls()&&(this.tx()&&(r-=this.Ba().Ea()),r=e.je(r),this.Sa!==r&&(this.Sa=r,this.eF()))}O0(r){r=+r;0!==r&&this.Ls()&&(this.Sa=e.je(this.Sa+r),this.eF())}eF(){this.Ca|=262144;if(this.Se()){const r=this.Le();for(let v=0,w=r.length;v<w;v++)r[v].eF()}}Ea(){return this.tx()?e.je(this.Ba().Ea()+this.Sa):this.Sa}PP(){const r=this.Ca;if(0!==(r&262144)){var v=this.Ea();this.zI=Math.sin(v);this.sG=Math.cos(v);this.Ca=r&-262145}}dD(){this.PP();return this.zI}PC(){this.PP();return this.sG}kE(r){this.fr=+r}Q0(r){this.fr+=
+r}ys(){return this.fr}lE(r){this.gr=+r}R0(r){this.gr+=+r}zs(){return this.gr}Ey(r){this.ab.bd(r)||(this.ab===g?(this.ab=e.m(e.Za,r),this.yo=e.m(e.Za,r),this.yo.aK()):r.HB(1,1,1,1)?this.yo=this.ab=g:(this.ab.set(r),this.yo.set(r),this.yo.aK()),this.xq())}Hk(r){r=e.fa(+r,0,1);this.ab.up!==r&&(d.Wi(this.ab),d.up=r,this.Ey(d))}P0(r){this.Hk(this.qe()+r)}qe(){return this.ab.up}NN(r){this.ab.Fl(r)||(d.Wi(r),d.up=this.ab.up,this.Ey(d))}S3(r,v,w){d.Vr(r,v,w);this.NN(d)}aD(){return this.yo}Tw(){return 0!==
(this.Ca&512)}d3(r){this.ye(512,r)}Kn(){return 0!==(this.Ca&1024)}N3(r){this.ye(1024,r)}Ln(){return 0!==(this.Ca&2048)}OL(){return 0!==(this.Ca&3072)}O3(r){this.ye(2048,r)}Jn(){return 0!==(this.Ca&4096)}M3(r){this.ye(4096,r)}In(){return 0!==(this.Ca&8192)}L3(r){this.ye(8192,r)}tx(){return 0!==(this.Ca&16384)}K3(r){this.ye(16384,r)}ux(){return 0!==(this.Ca&32768)}P3(r){this.ye(32768,r)}AO(){this.Ca&=-65025}Ml(r,v){if(r!==this&&!r.pj()&&!this.uP(r)&&!this.tP(r)){var w=r.ga(),y=r.ia(),A=r.ta(),G=r.qa(),
z=r.Ea(),F=r.$a();r.zQ(this);r.N3(v.Xr);r.O3(v.Yr);r.M3(v.wp);r.L3(v.vp);r.K3(v.Wr);r.P3(v.Zr);r.d3(v.Pv);v.Xr&&(r.O=w-this.ga(),v.wp&&(r.O/=this.ta()/this.Db.gB));v.Yr&&(r.N=y-this.ia(),v.vp&&(r.N/=this.qa()/this.Db.fB));v.wp&&(r.Qg=A/this.ta(),r.Db.G3(r.Qg));v.vp&&(r.Ag=G/this.qa(),r.Db.H3(r.Ag));v.Wr&&(r.Sa=z-this.Ea());v.Zr&&(r.Sc=F-this.$a());this.X4(r);this.ub()}}uj(r){if(r.Ba()===this){var v=r.ga(),w=r.ia(),y=r.ta(),A=r.qa(),G=r.Ea(),z=r.$a();r.zQ(null);r.AO();r.lm(v,w);r.Id(y,A);r.Hd(G);r.Ve(z);
this.V9(r);this.ub()}}d$(){for(var r of this.children())this.uj(r);(r=this.Ba())&&r.uj(this);this.AO()}pj(){return null!==this.Ba()}Ba(){const r=this.Db;return null!==r?r.Ba():null}rx(){let r=this;for(;r.pj();)r=r.Ba();return r}*aw(){let r=this.Ba();for(;r;)yield r,r=r.Ba()}PZ(r){return this.Le().includes(r)}Se(){const r=this.Db;return null!==r?r.Se():!1}Le(){const r=this.Db;return null!==r?r.Le():n}children(){return this.Le()}*dk(){for(const r of this.children())yield r,yield*r.dk()}Qw(){return this.Le().length}NC(r){const v=
this.Le();r=Math.floor(+r);return 0>r||r>=v.length?null:v[r]}KE(r){this.Db||(this.Db=e.m(e.N2,this));r&&this.Db.GN(r)}Cy(){this.Db&&(this.Db.j(),this.Db=null)}zQ(r){r?(r.KE(null),this.KE(r)):(this.Db&&this.Db.GN(null),this.Se()||this.Cy())}tP(r){if(!this.pj())return!1;const v=this.Ba();return v===r?!0:v.tP(r)}uP(r){if(this.PZ(r))return!0;for(const v of this.Le())if(v.uP(r))return!0;return!1}X4(r){this.Db.Le().push(r)}V9(r){const v=this.Db.Le(),w=v.indexOf(r);-1!==w&&v.splice(w,1);0!==v.length||this.pj()||
this.Cy();r.Se()||r.Cy()}EL(){const r=q.get(this);return r?r.Sca:null}xZ(){const r=q.get(this);return r?r.Eea:NaN}Kp(){return u.get(this)||NaN}mE(r){u.set(this,r)}xq(){if(p){var r=this.g.ib();this.jp&&r.SM(this.jp);this.jp=r.lV(0!==(this.Ca&524288)?r.dB||"<point>":r.eB||"<default>",this.fj(),this.yo,this.$a())}}Op(){return this.ab===g}ig(r){r|=0;if(0>r||31<r)throw new RangeError("invalid blend mode");this.fj()!==r&&(this.Ca=this.Ca&-2080374785|r<<26,this.xq())}fj(){return(this.Ca&2080374784)>>26}Ht(r){this.Sj=
r;0!==this.$a()&&this.Sj.tQ()}W(){return this.Sj}ac(){return this.W().ac()}Ly(r){this.ck=r|0}oj(){this.Sj.Mt();return this.ck}ye(r,v){this.Ca=v?this.Ca|r:this.Ca&~r}Fc(){return 0!==(this.Ca&1)}zj(r){this.ye(1,r)}Qp(){return 0!==(this.Ca&8)}Z2(r){r=!!r;this.Qp()!==r&&(this.ye(8,r),r?this.ub():this.eQ())}F3(r,v){this.ye(32,r);this.Qi&&this.Qi.clear();if(v.trim()){this.Qi||(this.Qi=new Set);for(const w of v.split(" "))w&&this.Qi.add(w.toLowerCase())}else this.Qi=null}ub(){this.Ca|=65554;this.M.sQ();
this.g.$();this.Sj.lo()&&(this.rC(this.jG,this.kG,!0),this.Ca&=-3,this.Qaa());0!==(this.Ca&4)&&this.na.Jb().dispatchEvent(a);if(null!==this.Db){const r=this.Db.Le();for(let v=0,w=r.length;v<w;++v)r[v].ub()}}rC(r,v,w){const y=this.ga(),A=this.ia(),G=this.ta(),z=this.qa(),F=this.Ea();r.Nh(y-this.fr*G,A-this.gr*z,G,z);w&&this.ci()&&this.P6(r);0===F?v.aj(r):(r.offset(-y,-A),v.OU(r,this.dD(),this.PC()),v.offset(y,A),v.HJ(r));r.normalize()}NQ(){const r=this.Ca;0!==(r&2)&&(this.rC(this.jG,this.kG,!0),this.Ca=
r&-3)}Vc(){this.NQ();return this.jG}lk(){this.NQ();return this.kG}X2(r){this.ye(4,r)}ZL(){return 0!==(this.Ca&4)}iM(r,v,w){return v&&0!==this.Kc?this.Sp(this.W().pq()):0===this.$a()||w?r.NB(this.Vc()):this.W7()}W7(){const r=this.W(),v=this.Re();if(v>=r.ms())return!1;r.QL(v,b);return b.NB(this.Vc())}Sp(r){var v=this.Vc();const w=v.X,y=v.ca,A=v.S;v=v.Z;const G=this.Re();return r.uW(w,A,G,y,v,G+this.Kc)}Fy(r){this.ye(1048576,r)}Hy(r){this.ye(2097152,r)}wx(){return null!==this.CI||this.ci()}Mn(){return this.h7(this.ta(),
this.qa(),this.Ea(),this.dD(),this.PC())}h7(r,v,w,y,A){let G=this.Br;null===G&&(this.Br=G={EU:e.m(e.yn),width:NaN,height:NaN,angle:NaN});const z=G.EU;if(G.width===r&&G.height===v&&G.angle===w)return z;const F=this.CI;if(this.ci()){const I=this.ys(),J=this.zs(),M=this.Vl();let P=this.Li.yU;P||(F?(c.ma(F),c.offset(I,J)):c.gea(),P=M.O_(c),this.Li.yU=P);M.p4(P,z);z.offset(-I,-J);z.pK(r,v,y,A)}else F?(z.ma(F),z.pK(r,v,y,A)):z.iK(this.lk(),-this.ga(),-this.ia());G.width=r;G.height=v;G.angle=w;return z}KO(){this.B3();
const r=this.Br;null!==r&&(r.width=NaN)}zC(r,v){r=Math.floor(r);v=Math.floor(v);if(!this.xa().wb().zca)throw Error("object does not support mesh");this.Px();this.Li={kK:e.m(e.I.vM,r,v),YU:e.m(e.I.vM,r,v),yU:null}}ci(){return null!==this.Li}Vl(){if(!this.ci())throw Error("no mesh");return this.Li.kK}EZ(){if(!this.ci())throw Error("no mesh");return this.Li.YU}x3(){this.ye(65536,!1)}$_(){return 0!==(this.Ca&65536)}B3(){this.ye(131072,!0)}P6(r){const v=this.Li.kK,w=Math.min(v.oZ(),0),y=Math.min(v.pZ(),
0),A=Math.max(v.lZ(),1),G=Math.max(v.mZ(),1),z=r.width(),F=r.height();r.offsetLeft(w*z);r.offsetTop(y*F);r.Tda((A-1)*z);r.Sda((G-1)*F);this.Kc=v.nZ()}Px(){this.Li&&(this.Li.kK.j(),this.Li.YU.j(),this.Li=null,this.KO())}CN(r,v,w){r=Math.floor(r);v=Math.floor(v);var y=w.mode||"absolute";if(!l.has(y))throw Error("invalid mode");y="relative"===y;let A=w.x,G=w.y;const z=w.iw;let F="number"===typeof w.bV?w.bV:y?0:-1;w="number"===typeof w.eV?w.eV:y?0:-1;if(!this.ci())return!1;const I=this.Vl(),J=I.Ip(r,
v);if(null===J)return!1;let M=!1;"number"===typeof z&&J.$a()!==z&&(J.Ve(z),M=!0);y&&(A+=r/(I.Mj-1),G+=v/(I.Zj-1));-1!==F||y?(y&&(F+=r/(I.Mj-1)),F=e.fa(F,0,1)):F=J.Ng;-1!==w||y?(y&&(w+=v/(I.Zj-1)),w=e.fa(w,0,1)):w=J.Pg;if(J.ga()===A&&J.ia()===G&&J.Ng===F&&J.Pg===w)return M;J.dh(A);J.eh(G);J.pE(F);J.qE(w);this.KO();return!0}wk(){return this.na.wk()}cs(r,v){return this.Vc().rf(r,v)&&this.lk().rf(r,v)?this.wk()?void 0:this.wx()?this.Mn().rf(r-this.ga(),v-this.ia()):!0:!1}U7(){return 0!==(this.Ca&16)}OQ(){if(this.U7()&&
this.Qp()&&0===(this.Ca&256)){var r=this.Vc(),v=this.M.ez,w=this.dz;b.set(v.ki(r.X),v.li(r.S),v.ki(r.ca),v.li(r.Z));w.bd(b)||(r=this.na,w===h?(v.Lk(r,null,b),this.dz=e.m(e.Rect,b)):(v.Lk(r,w,b),w.ma(b)),this.Ca&=-17)}}eQ(){const r=this.dz;r!==h&&(this.M.ez.Lk(this.na,r,null),this.dz=h)}Qaa(){const r=this.W();if(r.lo()&&0===(this.Ca&256)){var v=r.lr,w=this.Vc(),y=this.gv;b.set(v.ki(w.X),v.li(w.S),v.ki(w.ca),v.li(w.Z));y.bd(b)||(w=this.na,y===m?(v.Lk(w,null,b),this.gv=e.m(e.Rect,b)):(v.Lk(w,y,b),y.ma(b)),
r.D3())}}fQ(){const r=this.gv;r!==m&&(this.W().lr.Lk(this.na,r,null),this.gv=m)}V4(){const r=this.na,v=this.Sj,w=v.F;w.length&&w.Sd(-1)===r||(v.po(r,!1),v.pg(r,!1),this.g.$())}T4(){const r=this.na,v=this.Sj,w=v.F;w.length&&w[0]===r||(v.po(r,!1),v.D9(r),this.g.$())}U4(r){const v=this.na,w=this.Sj;if(w.ac()!==r.ac())throw Error("layer from different layout");r!==w&&(w.po(v,!0),this.Ht(r),r.pg(v,!0),this.g.$())}S4(r,v){const w=this.na;let y=!1;const A=this.Sj;if(r.lc!==w.lc){var G=r.A();if(!G)throw Error("expected world instance");
G=G.W();A.Fa()!==G.Fa()&&(A.po(w,!0),this.Ht(G),G.pg(w,!0),y=!0);r=G.J0(w,r,!!v);(y||r)&&this.g.$()}}baa(r){this.ye(64,r)}Hs(){return 0!==(this.Ca&64)}ba(r){const v={x:this.ga(),y:this.ia(),w:this.ta(),h:this.qa(),l:this.W().eb,zi:this.oj()};0!==this.$a()&&(v.ze=this.$a());0!==this.Ea()&&(v.a=this.Ea());this.Op()||(v.c=this.ab.toJSON());.5!==this.ys()&&(v.oX=this.ys());.5!==this.zs()&&(v.oY=this.zs());0!==this.fj()&&(v.bm=this.fj());this.Fc()||(v.v=this.Fc());this.Qp()||(v.ce=this.Qp());this.ZL()&&
(v.be=this.ZL());this.Lf&&(v.fx=this.Lf.ba());const w=0!==(this.Ca&32);w&&(v.sfi=w);this.Qi&&(v.sft=[...this.Qi].join(" "));this.Db&&"visual-state"!==r&&(v.sgi=this.Db.ba());this.ci()&&(v.mesh=this.Vl().ud());return v}Ay(r){"visual-state"!==r&&this.d$()}ja(r,v){p=!1;this.dh(r.x);this.eh(r.y);this.Jk(r.w);this.Gk(r.h);this.Ly(r.zi);this.Ve(r.hasOwnProperty("ze")?r.ze:0);this.Hd(r.hasOwnProperty("a")?r.a:0);r.hasOwnProperty("c")?d.Jl(r.c):r.hasOwnProperty("o")?(d.Wi(this.ab),d.up=r.o):d.sn(1,1,1,1);
this.Ey(d);this.kE(r.hasOwnProperty("oX")?r.oX:.5);this.lE(r.hasOwnProperty("oY")?r.oY:.5);this.ig(r.hasOwnProperty("bm")?r.bm:0);this.zj(r.hasOwnProperty("v")?r.v:!0);this.Z2(r.hasOwnProperty("ce")?r.ce:!0);this.X2(r.hasOwnProperty("be")?r.be:!1);this.F3(r.hasOwnProperty("sfi")?r.sfi:!1,r.hasOwnProperty("sft")?r.sft:"");this.Lf&&r.hasOwnProperty("fx")&&this.Lf.ja(r.fx);if(r.hasOwnProperty("sgi")&&"visual-state"!==v){this.KE(null);const w=this.Db,y=r.sgi;w.ja(y);const A=this.G().Jb(),G=()=>{A.removeEventListener("afterload",
G);0===(this.Ca&256)&&w.Bt(y)};A.addEventListener("afterload",G)}r.hasOwnProperty("mesh")?(r=r.mesh,this.zC(r.cols,r.rows),this.Vl().nd(r)):this.Px();this.ub();p=!0;this.xq()}}}
{"use strict";const e=self.B;e.wK=class extends e.aa{constructor(b,a){super();const d=b.G(),c=d.bp,g=d.Wg(a[1]);c.OZ(g)||c.zW(a);this.g=d;this.M=b;this.si=c.wY(g);this.od=null;this.Qz=g.Instance;this.eb=a[2];this.Da=a[0];this.Ou=this.g.Zh(a[3]);this.od=e.m(g.mm,this)}static Ma(b,a){return e.m(e.wK,b,a)}j(){this.si=this.g=null;this.od.j();this.Qz=this.od=null}G(){return this.g}H(){return this.M}Ol(){return this.si}Aa(){return this.Da}Zh(){return this.Ou}}}
{"use strict";const e=self.B,b=self.a_;e.lw=class extends e.aa{constructor(a){super();this.g=a.uf;this.Jc=a.rJ;this.si=this.Jc.Ol();this.na=a.instance;this.La=a.index;this.Zd=this.wa=null;this.si.pg(this.na)}j(){this.Zd&&(this.Zd.Ft(),this.Zd=null);this.si.po(this.na);this.wa.j();this.na=this.si=this.Jc=this.g=this.Zd=this.wa=null}jy(a){if(this.wa)throw Error("already got sdk instance");this.wa=e.m(this.Jc.Qz,this,a);this.L7()}G(){return this.g}$f(){return this.Jc}Ol(){return this.si}xe(){return this.La}ud(){return this.wa.ud()}nd(a){return this.wa.nd(a)}static tE(a,
d){var c=a.na,g=d.na;const m=c.H().Fa(),h=g.H().Fa();if(m!==h)return m-h;c=c.VS;g=g.VS;return c!==g?c-g:a.Wy.xe()-d.Wy.xe()}L7(){const a=this.wa.uk(),d=a||b;b.qg(this);this.Zd=new d;b.qg(null);if(a&&!(this.Zd instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}nx(){return this.Zd}}}
{"use strict";const e=self.B;e.ik=class extends e.aa{constructor(b,a){super();this.ic=b;this.rg=[];this.Hf=[];this.oz=new Map;this.oh=[];this.hr=!0;for(const d of a)b=e.m(e.ZK,this,d,this.rg.length),this.rg.push(b),this.oz.set(b.Aa().toLowerCase(),b),3<=d.length&&this.oh.push(this.aF(d[2]));this.G().Z4(this)}j(){e.D(this.rg);e.D(this.Hf);this.oz.clear();e.D(this.oh);this.ic=null}Z1(b){if(b.length){this.rg=b.concat(this.rg);for(const a of b)this.oz.set(a.Aa().toLowerCase(),a);for(let a=0,d=this.rg.length;a<
d;++a)this.rg[a].vF(a)}}aF(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const g=e.m(e.Za);g.Jl(c);b[a]=g}}return b}G(){return this.ic.G()}gh(){e.D(this.Hf);let b=!0;for(const a of this.rg)a.Cb&&(this.Hf.push(a),a.Cf().hr||(b=!1));this.hr=b}Zf(){return this.rg}JZ(){return 0<this.rg.length}nk(b){return this.oz.get(b.toLowerCase())||null}nL(b){b=Math.floor(+b);if(0>b||b>=this.rg.length)throw new RangeError("invalid effect type index");return this.rg[b]}Ks(b){return this.nL(b).Cb}rN(b,
a){this.nL(b).Sx(a)}Hs(){return 0<this.Hf.length}mk(b){return this.oh[b]}static L2(b){return b&&b instanceof e.Za?{t:"color",v:b.toJSON()}:b}static x0(b){if("object"===typeof b){if("color"===b.t){const a=e.m(e.Za);a.Jl(b.v);return a}throw Error("invalid effect parameter type");}return b}static hN(b){return b.map(e.ik.L2)}static rM(b){return b.map(e.ik.x0)}ud(){return this.rg.map(b=>({name:b.Aa(),active:b.Cb,params:e.ik.hN(this.oh[b.Fa()])}))}nd(b){for(const a of b)if(b=this.nk(a.name))b.Sx(a.active),
this.oh[b.Fa()]=e.ik.rM(a.params);this.gh()}}}
{"use strict";const e=self.B;e.ZK=class extends e.aa{constructor(b,a,d){super();this.Ka=b;this.De=a[0];this.Da=a[1];this.La=d;this.Qc=null;this.Cb=!0}j(){this.Qc=this.Ka=null}lW(b){b=e.m(e.ZK,b,[this.De,this.Da],-1);b.Qc=this.Qc;b.Cb=this.Cb;return b}wP(b){b=b.JL(this.De);if(!b)throw Error("failed to find shader program '"+this.De+"'");this.Qc=b}Aa(){return this.Da}vF(b){this.La=b}Fa(){return this.La}G(){return this.Ka.G()}Sx(b){this.Cb=!!b}Cf(){return this.Qc}FY(){const b=[];for(let a=0,d=this.Qc.rp.length;a<
d;++a){const c=this.Qc.gx(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(e.m(e.Za,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const e=self.B;e.P_=class extends e.aa{constructor(b,a){super();this.na=b;this.OT=a;this.Ka=b.H().Ka;this.Kv=this.ZH=!0;this.MT=this.LT=this.JT=!1;this.nh=e.m(e.I.le,b.G().L.zG,{GB:(d,c)=>{c=c.wm;const g=c.A();d.gm(g.aD());d.Ys(g.Re());c.dj(d);d.Ys(0)},mU:d=>{const c=d.RC(),[g,m]=d.QC();return{VU:c,WU:g,UU:m}},LB:d=>this.mk(d)});this.ro=[];this.Hf=[];this.hr=!0;this.oh=[];for(const d of this.Ka.Zf())this.ro.push(!0);this.gh()}j(){this.nh.j();this.nh=null;e.D(this.ro);e.D(this.Hf);e.D(this.oh);
this.Ka=this.na=null}g8(b){for(const a of b)this.oh.push(this.aF(a))}aF(b){b=b.slice(0);for(let a=0,d=b.length;a<d;++a){const c=b[a];if(Array.isArray(c)){const g=e.m(e.Za);g.Jl(c);b[a]=g}}return b}v0(){for(const b of this.Ka.Zf())this.oh.push(b.FY())}Wh(){this.zt();return this.nh}G(){return this.na.G()}gh(){e.D(this.Hf);const b=this.OT,a=this.Ka.Zf(),d=this.Hf,c=this.ro;let g=!0;for(let m=0,h=a.length;m<h;++m)if(c[m]){const l=a[m];d.push(l);l.Cf().hr||(g=!1)}this.hr=g;b.baa(!!d.length);this.ZH=!0}zt(){const b=
this.na;var a=this.OT;const d=a.Op(),c=0<a.Kc;a=0!==a.Ea()||0>a.ta()||0>a.qa();const g=b.wD();if(this.ZH||d!==this.Kv||c!==this.JT||a!==this.LT||g!==this.MT)this.nh.qC(this.Hf.map(m=>m.Cf()),{Lr:this.Hf.map(m=>m.Fa()),JB:!d||b.Vp(),NJ:c,tU:g,rU:a}),this.ZH=!1,this.Kv=d,this.JT=c,this.LT=a,this.MT=g}mk(b){return this.oh[b]}Ks(b){return this.ro[b]}rN(b,a){this.ro[b]=!!a}Zf(){return this.Ka.Zf()}ba(){return this.Ka.Zf().map(b=>({name:b.Aa(),active:this.ro[b.Fa()],params:e.ik.hN(this.oh[b.Fa()])}))}ja(b){for(const a of b)if(b=
this.Ka.nk(a.name))this.ro[b.Fa()]=a.active,this.oh[b.Fa()]=e.ik.rM(a.params);this.gh()}}}
{"use strict";const e=self.B,b=[],a=e.m(e.yn),d=e.m(e.yn),c=e.m(e.sd);e.m(e.Rect);e.m(e.Rect);let g=null,m=null,h=null;e.mW=class extends e.aa{constructor(l){super();this.g=l;this.TA=[]}j(){this.g=null}vK(l,n,p){for(const [q,u]of this.TA){let r;if(l===q)r=u;else if(l===u)r=q;else continue;r.Ap(n)&&(p.includes(r)||p.push(r))}}DK(l,n){if(!this.TA.length)return!1;for(const [p,q]of this.TA)if(l===p&&n===q||l===q&&n===p)return!0;return!1}EK(){e.D(this.TA)}yE(l,n){if(!l||!n||l===n)return!1;l=l.A();n=n.A();
if(!l.Qp()||!n.Qp())return!1;const p=l.W(),q=n.W();return p.l0(q)?this.Eaa(l,n):this.Daa(l,n)}Eaa(l,n){if(!l.Vc().NB(n.Vc())||!l.lk().LJ(n.lk())||l.wk()&&n.wk())return!1;if(l.wk())return this.zE(l,n);if(n.wk())return this.zE(n,l);if(!l.wx()&&!n.wx())return!0;const p=l.Mn(),q=n.Mn();return p.Uv(q,n.ga()-l.ga(),n.ia()-l.ia())}Daa(l,n){var p=l.wk(),q=n.wk();if(p&&!q)return this.UN(l,n);if(q&&!p)return this.UN(n,l);if(q||p)return!1;q=l.W();p=n.W();a.ma(l.Mn());d.ma(n.Mn());var u=a.Od;for(let r=0,v=u.length;r<
v;r+=2){const w=r+1,y=u[w],[A,G]=q.Un(u[r]+l.ga(),y+l.ia());u[r]=A;u[w]=G}l=d.Od;for(let r=0,v=l.length;r<v;r+=2){q=r+1;u=l[q];const [w,y]=p.Un(l[r]+n.ga(),u+n.ia());l[r]=w;l[q]=y}a.hK();d.hK();return a.Uv(d,0,0)}UN(l,n){var p=l.W(),q=n.W();g||(g=e.m(e.yn));m||(m=e.m(e.Rect));h||(h=e.m(e.sd));var u=n.ga(),r=n.ia();const [v,w]=q.Un(u,r),[y,A]=p.Rg(v,w);p=y-u;r=A-r;m.ma(n.Vc());m.offset(p,r);if(!l.Vc().NB(m))return!1;h.ma(n.lk());h.offset(p,r);if(!l.lk().LJ(h))return!1;g.ma(n.Mn());q=g.Od;for(let G=
0,z=q.length;G<z;G+=2)u=G+1,q[G]+=p,q[u]+=r;g.hK();return this.zE(l,n,y,A,g,m,h)}zE(l,n,p,q,u,r,v){r=void 0!==r?r:n.Vc();const w=l.ga(),y=l.ia();var A=l.xa().wa;p=void 0!==p?p:n.ga();q=void 0!==q?q:n.ia();l=n.wx();v=void 0!==v?v:n.lk();A.aha(r,b);for(let F=0,I=b.length;F<I;++F){var G=b[F];A=G.dha();if(r.wda(A,w,y)&&(c.aj(A),c.offset(w,y),c.LJ(v)))if(l){var z=void 0!==u?u:n.Mn();if(G=G.tZ()){if(G.Uv(z,p-(w+A.X),q-(y+A.S)))return e.D(b),!0}else if(a.iK(c,0,0),a.Uv(z,p,q))return e.D(b),!0}else if(z=
G.tZ()){if(a.iK(v,0,0),z.Uv(a,-(w+A.X),-(y+A.S)))return e.D(b),!0}else return e.D(b),!0}e.D(b);return!1}ay(l,n,p){const q=l.U();var u=this.g.Ab();if(!u)throw Error("cannot call outside event");u=u.yd;if(q.Sb){q.Xe(!1);e.D(q.F);for(var r of l.ea()){var v=r.A(),w=v.W();const [y,A]=w.Rg(n,p,v.Re());v.cs(y,A)?q.vq(r):u&&q.Qk(r)}}else{v=!1;u?this.g.cM()&&!q.Xb.length&&q.F.length?r=q.F:(r=q.Xb,v=!0):r=q.F;w=0;for(let y=0,A=r.length;y<A;++y){const G=r[y],z=G.A(),F=z.W(),[I,J]=F.Rg(n,p,z.Re());z.cs(I,J)?
v?q.vq(G):r[w++]=G:v?r[w++]=G:u&&q.Qk(G)}r.length=w}l.$b();return q.jD()}OC(l,n,p,q){l=l?1!==l.Md||1!==l.Nd:!1;if(n.cb)for(const u of n.Eo)l||u.XF?e.Cl(q,u.ea()):(u.MQ(),u.ez.Nx(p,q));else l||n.XF?e.Cl(q,n.ea()):(n.MQ(),n.ez.Nx(p,q))}}}
{"use strict";const e=self.B;e.e4=class extends e.aa{constructor(b,a){super();this.nG=b;this.mG=a;this.vi=e.m(e.Qs)}j(){this.vi.j();this.vi=null}Pl(b,a,d){let c=this.vi.Y(b,a);return c?c:d?(c=e.m(e.GZ,this,b,a),this.vi.Set(b,a,c),c):null}ki(b){b=Math.floor(b/this.nG);return isFinite(b)?b:0}li(b){b=Math.floor(b/this.mG);return isFinite(b)?b:0}Lk(b,a,d){if(a)for(let c=a.X,g=a.ca;c<=g;++c)for(let m=a.S,h=a.Z;m<=h;++m){if(d&&d.rf(c,m))continue;const l=this.Pl(c,m,!1);l&&(l.ah(b),l.Rn()&&this.vi.zn(c,
m))}if(d)for(let c=d.X,g=d.ca;c<=g;++c)for(let m=d.S,h=d.Z;m<=h;++m)a&&a.rf(c,m)||this.Pl(c,m,!0).tD(b)}Nx(b,a){let d=this.ki(b.X);const c=this.li(b.S),g=this.ki(b.ca);b=this.li(b.Z);if(isFinite(g)&&isFinite(b))for(;d<=g;++d)for(let m=c;m<=b;++m){const h=this.Pl(d,m,!1);h&&h.CC(a)}}}}
{"use strict";const e=self.B;e.GZ=class extends e.aa{constructor(b,a,d){super();this.O=a;this.N=d;this.F=e.m(e.mC)}j(){this.F.j();this.F=null}Rn(){return this.F.Rn()}tD(b){this.F.Uc(b)}ah(b){this.F.zn(b)}CC(b){e.Cl(b,this.F.KC())}}}{"use strict";const e=self.B;e.rka=class{constructor(){this.rect=new e.Rect;this.Qv=0}Set(b,a,d,c){this.rect.set(b,a,d,c);this.rect.normalize();this.Qv=0;return this}}}
{"use strict";const e=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),d=self.$i.Gl,c=d.create(),g=e.m(e.sd),m=e.m(e.Rect);e.vC=class extends e.aa{constructor(h){super();this.g=h;this.Kj=null;this.gS=!1;this.Ti=this.bb=null;this.SG="high-performance";this.vm=this.um=this.tg=this.ug=this.rc=this.yc=this.Ui=this.Vi=0;this.Mq=!0;this.Lc=this.Zc=this.uT=0;this.oR=this.yR="letterbox-scale";this.Aba=this.zba=0;this.lz=d.create();
this.rh=this.jJ="high";this.Po=!1;this.St=[];this.tB=new Set;this.WA=self.C3_Shaders;this.zG=e.m(e.I.YX,{kU:()=>[this.ij(),this.Vh()],lU:()=>this.GY(),JU:l=>this.j2(l),getTime:()=>this.G().Rl(),IU:()=>this.G().$()});this.Jf=this.zm=0;this.Rq=NaN;this.Iz=null;this.GH=new Map;this.pu=NaN;this.zB=new Map;this.aB="";this.AI=1;this.hT=e.m(e.Rect);this.BI="";this.iT=this.rv=null;this.Uu=0;this.fe=-1;this.Km=0;this.MH=l=>this.Km=l.progress;this.hf=null;this.lf={Zv:null,bw:null,hw:null};this.FI=this.oT=this.GI=
0;this.Ri="fade-in";this.EI=null;this.nT=new Promise(l=>this.EI=l)}$$(h){this.SG=h}saa(h){this.gS=!!h}async Sg(h){this.Kj=h.canvas;this.g.Qh("runtime","window-resize",p=>this.Et(p));this.g.Qh("runtime","fullscreenchange",p=>this.X8(p));this.g.Qh("runtime","fullscreenerror",p=>this.Y8(p));this.Kj.addEventListener("webglcontextlost",p=>this.Dt(p));this.Kj.addEventListener("webglcontextrestored",()=>this.kF());this.Po=!!h.isFullscreen;var l=navigator.gpu&&this.gS;let n=!1;if(l)try{await this.AP(!0)}catch(p){this.Ti=
null}if(!this.ib())try{await this.zP(!0)}catch(p){this.bb=null}this.ib()||(n=!0);if(!this.ib()&&l)try{await this.AP(!1)}catch(p){this.Ti=null}if(!this.ib())try{await this.zP(!1)}catch(p){this.bb=null}l=this.ib();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.p3(n);this.Id(h.windowInnerWidth,h.windowInnerHeight,!0);this.Ti?await this.O7():this.bb&&await this.N7();l.jE(this.Mq);l.Aj()&&(this.Rq=0);for(const p of this.g.PF){for(const q of p.Zf())q.wP(l);p.gh()}}async AP(h){h=
{powerPreference:this.SG,depth:this.g.Al,failIfMajorPerformanceCaveat:h,yoa:this.g.uB,vJ:this.g.fJ};this.Ti=e.m(e.I.Wna);await this.Ti.Ma(this.Kj,h)}async zP(h){h={powerPreference:this.SG,gU:!0,depth:this.g.Al,vJ:this.g.fJ,failIfMajorPerformanceCaveat:h};"Android"===e.Fb.Zg&&"Chromium"===e.Fb.pw&&75>e.Fb.pC&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),h.xU=1);"standard"===this.g.Eq?h.alpha=
!0:(h.alpha=!1,h.RJ=!0);this.bb=e.m(e.I.K4,this.Kj,h);await this.bb.Ax()}async O7(){if(this.WA){const h=[];for(const [l,n]of Object.entries(this.WA))n.src=n.Qra,h.push(this.Ti.AC(n,e.I.Xna.Sw(),l));await Promise.all(h)}}async N7(){if(this.WA){const h=[];for(const [l,n]of Object.entries(this.WA))n.src=n.wpa,h.push(this.bb.AC(n,e.I.jt.Sw(),l));await Promise.all(h);this.bb.B2();this.bb.yj()}this.bb.Aj()&&(this.Iz=e.m(e.I.hO,this.bb))}j(){this.Kj=this.bb=this.g=null}Et(h){const l=this.g,n=h.devicePixelRatio;
l.ae&&(self.devicePixelRatio=n);l.R$(n);this.Po=!!h.isFullscreen;this.Id(h.innerWidth,h.innerHeight);l.$();l.pb&&(l.Is()||self.Xf.Kha())&&l.$n()}X8(h){this.Po=!!h.isFullscreen;this.Id(h.innerWidth,h.innerHeight,!0);this.g.$()}Y8(h){this.Po=!!h.isFullscreen;this.Id(h.innerWidth,h.innerHeight,!0);this.g.$()}Id(h,l,n=!1){h=Math.floor(h);l=Math.floor(l);if(0>=h||0>=l)throw Error("invalid size");if(this.Vi!==h||this.Ui!==l||n){this.Vi=h;this.Ui=l;n=this.qs();"letterbox-scale"===n?this.p5(h,l):"letterbox-integer-scale"===
n?this.o5(h,l):"off"===n?this.m5(h,l):this.n5(h,l);this.Oaa(n);this.Kj.width=this.ug;this.Kj.height=this.tg;this.g.Bk("canvas","update-size",{marginLeft:this.um,marginTop:this.vm,styleWidth:this.yc,styleHeight:this.rc});h=this.ib();h.Id(this.ug,this.tg,!0);for(var p of this.St)h.SW(p);e.D(this.St);h.Bp(this.lz,this.ij()/this.Vh());p=this.g.Ya;p.eo();p.co()}}p5(h,l){const n=this.g.gj(),p=this.g.Hg,q=this.g.Gg,u=p/q;h/l>u?(this.yc=Math.round(l*u),this.rc=l,this.um=Math.floor((h-this.yc)/2),this.vm=
0):(this.yc=h,this.rc=Math.round(h/u),this.um=0,this.vm=Math.floor((l-this.rc)/2));this.ug=Math.round(this.yc*n);this.tg=Math.round(this.rc*n);this.g.gt(p,q)}o5(h,l){const n=this.g.gj();1!==n&&(h+=1,l+=1);const p=this.g.Hg,q=this.g.Gg;var u=p/q;u=h/l>u?l*u*n/p:h/u*n/q;1<u?u=Math.floor(u):1>u&&(u=1/Math.ceil(1/u));this.ug=Math.round(p*u);this.tg=Math.round(q*u);this.yc=this.ug/n;this.rc=this.tg/n;this.um=Math.max(Math.floor((h-this.yc)/2),0);this.vm=Math.max(Math.floor((l-this.rc)/2),0);this.g.gt(p,
q)}n5(h,l){const n=this.g.gj();this.yc=h;this.rc=l;this.ug=Math.round(this.yc*n);this.tg=Math.round(this.rc*n);this.vm=this.um=0;h=this.hj();this.g.gt(this.yc/h,this.rc/h)}m5(h,l){const n=this.g.gj();this.yc=this.g.nf;this.rc=this.g.mf;this.ug=Math.round(this.yc*n);this.tg=Math.round(this.rc*n);this.Po?(this.um=Math.floor((h-this.yc)/2),this.vm=Math.floor((l-this.rc)/2)):this.vm=this.um=0;this.g.gt(this.g.nf,this.g.mf)}Oaa(h){if("high"===this.jJ)this.Zc=this.ug,this.Lc=this.tg,this.rh="high";else{let n;
if("off"===this.qs()){var l=this.g.nf;n=this.g.mf}else l=this.g.Hg,n=this.g.Gg;this.ug<l&&this.tg<n?(this.Zc=this.ug,this.Lc=this.tg,this.rh="high"):(this.Zc=l,this.Lc=n,this.rh="low","scale-inner"===h?(h=l/n,l=this.Vi/this.Ui,l<h?this.Zc=this.Lc*l:l>h&&(this.Lc=this.Zc/l)):"scale-outer"===h&&(h=l/n,l=this.Vi/this.Ui,l>h?this.Zc=this.Lc*l:l<h&&(this.Lc=this.Zc/l)))}}G(){return this.g}n3(h){if(!b.has(h))throw Error("invalid fullscreen mode");this.yR=h;h=this.g.Ya;h.eo();h.co()}Ww(){return this.yR}f3(h){if(!b.has(h))throw Error("invalid fullscreen mode");
this.oR=h;h=this.g.Ya;h.eo();h.co()}qs(){return this.Po?this.oR:this.Ww()}tN(h){if(!a.has(h))throw Error("invalid fullscreen scaling quality");this.jJ=h;this.g.Ya.eo()}static ZO(h){switch(h){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}ij(){return this.Zc}Vh(){return this.Lc}jE(h){this.Mq=!!h}qaa(h){this.uT=h}e0(){return this.ib().Pn()}Dt(h){console.log("[Construct 3] WebGL context lost");
h.preventDefault();this.St=[];this.tB.clear();this.bb.Ak();this.g.Dt()}async kF(){await this.bb.OD();await this.koa();for(const h of this.g.PF)for(const l of h.Zf())l.wP(this.bb);await this.g.kF();console.log("[Construct 3] WebGL context restored")}vk(){return this.bb}Mp(){return this.Ti}ib(){return this.Ti||this.bb}Ul(){return"low"===this.rh?1/this.g.gj():this.hj()}hj(){const h=this.qs();if("off"===h||"crop"===h)return 1;const l=this.g.Hg,n=this.g.Gg,p=l/n,q=this.ug/this.tg;return"scale-inner"!==
h&&q>p||"scale-inner"===h&&q<p?this.rc/n:this.yc/l}us(){return"low"===this.rh?1:this.hj()}ts(){return"low"===this.rh?1:this.g.gj()}e3(h,l,n){l=l||this.Zc;n=n||this.Lc;const p=l/2+this.zba,q=n/2+this.Aba;{let u=this.lz;if(l!==this.Zc||n!==this.Lc)h.Bp(c,l/n),u=c;h.fo(u)}l=h.$r(p,q,100*this.g.gj(),p,q,n||this.Lc);h.hq(l)}a3(h){var l=this.yc/2;const n=this.rc/2;h.fo(this.lz);l=h.$r(l,n,100,l,n);h.hq(l)}ns(){return this.um}os(){return this.vm}ks(h){h.depth=this.g.Al;const l=this.St,n=l.findIndex(q=>q.W_(h));
let p;-1!==n?(p=l[n],l.splice(n,1)):p=this.ib().GW(h);this.tB.add(p);return p}Yn(h){if(!this.tB.has(h))throw Error("render target not in use");this.tB.delete(h);this.St.push(h)}GY(){const h={Hl:this.g.Ad};"low"===this.rh&&(h.width=this.ij(),h.height=this.Vh());return this.ks(h)}j2(h){this.Yn(h)}*AB(){for(const h of this.g.Ya.ew())for(const l of h.Vb){const n=this.GH.get(l);n&&(yield n)}}xL(h){if(!this.ib().Aj())return null;let l=this.GH.get(h);l||(l={name:h.Aa(),lK:e.m(e.I.hO,this.bb),CB:0,vU:0},
this.GH.set(h,l));return l.lK}Laa(){const h=this.ib();if(h.Aj()&&0===this.Jf){this.Jf=h.qh;this.pu=NaN;for(const l of this.AB())l.CB=NaN}}Saa(){this.bb&&this.bb.Aj()&&this.Taa();this.Ti&&this.Ti.Aj()&&this.Uaa()}Taa(){if(isNaN(this.pu)&&(this.pu=this.Iz.tL(this.zm,this.Jf),!isNaN(this.pu))){if(this.g.pb)for(const h of this.AB())if(h.CB=h.lK.tL(this.zm,this.Jf),isNaN(h.CB))return;this.Iz.UK(this.Jf);this.Rq=Math.min(this.pu,1);if(this.g.pb){for(const h of this.AB())h.lK.UK(this.Jf),h.vU=Math.min(h.CB,
1);self.Xf.z4(this.Rq,[...this.AB()])}this.zm=this.Jf;this.Jf=0}}Uaa(){if(0!==this.Jf){for(var h=this.zm;h<this.Jf;++h){var l=this.zB.get(h);if(l&&!l.xx())return}l=this.g.Kb();h=e.C0(l.Vb.length+1);for(var n=this.zm;n<this.Jf;++n){var p=this.zB.get(n);if(p){p=p.mx();for(let q=0,u=Math.min(h.length,p.length/2);q<u;++q){const r=p[2*q],v=p[2*q+1];h[q]=0===Number(r)||0===Number(v)?NaN:h[q]+Number(v-r)/1E9}}}this.Rq=e.fa(h[0],0,1);if(this.g.pb){n=[];l=l.Vb;for(let q=0,u=Math.min(l.length,h.length-1);q<
u;++q)n.push({name:l[q].Aa(),vU:e.fa(h[q+1],0,1)});self.Xf.z4(this.Rq,n)}for(h=this.zm;h<this.Jf;++h)this.zB.delete(h);this.zm=this.Jf;this.Jf=0}}i5(h){this.zB.set(this.Ti.qh,h)}Yw(){return this.Rq}QN(h,l,n,p,q,u){this.aB=h;this.AI=l;this.hT.Nh(n,p,q,u);return this.rv?this.rv:this.rv=new Promise(r=>{this.iT=r})}C8(){if(this.aB){var h=this.Kj,l=this.hT,n=e.fa(Math.floor(l.X),0,h.width),p=e.fa(Math.floor(l.S),0,h.height),q=l.width();q=0===q?h.width-n:e.fa(Math.floor(q),0,h.width-n);l=l.height();l=0===
l?h.height-p:e.fa(Math.floor(l),0,h.height-p);(0!==n||0!==p||q!==h.width||l!==h.height)&&0<q&&0<l&&(h=e.Sg(q,l),h.getContext("2d").drawImage(this.Kj,n,p,q,l,0,0,q,l));e.qw(h,this.aB,this.AI).then(u=>{this.BI=URL.createObjectURL(u);this.rv=null;this.iT(this.BI)});this.aB="";this.AI=1}}x_(h){this.bb&&(2===h?(this.hf=e.m(e.I.VD,this.ib()),this.hf.xN(),this.hf.hE("Arial"),this.hf.Wx(16),this.hf.vN("center"),this.hf.PN("center"),this.hf.Id(300,200)):0===h?(h=this.g.ar)&&h.KD(this.bb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",
l)):4===h&&(this.s8().then(l=>{"done"===this.Ri?this.bb.cj(l):this.lf.Zv=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.GP("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Ri?this.bb.cj(l):this.lf.bw=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.GP("splash-images/splash-website-512.png").then(l=>{"done"===this.Ri?this.bb.cj(l):this.lf.hw=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async s8(){var h=(new URL("splash-images/splash-logo.svg",
this.g.MC())).toString();h=await e.kk(h);h=await this.g.h2(h);return await this.bb.Aw(h,{$v:"high"})}async GP(h){h=(new URL(h,this.g.MC())).toString();h=await e.kk(h);return await this.bb.Aw(h,{$v:"high"})}mD(){this.g.Bk("runtime","hide-cordova-splash")}f4(){this.Uu=Date.now();this.g.Jb().addEventListener("loadingprogress",this.MH);this.fe=requestAnimationFrame(()=>this.RO());3!==this.g.$q&&this.mD()}async aY(){if(this.bb){this.Km=1;var h=this.g.$q;4===h&&await this.nT;this.nT=this.EI=null;-1!==this.fe&&
(cancelAnimationFrame(this.fe),this.fe=-1);this.g.Jb().removeEventListener("loadingprogress",this.MH);this.MH=null;this.hf&&(this.hf.j(),this.hf=null);this.g.k2();this.bb.ht();this.lf.Zv&&(this.bb.cj(this.lf.Zv),this.lf.Zv=null);this.lf.bw&&(this.bb.cj(this.lf.bw),this.lf.bw=null);this.lf.hw&&(this.bb.cj(this.lf.hw),this.lf.hw=null);this.bb.xn();this.bb.hs();this.Ri="done";this.zm=this.bb.qh;3===h&&this.mD()}}RO(){if(-1!==this.fe){var h=this.bb;if(h){h.ht();this.fe=-1;var l=this.g.lb.VG,n=this.g.$q;
3!==n&&(this.a3(h),h.xn(),h.Vs(),h.yj(),h.mg(null));if(0===n)this.G6(l);else if(1===n)this.my(l,120,0);else if(2===n)this.F6(l);else if(3!==n)if(4===n)this.H6(l);else throw Error("invalid loader style");h.hs();this.fe=requestAnimationFrame(()=>this.RO())}}}F6(h){h?this.hf.nN(1,0,0):this.hf.nN(.6,.6,.6);this.hf.ft(Math.round(100*this.Km)+"%");h=this.yc/2;const l=this.rc/2;g.QU(h-150,l-100,h+150,l+100);this.bb.mg(this.hf.bg());this.bb.Xp(g,this.hf.kf)}my(h,l,n){const p=this.bb;p.mN();h?p.Ue(1,0,0,1):
p.Ue(.118,.565,1,1);h=this.yc/2;const q=this.rc/2,u=l/2;m.Nh(h-u,q-4+n,Math.floor(l*this.Km),8);p.Rect(m);m.Nh(h-u,q-4+n,l,8);m.offset(-.5,-.5);m.JJ(.5,.5);p.Ue(0,0,0,1);p.oM(m);m.JJ(1,1);p.Ue(1,1,1,1);p.oM(m)}G6(h){var l=this.g.ar;if(l)if(l=l.bg()){var n=l.ta(),p=l.qa(),q=this.yc/2,u=this.rc/2,r=n/2;p/=2;g.QU(q-r,u-p,q+r,u+p);this.bb.mg(l);this.bb.sd(g);this.my(h,n,p+16)}else this.my(h,120,0);else this.my(h,120,0)}H6(h){const l=this.bb,n=this.lf.Zv,p=this.lf.bw,q=this.lf.hw,u=Date.now();0===this.GI&&
(this.Uu=u);const r=this.g.Up()||this.g.Rba&&!this.g.bM(),v=r?0:200,w=r?0:3E3;let y=1;"fade-in"===this.Ri?y=Math.min((u-this.Uu)/300,1):"fade-out"===this.Ri&&(y=Math.max(1-(u-this.FI)/300,0));l.mN();l.Ue(.231*y,.251*y,.271*y,y);m.set(0,0,this.yc,this.rc);l.Rect(m);const A=Math.ceil(this.yc),G=Math.ceil(this.rc);let z;256<this.rc?(l.Ue(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Nh(0,.8*G-z/2,A,z),l.Rect(m),h?l.Ue(y,0,0,y):l.Ue(.161*y,.953*y,.816*y,y),h=A*this.Km,m.Nh(.5*A-h/2,.8*G-z/2,h,z),l.Rect(m),
l.Ue(y,y,y,y),l.yj(),p&&(h=1.5*e.fa(.22*G,105,.6*A),z=h/8,m.Nh(.5*A-h/2,.2*G-z/2,h,z),l.mg(p),l.Rect(m)),n&&(z=h=Math.min(.395*G,.95*A),m.Nh(.5*A-h/2,.485*G-z/2,h,z),l.mg(n),l.Rect(m)),q&&(h=1.5*e.fa(.22*G,105,.6*A),z=h/8,m.Nh(.5*A-h/2,.868*G-z/2,h,z),l.mg(q),l.Rect(m))):(l.Ue(.302*y,.334*y,.365*y,y),z=Math.max(.005*G,2),m.Nh(0,.85*G-z/2,A,z),l.Rect(m),h?l.Ue(y,0,0,y):l.Ue(.161*y,.953*y,.816*y,y),h=A*this.Km,m.Nh(.5*A-h/2,.85*G-z/2,h,z),l.Rect(m),l.Ue(y,y,y,y),l.yj(),n&&(z=h=.55*G,m.Nh(.5*A-h/2,.45*
G-z/2,h,z),l.mg(n),l.Rect(m)));this.GI++;"fade-in"===this.Ri&&300<=u-this.Uu&&2<=this.GI&&(this.Ri="wait",this.oT=u);"wait"===this.Ri&&u-this.oT>=w&&1<=this.Km&&(this.Ri="fade-out",this.FI=u);("fade-out"===this.Ri&&u-this.FI>=300+v||r&&1<=this.Km&&500>u-this.Uu)&&this.EI()}}}
{"use strict";const e=self.B,b=self.Xf,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let d=!0;e.fN=class extends e.aa{constructor(c){c=Object.assign({},a,c);super();this.Yu=c.messagePort;this.hba=c.baseUrl;this.ae=!!c.isInWorker;d=c.ife;this.Be=c.exportType;this.xH=!!c.isiOSCordova;this.Rba=!!c.isFBInstantAvailable;this.lca=c.opusWasmScriptUrl;this.JS=c.opusWasmBinaryUrl;this.$d=this.nba=this.pb=!("preview"!==this.Be||!c.isDebug);this.uG=
0;this.Ry=[];this.aba=[];this.oI=this.US=this.PA="";this.Gg=this.Hg=0;this.Iq=self.devicePixelRatio;this.$q=this.mf=this.nf=this.HA=this.GA=0;this.gJ=!1;this.Pj=!0;this.fJ=this.uB=!1;this.ar=null;this.lb=e.m(e.KV,this,c);this.Ya=e.m(e.r0,this);this.oa=e.m(e.fY,this);this.bp=e.m(e.R1,this);this.wi=e.m(e.mW,this);this.zb=e.m(e.m4,this);this.RI=e.m(e.r4,this);this.Ic=[];this.$H=new Map;this.aI=new Map;this.tR=0;this.cba=[];this.PF=[];this.gu=[];this.Bm=[];this.Sz=new Map;this.Lz=!1;this.av=this.bI=0;
this.Mo=new Map;this.No=new Set;this.Tz=new Set;this.EA=[];this.iS=[];this.L=null;this.Al=!1;this.LG="vsync";this.Eq="standard";this.Ad="trilinear";this.Ro=!1;this.XH=!0;this.tH=this.NS=!1;this.Aca={CU:g=>{this.tl=this.fe=-1;this.We(g)},rea:g=>{this.tl=-1;this.We(g,!1,"skip-render")},aea:()=>{this.fe=-1;this.$n()}};this.tl=this.fe=-1;this.uz=this.Vm=this.Wj=0;this.OR=this.aA=this.Mz=!1;this.qH=!0;this.rr=0;this.qca=()=>Math.random();this.ku=this.lu=this.qA=this.Tm=0;this.pd=1;this.ES=30;this.PG=e.m(e.HD);
this.QG=e.m(e.HD);this.iJ=e.m(e.HD);this.Ez=-1;this.zA=this.il=this.Dz=this.Go=0;this.Qj=!1;this.Tu=this.jv="";this.Zq=null;this.Vo="";this.wI=this.nI=null;this.Qb=e.m(e.Event.Jb);this.yG=new Map;this.iI=new Map;this.hca=0;this.fS=this.kR=this.lR=!1;this.hJ=[];this.Do={pretick:e.m(e.Event,"pretick",!1),tick:e.m(e.Event,"tick",!1),tick2:e.m(e.Event,"tick2",!1),instancedestroy:e.m(e.Event,"instancedestroy",!1),beforelayoutchange:e.m(e.Event,"beforelayoutchange",!1),layoutchange:e.m(e.Event,"layoutchange",
!1)};this.Do.instancedestroy.instance=null;this.Rd=e.m(e.Event.Jb);this.ET=null;this.tm=e.m(e.Xn,e.lw.tE);this.vo=e.m(e.Xn,e.lw.tE);this.wo=e.m(e.Xn,e.lw.tE);this.Mu=e.m(e.n0,this,c.jobScheduler);c.canvas&&(this.L=e.m(e.vC,this));this.Yu.onmessage=g=>this._OnMessageFromDOM(g.data);this.Qh("runtime","visibilitychange",g=>this.t9(g));this.Qh("runtime","opus-decode",g=>this.Xaa(g.arrayBuffer));this.Qh("runtime","get-remote-preview-status-info",()=>this.t7());this.Qh("runtime","js-invoke-function",g=>
this.zy(g));this.Qh("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Qb.addEventListener("window-blur",g=>this.x9(g));this.Qb.addEventListener("window-focus",()=>this.y9());this.zb.yV();this.Fi=null;this.Mba=new WeakMap;this.du={keyboard:null,zU:null,nK:null}}static Ma(c){return e.m(e.fN,c)}j(){e.D(this.Ic);this.$H.clear();this.aI.clear();this.Ya.j();this.Ya=null;this.oa.j();this.oa=null;this.bp.j();this.bp=null;this.lb.j();this.lb=null;this.wi.j();this.wi=null;this.zb.j();this.zb=
null;this.RI.j();this.RI=null;this.L&&(this.L.j(),this.L=null);this.Qb.j();this.Qb=null}["_OnMessageFromDOM"](c){const g=c.type;if("event"===g)this.SP(c);else if("result"===g)this.m9(c);else throw Error(`unknown message '${g}'`);}SP(c){if(this.fS){var g=c.component,m=c.handler,h=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var p=c.responseId;if("runtime"===g&&(n&&(c=new e.Event(m),c.data=h,this.Qb.eda(c)),l)){c=new e.Event(m,!0);for(const [q,u]of Object.entries(h))c[q]=
u;this.Tg(c)}if(c=this.yG.get(g))if(c=c.get(m)){n=null;try{n=c(h)}catch(q){console.error(`Exception in '${g}' handler '${m}':`,q);null!==p&&this.By(p,!1,""+q);return}null!==p&&(n&&n.then?n.then(q=>this.By(p,!0,q)).catch(q=>{console.error(`Rejection from '${g}' handler '${m}':`,q);this.By(p,!1,""+q)}):this.By(p,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${m}' for component '${g}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${g}'`)}else this.hJ.push(c)}By(c,
g,m){this.Yu.postMessage({type:"result",responseId:c,isOk:g,result:m})}m9(c){const g=c.responseId,m=c.isOk;c=c.result;const h=this.iI.get(g);m?h.resolve(c):h.reject(c);this.iI.delete(g)}Qh(c,g,m){let h=this.yG.get(c);h||(h=new Map,this.yG.set(c,h));if(h.has(g))throw Error(`[Runtime] Component '${c}' already has handler '${g}'`);h.set(g,m)}Bk(c,g,m){this.Yu.postMessage({type:"event",component:c,handler:g,data:m,responseId:null})}Vn(c,g,m){const h=this.hca++,l=new Promise((n,p)=>{this.iI.set(h,{resolve:n,
reject:p})});this.Yu.postMessage({type:"event",component:c,handler:g,data:m,responseId:h});return l}W1(){if(!this.pb)throw Error("not in debug mode");this.Bk("runtime","post-to-debugger",{type:"reload"})}async Wl(c){this.pb?await b.Wl(this):self.Xf&&self.Xf.xha(this);var [g]=await Promise.all([this.lb.cL("data.json"),this.B8(),this.Mu.Wl()]);this.e8(g);await this.P7(c);this.Up()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.vk()?(g=this.vk(),console.info(`[C3 runtime] Hosted in ${this.ae?
"worker":"DOM"}, rendering with WebGL ${g.Rc} [${g.Fr}] (${g.X_()?"desynchronized":"standard"} compositing)`)):this.Mp()&&console.info(`[C3 runtime] Hosted in ${this.ae?"worker":"DOM"}, rendering with experimental WebGPU`);this.ib().Jz&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.fS=!0;for(const m of this.hJ)this.SP(m);e.D(this.hJ);this.L&&this.L.f4();for(const m of c.runOnStartupFunctions)this.Ry.push(this.m$(m));
await Promise.all([this.lb.eO(),...this.Ry]);e.D(this.Ry);if(this.lb.VG)this.L&&this.L.mD();else return this.L&&await this.L.aY(),await this.Qb.BJ(new e.Event("beforeruntimestart")),await this.ht(),this.Yu.postMessage({type:"runtime-ready"}),this}async m$(c){try{await c(this.Fi)}catch(g){console.error("[C3 runtime] Error in runOnStartup function: ",g)}}e8(c){c=c.project;this.PA=c[0];this.US=c[16];this.oI=c[31];const g=c[39]||"loading-logo.png";this.Ro=!!c[9];this.Hg=this.nf=c[10];this.Gg=this.mf=
c[11];this.GA=this.Hg/2;this.HA=this.Gg/2;this.Eq=c[36];this.LG=c[37];"low-latency"===this.Eq&&this.S_()&&77>=e.Fb.pC&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Eq="standard");this.Al=!!c[40];this.Ad=c[14];this.uB=c[15];this.fJ=c[17];this.gJ=!!c[18];this.$q=c[19];this.av=c[21];this.NS=c[22];const m=this.lb;m.L$(c[7],c[25]);m.jaa(c[8]);
m.Z$(c[32]);m.daa(c[28]);m.raa(c[29]);if(0===this.$q){let q="";this.Up()?m.yy(g)&&(q=m.ZC(g)):q=m.PR+g;q&&(this.ar=m.JD({url:q}))}this.L&&(this.L.n3(e.vC.ZO(c[12])),this.L.tN(c[23]?"high":"low"),this.L.jE(0!==c[24]),this.L.$$(c[34]),this.L.qaa(c[41]),this.L.saa(c[13]));this.bp.HW();this.EA=self.zK();for(var h of c[2])this.bp.FW(h);this.EA=self.zK();this.l8();for(var l of c[3])h=e.LD.Ma(this,this.Ic.length,l),this.Ic.push(h),this.$H.set(h.Aa().toLowerCase(),h),this.aI.set(h.eb,h);for(const q of c[4])this.Ic[q[0]].h8(q);
for(var n of c[27])l=n.map(q=>this.Ic[q]),this.cba.push(e.m(e.tW,this,l));for(const q of this.Ic)q.L8();for(const q of c[5])this.Ya.Ma(q);(n=c[1])&&(n=this.Ya.Hp(n))&&this.Ya.j3(n);for(var p of c[33])this.zb.Ma(p);for(const q of c[35])this.RI.Ma(q);this.M7();for(const q of c[6])this.oa.Ma(q);this.oa.Hb();this.I7();e.D(this.EA);this.Ed();p="any";c=c[20];1===c?p="portrait":2===c&&(p="landscape");this.Bk("runtime","set-target-orientation",{targetOrientation:p})}iC(c){this.Ry.push(c)}o7(){return this.tR++}Z4(c){this.PF.push(c)}async P7(c){this.L&&
(await this.L.Sg(c),this.L.x_(this.$q))}async B8(){if(!this.lb.YL("audio/webm; codecs=opus")){var c=null;try{c=this.xH&&this.lb.Cu?await this.lb.MK(this.JS):await this.lb.fs(this.JS)}catch(g){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",g);return}c?this.sV(c):this.rV();await this.tV([this.lca])}}async Xaa(c){return await this.hC("OpusDecode",{arrayBuffer:c},[c])}async ht(){this.Mz=!0;this.Tm=Date.now();if(this.gJ){for(var c of this.Ic);this.lb.eO().then(()=>
{this.Pj=!1;this.VP()})}else this.Pj=!1;this.lb.q3();this.pb&&b.xla(d);for(const g of this.Ya.ri)g.F5();c=this.Ya.SY();await c.$E(null,this.ib());await c.HQ(!0);this.Go=performance.now();this.gJ||this.VP();(await this.Vn("runtime","before-start-ticking")).isSuspended?this.rr++:this.We()}VP(){this.ua(e.C.kb.J.m1,null,null);this.Bk("runtime","register-sw")}Wg(c){c=Math.floor(c);const g=this.EA;if(0>c||c>=g.length)throw Error("invalid object reference");return g[c]}l8(){for(const c of self.UV){const g=
e.first(Object.keys(c));this.iS.push(g)}}Zh(c){c=Math.floor(c);const g=this.iS;if(0>c||c>=g.length)throw Error("invalid prop reference");return g[c]}MC(){return this.hba}da(){return this.oa}Wc(){return this.oa.Wc()}Me(){return this.oa.Me()}Ab(){return this.oa.Ab()}xf(){return this.oa.xf()}cM(){return 0===this.Me().Wk}Rw(){return this.oa.Rw()}Ds(){return this.bp.Ds()}Oe(c){c=Math.floor(c);if(0>c||c>=this.Ic.length)throw new RangeError("invalid index");return this.Ic[c]}cx(c){return this.$H.get(c.toLowerCase())||
null}dx(c){return this.aI.get(c)||null}*Gca(){for(const c of this.Ic)c.cb||(yield*c.oU())}Jb(){return this.Qb}Tg(c){c.uf=this.Fi;const g=this.pb&&!this.oa.Cx();g&&b.vE();this.Rd.dispatchEvent(c);g&&b.kC()}Bn(c){c.uf=this.Fi;return this.Rd.BJ(c)}z3(c,g){if(this.Hg!==c||this.Gg!==g)this.Hg=c,this.Gg=g,c=this.Ya,c.eo(),c.co()}gt(c,g){if(this.nf!==c||this.mf!==g)this.nf=c,this.mf=g,c=this.Ya,c.eo(),c.co()}R$(c){this.Iq=c}gj(){return this.Iq}ij(){return this.L?this.L.ij():this.nf}Vh(){return this.L?this.L.Vh():
this.mf}Ul(){return this.L?this.L.Ul():1}hj(){return this.L?this.L.hj():1}us(){return this.L?this.L.us():1}ts(){return this.L?this.L.ts():1}ns(){return this.L?this.L.ns():0}os(){return this.L?this.L.os():0}BY(){return this.L?this.L.yc:0}AY(){return this.L?this.L.rc:0}Ww(){return this.L?this.L.Ww():"off"}ks(c){return this.L?this.L.ks(c):null}Yn(c){this.L&&this.L.Yn(c)}Yw(){return this.L?this.L.Yw():NaN}DD(){return"nearest"!==this.Ad}k2(){this.ar&&(this.ar.j(),this.ar=null)}Kb(){return this.Ya.Kb()}JD(c){return this.lb.JD(c)}PK(c,
g,m,h,l){return this.Uh(c,g,!1,m,h,!1,l,void 0,l)}Uh(c,g,m,h,l,n,p,q,u){var r=null;let v=null;c instanceof e.LD?(v=c,v.cb&&(r=v.Eo,v=r[Math.floor(this.Yp()*r.length)]),r=v.Hq):(r=c,v=this.Oe(r[1]));c=v.wb().Bg;if(this.Pj&&c&&!v.Vba)return null;const w=g;c||(g=null);var y=m&&!n&&r&&!this.Mo.has(r[2])?r[2]:this.av++;const A=r?r[0]:null,G=e.m(e.Instance,{uf:this,VJ:v,wU:g,fV:A,nU:r?r[3]:null,uid:y});this.Mo.set(y,G);y=null;c&&(y=G.A(),"undefined"!==typeof h&&"undefined"!==typeof l&&(y.dh(h),y.eh(l)),
v.sQ());g&&(u||g.pg(G,!0),1===g.Md&&1===g.Nd||v.sF(!0),g.ac().uM(v));this.bI++;let z=!0;q&&(q=q.H(),q.cc()&&v.cc()&&v.vg===q.vg&&(z=!1));if(v.cc()&&!m&&!n&&z){for(var F of v.vg.ol)F!==v&&(q=this.Uh(F,w,!1,y?y.ga():h,y?y.ia():l,!0,!1,void 0,u),G.nq(q));for(var I of G.Bd){I.nq(G);for(const J of G.Bd)I!==J&&I.nq(J)}}c&&!m&&p&&this.IE(G,A,y,g,h,l,u);if(v.cc()&&!m&&!n&&p)for(const J of G.Bd)if(m=J.A())F=J.wb(),I=J.H().Hq[0],F.Bg?this.IE(J,I,m,g,m.ga(),m.ia(),u):this.IE(J,I,m,g,void 0,void 0,u);!n&&p&&
("undefined"===typeof h&&(h=A[0]),"undefined"===typeof l&&(l=A[1]),g=y.rx(),h=h-y.ga()+g.ga(),l=l-y.ia()+g.ia(),g.lm(h,l));v.Gt();l=r?e.xJ(r[5]):null;r=r?r[4].map(J=>e.xJ(J)):null;c&&A&&A[13]&&G.caa();G.jy(l,r);this.Bm.push(G);this.Lz=!0;this.pb&&b.yha(G);return G}IE(c,g,m,h,l,n,p){var q=m.xZ(),u=m.EL();c.A().mE(q);if(u){"undefined"===typeof l&&(l=g[0]);"undefined"===typeof n&&(n=g[1]);q=new Set;m=g[0];g=g[1];for(const A of u){var r=A[1],v=A[2];u=A[3];var w=!!A[4];const G=A[5];v=this.Ya.YC(A[0]).W(r).YY(v);
r=this.Oe(v[1]);var y=c.UZ(r);const z=q.has(r);y&&!z&&w?(w=c.KL(r),y=l+v[0][0]-m,v=n+v[0][1]-g,w.A().lm(y,v),w.A().mE(G),c.Ml(w,{Xr:!!(u>>0&1),Yr:!!(u>>1&1),wp:!!(u>>2&1),vp:!!(u>>3&1),Wr:!!(u>>4&1),Pv:!!(u>>5&1),Zr:!!(u>>6&1)}),q.add(r)):(r=this.Uh(v,h,!1,l+v[0][0]-m,n+v[0][1]-g,!1,!0,c,p),r.A().mE(G),c.Ml(r,{Xr:!!(u>>0&1),Yr:!!(u>>1&1),wp:!!(u>>2&1),vp:!!(u>>3&1),Wr:!!(u>>4&1),Pv:!!(u>>5&1),Zr:!!(u>>6&1)}))}}}An(c){if(!this.No.has(c)){var g=c.H(),m=this.Sz.get(g);if(m){if(m.has(c))return;m.add(c)}else m=
new Set,m.add(c),this.Sz.set(g,m);this.pb&&b.zha(c);c.dF();this.Lz=!0;if(c.cc())for(const h of c.Bd)this.An(h);for(const h of c.children())h.Tw()&&this.An(h);this.Ya.fM()||this.Qj||(g=this.da(),g.wf(!0),c.Haa(),g.wf(!1));c.V6(this.Ya.fM())}}Ed(){this.Lz&&(this.X6(),this.Y6(),this.Lz=!1,this.$())}X6(){for(const c of this.Bm){const g=c.H();g.pg(c);for(const m of g.ph)m.pg(c),m.Gt()}e.D(this.Bm)}Y6(){this.Qb.eq(!0);for(const [c,g]of this.Sz.entries())this.Z6(c,g),g.clear();this.Sz.clear();this.Qb.eq(!1)}Z6(c,
g){for(const h of g){var m=this.Do.instancedestroy;m.instance=h;this.Qb.dispatchEvent(m);this.Mo.delete(h.lc);if(m=h.A())m.eQ(),m.fQ(),m.dF();this.No.add(h);this.bI--}e.Vf(c.ea(),g);c.Gt();this.Tz.add(c);0===c.ea().length&&c.sF(!1);for(const h of c.ph)e.Vf(h.ea(),g),h.Gt(),this.Tz.add(h);if(c.wb().Bg){c=new Set([...g].map(h=>h.A().W()));for(const h of c)h.R9(g)}}*KJ(c){for(const g of this.Bm)c.cb?g.H().oC(c)&&(yield g):g.H()===c&&(yield g)}n7(){return this.av++}y8(c,g){this.Mo.set(c,g)}Dt(){this.Qb.dispatchEvent(e.m(e.Event,
"webglcontextlost"));this.et(!0);for(var c of this.Ic)!c.cb&&c.SZ()&&c.Zp();(c=this.Kb())&&c.Dt();e.qD.Kx();e.VL.Kx()}async kF(){await this.Kb().$E(null,this.vk());this.Qb.dispatchEvent(e.m(e.Event,"webglcontextrestored"));this.et(!1);this.$()}t9(c){this.et(c.hidden)}x9(c){this.Up()&&this.NS&&!e.Fb.Dx&&!c.data.parentHasFocus&&(this.et(!0),this.tH=!0)}y9(){this.tH&&(this.et(!1),this.tH=!1)}gQ(){const c=this.Aca;"vsync"===this.LG?-1===this.fe&&(this.fe=self.requestAnimationFrame(c.CU)):"unlimited-tick"===
this.LG?(-1===this.tl&&(this.tl=e.XD(c.rea)),-1===this.fe&&(this.fe=self.requestAnimationFrame(c.aea))):-1===this.tl&&(this.tl=e.XD(c.CU))}t5(){-1!==this.fe&&(self.cancelAnimationFrame(this.fe),this.fe=-1);-1!==this.tl&&(e.bW(this.tl),this.tl=-1)}cm(){return 0<this.rr}et(c){var g=this.cm();this.rr+=c?1:-1;0>this.rr&&(this.rr=0);c=this.cm();!g&&c?(console.log("[Construct 3] Suspending"),this.t5(),this.Qb.dispatchEvent(e.m(e.Event,"suspend")),this.ua(e.C.kb.J.B1,null,null)):g&&!c&&(console.log("[Construct 3] Resuming"),
this.Go=this.qA=g=performance.now(),this.il=this.zA=this.Dz=this.Ez=0,this.Qb.dispatchEvent(e.m(e.Event,"resume")),this.ua(e.C.kb.J.y1,null,null),this.Is()||this.We(g))}W4(c){this.tm.Uc(c)}T9(c){this.tm.ah(c)}S9(c){this.vo.ah(c)}U9(c){this.wo.ah(c)}k5(){this.tm.bh(!0);for(const c of this.tm)c.We();this.tm.bh(!1)}j5(){this.vo.bh(!0);for(const c of this.vo);this.vo.bh(!1)}l5(){this.wo.bh(!0);for(const c of this.wo);this.wo.bh(!1)}*P5(){this.tm.bh(!0);for(const c of this.tm){const g=c.We();e.$l(g)&&
(yield*g)}this.tm.bh(!1)}*O5(){this.vo.bh(!0);for(const c of this.vo)e.$l(void 0)&&(yield*void 0);this.vo.bh(!1)}*Q5(){this.wo.bh(!0);for(const c of this.wo)e.$l(void 0)&&(yield*void 0);this.wo.bh(!1)}async We(c,g,m){this.OR=!0;const h="background-wake"===m;m="background-wake"!==m&&"skip-render"!==m;this.Mz&&(!this.cm()||g||h)&&(g=performance.now(),this.aA=!0,this.E8(c||0),c=this.h4(),this.$d&&await c,c=this.Qb.fda(this.Do.pretick),c instanceof Promise&&await c,c=this.g4(),this.$d&&await c,this.J8()&&
await this.B7(),this.Ya.Tp()&&await this.A8(),c=this.i4(),this.$d&&await c,m&&this.$n(),this.cm()||h||this.gQ(),this.Wj++,this.Vm++,this.uz++,this.aA=!1,this.il+=performance.now()-g)}async h4(){const c=this.oa,g=this.pb;this.Ed();c.wf(!0);this.Ss(this.Kb());g&&b.mq();this.$d?await c.NW():c.K2();g&&b.qV();this.Rs();c.wf(!1);this.Ed();c.wf(!0)}async g4(){const c=this.pb,g=this.$d,m=this.Qb,h=this.Do,l=this.ET;c&&b.mq();g?await this.Fw(this.P5()):this.k5();g?await this.Fw(this.O5()):this.j5();c&&b.mV();
c&&b.mq();g?await this.SK(h.tick):m.dispatchEvent(h.tick);c&&b.vV();this.oa.wf(!1);this.Tg(l.tick)}async i4(){const c=this.oa,g=this.Qb,m=this.Do,h=this.pb,l=this.$d;h&&b.mq();l?await c.LW(this.Ya):c.I2(this.Ya);h&&b.qV();this.wi.EK();this.cQ();this.qH=!1;c.wf(!0);h&&b.mq();l?await this.Fw(this.Q5()):this.l5();h&&b.mV();h&&b.mq();l?await this.SK(m.tick2):g.dispatchEvent(m.tick2);h&&b.vV();c.wf(!1);l&&await c.eN()}cQ(){if(0!==this.No.size){var c=this.Qb;c.eq(!0);for(const g of this.Tz)g.Sm.Zn(this.No);
this.Tz.clear();this.oa.n2(this.No);for(const g of this.No)g.j();this.No.clear();c.eq(!1)}}async A8(){const c=this.Ya;let g=0;for(;c.Tp()&&10>g++;)await this.LO(c.bv)}E8(c){let g=0;0!==this.qA&&(g=Math.max(c-this.qA,0)/1E3,.5<g&&(g=0),this.lu=Math.min(g,1/this.ES));this.qA=c;this.ku=this.lu*this.pd;this.PG.Uc(this.ku);this.QG.Uc(g*this.pd);this.iJ.Uc(this.lu);this.L&&this.L.Saa();1E3<=c-this.Go&&(this.Go+=1E3,1E3<=c-this.Go&&(this.Go=c),this.Dz=this.Ez,this.Ez=0,this.zA=Math.min(this.il/1E3,1),this.il=
0,this.L&&this.L.Laa(),this.pb&&b.Lna());this.Ez++}async LO(c){const g=this.Qb,m=this.Ya.Kb();await m.Caa();m.Kaa(c,this.ib());m===c&&this.oa.uw();this.wi.EK();this.cQ();g.dispatchEvent(this.Do.beforelayoutchange);e.hk.uN(!0);await c.$E(m,this.ib());e.hk.uN(!1);await c.HQ(!1);g.dispatchEvent(this.Do.layoutchange);this.$();this.qH=!0;this.Ed()}$(){this.XH=!0}vk(){return this.L?this.L.vk():null}Mp(){return this.L?this.L.Mp():null}ib(){return this.L?this.L.ib():null}$n(){const c=this.L;if(c&&!c.e0()){var g=
this.ib(),m=g.Aj(),h=m&&g.zk();m=m&&!1;h&&g.eW();if(this.XH){var l=this.Ya.Kb();g.ht();var n=this.pb;n&&b.mq();this.XH=!1;var p=null;h&&(p=c.Iz.lC(),g.wE(p));h=null;m&&(h=g.Zma(2*(1+l.Vb.length)),g.R4(0));this.Al&&"low"===c.rh?g.k3(c.ij(),c.Vh()):g.U2();this.a$(this.ib(),l);p&&g.EC(p);m&&(g.R4(1),this.L.i5(h));g.hs();n&&(b.Yea(),b.Mna());c&&c.C8()}else g.l_()}}a$(c,g){c.yj();c.kN();c.Ue(1,1,1,1);c.lg(null);c.mg(null);c.kg(this.Al);g.dj(c)}ua(c,g,m){if(!this.Mz)return!1;var h=!this.aA&&!this.oa.CD();
let l=0;h&&(l=performance.now());const n=this.pb;n&&this.Ux(!1);c=this.oa.Lt(this.Ya,c,g,m);h&&(h=performance.now()-l,this.il+=h,n&&b.ifa(h));n&&this.Ux(!0);return c}async Hc(c,g,m){if(!this.$d)return this.ua(c,g,m);if(!this.Mz)return!1;if(this.Is())return this.oa.g2(c,g,m);if(!this.Kb())return this.oa.TD(c,g,m);const h=performance.now();c=this.oa.mt(this.Ya,c,g,m);for(g=c.next();!g.done;)await this.Dp(g.value),g=c.next();this.cm()||this.oa.CD()||(await this.oa.eN(),this.OR&&!this.aA&&this.gQ());
this.il+=performance.now()-h;return g.value}Ss(c){this.gu.push(c)}Rs(){if(!this.gu.length)throw Error("layout stack empty");this.gu.pop()}Ia(){return this.gu.length?this.gu.Sd(-1):this.Kb()}mL(c){return c&&-1!==c.pd?this.lu*c.pd:this.ku}oE(c){if(isNaN(c)||0>c)c=0;this.pd=c}DN(c){this.ES=e.fa(c,1,120)}Rl(){return this.PG.Y()}WC(){return this.QG.Y()}gD(){return this.iJ.Y()}xk(){++this.uz}Ug(c){if(this.Qj)throw Error("cannot call while loading state - wait until afterload event");return this.Mo.get(c)||
null}aQ(){this.Mo.clear();for(const c of this.Ic)if(!c.cb)for(const g of c.ea())this.Mo.set(g.lc,g)}Up(){return"preview"===this.Be}bM(){return"cordova"===this.Be}S_(){return"Android"===e.Fb.Zg&&("cordova"===this.Be||"playable-ad"===this.Be||"instant-games"===this.Be)}C3(c){c=!!c;this.Ro!==c&&(this.Ro=c,this.Ya.co(),this.$())}M2(c){this.jv=c}w0(c){this.Tu=c}ID(c){this.Zq=c}J8(){return!(!this.jv&&!this.Tu&&null===this.Zq)}async B7(){this.jv&&(this.Ed(),await this.s6(this.jv),this.GE());this.Tu&&(await this.r6(this.Tu),
this.GE(),this.pb&&b.ana());if(null!==this.Zq){this.Ed();try{await this.MO(this.Zq),this.Vo=this.Zq,await this.Hc(e.C.kb.J.GM,null),this.Vo=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Hc(e.C.kb.J.HM,null)}this.GE()}}GE(){this.Tu=this.jv="";this.Zq=null}s7(){this.nI||(this.nI=localforage.yJ({name:"c3-localstorage-"+this.oI,description:this.PA}));return this.nI}lP(){this.wI||(this.wI=localforage.yJ({name:"c3-savegames-"+this.oI,description:this.PA}));
return this.wI}async s6(c){const g=await this.G$();try{await this.lP().setItem(c,g),console.log("[Construct 3] Saved state to storage ("+g.length+" chars)"),this.Vo=g,await this.Hc(e.C.kb.J.z1,null),this.Vo=""}catch(m){console.error("[Construct 3] Failed to save state to storage: ",m),await this.Hc(e.C.kb.J.A1,null)}}async r6(c){try{const g=await this.lP().getItem(c);if(!g)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+g.length+" chars)");await this.MO(g);this.Vo=
g;await this.Hc(e.C.kb.J.GM,null);this.Vo=""}catch(g){console.error("[Construct 3] Failed to load state from storage: ",g),await this.Hc(e.C.kb.J.HM,null)}}async G$(){const c={c3save:!0,version:1,rt:{time:this.Rl(),timeRaw:this.WC(),walltime:this.gD(),timescale:this.pd,tickcount:this.Wj,execcount:this.uz,next_uid:this.av,running_layout:this.Kb().eb,start_time_offset:Date.now()-this.Tm},types:{},layouts:{},events:this.oa.ba(),timelines:this.zb.ba(),user_script_data:null};for(var g of this.Ic)g.cb||
g.SL()||(c.types[g.eb.toString()]=g.ba());for(const m of this.Ya.ri)c.layouts[m.eb.toString()]=m.ba();g=this.LE("save");g.saveData=null;await this.Bn(g);c.user_script_data=g.saveData;return JSON.stringify(c)}async MO(c){var g=this.Ya;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Qb.dispatchEvent(e.m(e.Event,"beforeload"));for(var m of this.Gca())m.Ay();
this.Qj=!0;m=c.rt;this.PG.Set(m.time);m.hasOwnProperty("timeRaw")&&this.QG.Set(m.timeRaw);this.iJ.Set(m.walltime);this.pd=m.timescale;this.Wj=m.tickcount;this.uz=m.execcount;this.Tm=Date.now()-m.start_time_offset;var h=m.running_layout;if(h!==this.Kb().eb)if(h=g.YC(h))await this.LO(h);else return;for(const [l,n]of Object.entries(c.types))h=this.dx(parseInt(l,10)),!h||h.cb||h.SL()||h.ja(n);this.Ed();this.aQ();this.Qj=!1;this.av=m.next_uid;for(const [l,n]of Object.entries(c.layouts))(m=g.YC(parseInt(l,
10)))&&m.ja(n);this.oa.ja(c.events);for(const l of this.Ic)if(!l.cb&&l.cc())for(const n of l.ea()){m=n.En();for(const p of l.vg.ol)if(p!==l){h=p.ea();if(0>m||m>=h.length)throw Error("missing sibling instance");n.nq(h[m])}}this.zb.ja(c.timelines);g.eo();g.co();this.Qb.dispatchEvent(e.m(e.Event,"afterload"));g=this.LE("load");g.saveData=c.user_script_data;await this.Bn(g);this.$()}async tV(c){c=(await Promise.all(c.map(g=>this.lb.kk(g)))).map(g=>URL.createObjectURL(g));this.Mu.k_(c)}rV(){this.Mu.Q2()}sV(c){this.Mu.R2(c)}hC(c,
g,m){return this.Mu.hC(c,g,m)}uD(c,g){this.Bk("runtime","invoke-download",{url:c,filename:g})}async h2(c){var g=g||2048;var m=m||2048;return this.ae?(await this.Vn("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:g,surfaceHeight:m,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,g,m)}aq(){this.lR||(this.lR=!0,this.Bk("runtime","enable-device-orientation"))}em(){this.kR||(this.kR=!0,this.Bk("runtime","enable-device-motion"))}Yp(){return this.qca()}t7(){const c=
this.vk();return{fps:this.Dz,cpu:this.zA,gpu:this.Yw(),layout:this.Kb()?this.Kb().Aa():"",renderer:c?c.Fr:"<unavailable>"}}Is(){return this.pb?b.Is():!1}Dp(c){return this.$d?b.Dp(c):Promise.resolve()}mc(){return this.$d?b.Hfa():!1}Ux(c){c?this.uG--:this.uG++;this.Naa()}Naa(){this.$d=this.pb&&this.nba&&0===this.uG}vD(){return this.pb&&b.vD()}AD(){return this.pb&&this.ib().Aj()&&b.AD()}async Fw(c){if(c)for(const g of c)await this.Dp(g)}SK(c){return this.Fw(this.Qb.gda(c))}zy(c){return this.oa.zy(c.name,
c.params)}LE(c){c=e.m(e.Event,c,!1);c.uf=this.Fi;return c}M7(){var c={};for(const g of this.Ic)c[g.Zh()]={value:g.vu,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Fi=new self.e_(this,c);this.ET={tick:this.LE("tick")}}I7(){const c={};for(const g of this.da().QF)c[g.Zh()]=g.mP();this.Fi.J7(c)}HP(c,g){this.Mba.set(c,g)}};self.C3_CreateRuntime=e.fN.Ma;self.C3_InitRuntime=(c,g)=>c.Wl(g)}
{"use strict";const e=self.B;e.n0=class extends e.aa{constructor(b,a){super();this.g=b;this.So=new Map;this.jca=0;this.yu=a.inputPort;a.outputPort.onmessage=d=>this.UP(d);this.wS=a.maxNumWorkers;this.Nu=1;this.HR=this.Bu=!1}async Wl(){}k_(b){this.yu.postMessage({type:"_import_scripts",scripts:b})}Q2(){this.yu.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}R2(b){this.yu.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}hC(b,a,d){d||(d=[]);const c=this.jca++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:d};a=new Promise((g,m)=>{this.So.set(c,{resolve:g,progress:void 0,reject:m,wJ:!1})});this.yu.postMessage(b,d);this.IP();return a}UP(b){b=b.data;const a=b.type,d=b.jobId;switch(a){case "result":this.d9(d,b.result);break;case "progress":this.c9(d,b.progress);break;case "error":this.b9(d,b.error);break;case "ready":this.e9();break;default:throw Error(`unknown message from worker '${a}'`);}}d9(b,a){const d=this.So.get(b);if(!d)throw Error("invalid job ID");
d.wJ||d.resolve(a);this.So.delete(b)}c9(b,a){b=this.So.get(b);if(!b)throw Error("invalid job ID");!b.wJ&&b.progress&&b.progress(a)}b9(b,a){const d=this.So.get(b);if(!d)throw Error("invalid job ID");d.wJ||d.reject(a);this.So.delete(b)}e9(){this.Bu&&(this.Bu=!1,this.Nu++,this.Nu<this.wS?this.IP():this.yu.postMessage({type:"_no_more_workers"}))}async IP(){if(!(this.Nu>=this.wS||this.Bu||this.HR||this.So.size<=this.Nu))try{this.Bu=!0,(await this.g.Vn("runtime","create-job-worker")).outputPort.onmessage=
b=>this.UP(b)}catch(b){this.HR=!0,this.Bu=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Nu} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const e=self.B;let b=null,a="",d="",c=[],g="",m="",h="";const l=e.m(e.HV);function n(p,q){p=p[1];q=q[1];if("number"===typeof p&&"number"===typeof q)return p-q;p=""+p;q=""+q;return p<q?-1:p>q?1:0}e.C.kb=class extends e.fm{constructor(p){super(p);this.ff=this.g.da().ff;this.xd=this.g.da().Wc();this.wu=this.Ko=0;this.AR=new Map}j(){super.j()}$(){this.g.$()}ua(p){this.g.ua(p,null,null)}kx(p,q){b&&p===a&&q===d||(b=new RegExp(p,q),a=p,d=q);b.lastIndex=0;return b}DL(p,q,u){if(p===g&&q===m&&
u===h)return c;const r=this.kx(q,u);c=p.match(r);g=p;m=q;h=u;return c}async bF(p,q){if(q.length){this.Ko+=q.length;var u=[];for(const r of q)u.push(p.uM(r));await e.b2(u,()=>{this.wu++});this.wu++;this.wu===this.Ko&&(this.g.ua(e.C.kb.J.f1,null,null),this.Ko=this.wu=0)}}KQ(p,q){for(const u of q)0===u.F.length&&p.H0(u)}eP(){return l}c$(p){var q=this.g.da();const u=q.Wc(),r=u.Ne(),v=r.Ab(),w=v.ld();var y=r.rj();const A=u.Na(v),G=q.ff,z=G.Na();if(y)for(y=0;y<p&&!z.pc;++y)q.se(w),z.wc(y),v.hg(r,A),q.Gb(w);
else for(q=0;q<p&&!z.pc;++q)z.wc(q),v.hg(r,A);u.Ja();G.Ja();return!1}*W5(p){var q=this.g.da();const u=q.Wc(),r=u.Ne(),v=r.Ab(),w=v.ld();var y=r.rj();const A=u.Na(v),G=q.ff,z=G.Na();if(y)for(y=0;y<p&&!z.pc;++y)q.se(w),z.wc(y),yield*v.Yf(r,A),q.Gb(w);else for(q=0;q<p&&!z.pc;++q)z.wc(q),yield*v.Yf(r,A);u.Ja();G.Ja();return!1}Yaa(){var p=this.g.da();const q=p.Wc(),u=q.Ne(),r=u.Ab(),v=r.ld();var w=u.rj();const y=q.Na(r),A=p.ff,G=A.Na();if(w)for(w=0;!G.pc;++w)p.se(v),G.wc(w),r.hg(u,y)||G.ve(),p.Gb(v);else for(p=
0;!G.pc;++p)G.wc(p),r.hg(u,y)||G.ve();q.Ja();A.Ja();return!1}*p6(){var p=this.g.da();const q=p.Wc(),u=q.Ne(),r=u.Ab(),v=r.ld();var w=u.rj();const y=q.Na(r),A=p.ff,G=A.Na();if(w)for(w=0;!G.pc;++w)p.se(v),G.wc(w),(yield*r.Yf(u,y))||G.ve(),p.Gb(v);else for(p=0;!G.pc;++p)G.wc(p),(yield*r.Yf(u,y))||G.ve();q.Ja();A.Ja();return!1}a7(p,q,u){var r=this.g.da();const v=r.Wc(),w=v.Ne(),y=w.Ab(),A=y.ld(),G=w.rj(),z=v.Na(y),F=r.ff,I=F.Na();I.Zx(p);if(u<q)if(G)for(p=q;p>=u&&!I.pc;--p)r.se(A),I.wc(p),y.hg(w,z),r.Gb(A);
else for(r=q;r>=u&&!I.pc;--r)I.wc(r),y.hg(w,z);else if(G)for(p=q;p<=u&&!I.pc;++p)r.se(A),I.wc(p),y.hg(w,z),r.Gb(A);else for(r=q;r<=u&&!I.pc;++r)I.wc(r),y.hg(w,z);v.Ja();F.Ja();return!1}*T5(p,q,u){var r=this.g.da();const v=r.Wc(),w=v.Ne(),y=w.Ab(),A=y.ld(),G=w.rj(),z=v.Na(y),F=r.ff,I=F.Na();I.Zx(p);if(u<q)if(G)for(p=q;p>=u&&!I.pc;--p)r.se(A),I.wc(p),yield*y.Yf(w,z),r.Gb(A);else for(r=q;r>=u&&!I.pc;--r)I.wc(r),yield*y.Yf(w,z);else if(G)for(p=q;p<=u&&!I.pc;++p)r.se(A),I.wc(p),yield*y.Yf(w,z),r.Gb(A);
else for(r=q;r<=u&&!I.pc;++r)I.wc(r),yield*y.Yf(w,z);v.Ja();F.Ja();return!1}b7(p){var q=this.g.da();const u=q.Wc(),r=u.Ne(),v=r.Ab(),w=v.ld();var y=r.rj();const A=u.Na(v),G=q.ff,z=G.Na(),F=p.cc(),I=p.U(),J=l.Na();e.Dc(J,I.ea());if(y)for(let M=0,P=J.length;M<P&&!z.pc;++M)q.se(w),y=J[M],p.U().Ik(y),F&&y.ji(),z.wc(M),v.hg(r,A),q.Gb(w);else{I.Xe(!1);p=I.F;e.D(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.pc;++M)q=J[M],p[0]=q,F&&q.ji(),z.wc(M),v.hg(r,A)}u.Ja();G.Ja();e.D(J);l.Ja();return!1}*U5(p){var q=
this.g.da();const u=q.Wc(),r=u.Ne(),v=r.Ab(),w=v.ld();var y=r.rj();const A=u.Na(v),G=q.ff,z=G.Na(),F=p.cc(),I=p.U(),J=l.Na();e.Dc(J,I.ea());if(y)for(let M=0,P=J.length;M<P&&!z.pc;++M)q.se(w),y=J[M],p.U().Ik(y),F&&y.ji(),z.wc(M),yield*v.Yf(r,A),q.Gb(w);else{I.Xe(!1);p=I.F;e.D(p);p.push(null);for(let M=0,P=J.length;M<P&&!z.pc;++M)q=J[M],p[0]=q,F&&q.ji(),z.wc(M),yield*v.Yf(r,A)}u.Ja();G.Ja();e.D(J);l.Ja();return!1}c7(p,q){var u=this.g.da();const r=u.Wc(),v=u.xf(),w=r.Ne(),y=w.Ab(),A=y.ld(),G=w.rj(),
z=r.Na(y),F=u.ff,I=F.Na(),J=p.cc(),M=p.U(),P=l.Na();e.D(P);const R=M.ea();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],v.Us(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u.se(A),q=P[T][0],p.U().Ik(q),J&&q.ji(),I.wc(T),y.hg(w,z),u.Gb(A);else{M.Xe(!1);p=M.F;e.D(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u=P[T][0],p[0]=u,J&&u.ji(),I.wc(T),y.hg(w,z)}r.Ja();F.Ja();e.D(P);l.Ja();return!1}*V5(p,q){var u=this.g.da();const r=u.Wc(),v=u.xf(),w=r.Ne(),y=w.Ab(),A=y.ld(),
G=w.rj(),z=r.Na(y),F=u.ff,I=F.Na(),J=p.cc(),M=p.U(),P=l.Na();e.D(P);const R=M.ea();for(let T=0,Z=R.length;T<Z;++T)P.push([R[T],v.Us(1,T)]);P.sort(n);1===q&&P.reverse();if(G)for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u.se(A),q=P[T][0],p.U().Ik(q),J&&q.ji(),I.wc(T),yield*y.Yf(w,z),u.Gb(A);else{M.Xe(!1);p=M.F;e.D(p);p.push(null);for(let T=0,Z=P.length;T<Z&&!I.pc;++T)u=P[T][0],p[0]=u,J&&u.ji(),I.wc(T),yield*y.Yf(w,z)}r.Ja();F.Ja();e.D(P);l.Ja();return!1}ty(p,q){let u=this.AR.get(p);if(u)return u;if(!q)return null;
u={mn:null,YB:new Map};this.AR.set(p,u);return u}q6(p,q,u,r,v){q.oe().H2(u);r&&p.Gb(v)}*R5(p,q,u,r,v){yield*q.oe().KW(u);r&&p.Gb(v)}}}{"use strict";const e=self.B;e.C.kb.mm=class extends e.aa{constructor(b){super();this.M=b;this.g=b.G();this.Ah=b.wb()}j(){this.Ah=this.g=this.M=null}}}{"use strict";const e=self.B;e.C.kb.Instance=class extends e.aa{constructor(b){super();this.na=b;this.M=this.na.H();this.od=this.M.od;this.g=this.na.G()}j(){this.g=this.od=this.M=this.na=null}}}
{"use strict";const e=self.B,b=[];e.C.kb.J={Jga(){return!0},j1(){return!0},i1(){return!0},B1(){return!0},y1(){return!0},cm(){return this.g.cm()},$X(){const a=this.g.Me();return a.BG?!1:!a.To},s4(){const a=this.g.xf().sk();let d=a.get("TriggerOnce_lastTick");"undefined"===typeof d&&(d=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.Wj;a.set("TriggerOnce_lastTick",c);return this.g.qH||d!==c-1},hY(a){const d=this.g.xf().sk(),c=d.get("Every_lastTime")||0,g=this.g.Rl();d.has("Every_seconds")||d.set("Every_seconds",
a);const m=d.get("Every_seconds");if(g>=c+m)return d.set("Every_lastTime",c+m),g>=d.get("Every_lastTime")+.04&&d.set("Every_lastTime",g),d.set("Every_seconds",a),!0;g<c-.1&&d.set("Every_lastTime",g);return!1},Rp(a){return(a=this.g.da().oL(a))&&a.Rp()},Up(){return this.g.Up()},Dx(){return e.Fb.Dx},m1(){return!0},W0(){return!0},Ega(){return!0},z1(){return!0},A1(){return!0},GM(){return!0},HM(){return!0},nja(a){return!!this.g.Ug(a)},jia(a){switch(a){case 0:return"browser"===e.Fb.xC;case 1:return"iOS"===
e.Fb.Zg;case 2:return"Android"===e.Fb.Zg;case 8:return"cordova"===e.Fb.xC;case 9:return"scirra-arcade"===this.g.Be;case 10:return"nwjs"===e.Fb.xC;case 13:return"windows-uwp"===this.g.Be;default:return!1}},tka(a,d,c){return this.kx(d,c).test(a)},Vfa(a,d,c){return e.compare(a,d,c)},Xfa(a,d,c){return a>=d&&a<=c},pW(a,d,c){return e.compare(a.rd(),d,c)},Yfa(a){return!!a.rd()},dga(a,d){const c=this.g.Rl();return 0===a?(a=this.g.xf().sk(),!a.get("CompareTime_executed")&&c>=d?(a.set("CompareTime_executed",
!0),!0):!1):e.compare(c,a,d)},bia(a){return isNaN(a)},AV(a,d,c){return e.Jr(e.Wa(a),e.Wa(c))<=e.Wa(d)},V_(a,d){return e.pf(e.Wa(a),e.Wa(d))},U_(a,d,c){a=e.Wa(a);d=e.Wa(d);c=e.Wa(c);return e.pf(c,d)?e.pf(a,d)&&!e.pf(a,c):!(!e.pf(a,d)&&e.pf(a,c))},xia(a,d){return"number"===typeof a?0===d:1===d},Iga(a){return!!a},Mja(a,d,c,g){if(!a)return!1;const m=this.eP(),h=m.Na(),l=a.U();e.Dc(h,l.ea());l.Sb&&e.D(l.Xb);const n=this.g.xf();let p=0;for(let q=0,u=h.length;q<u;++q){const r=h[q];h[p]=r;d=n.Us(1,q);g=n.Us(3,
q);e.compare(d,c,g)?++p:l.Qk(r)}e.Ke(h,p);l.Xs(h);d=!!h.length;e.D(h);m.Ja();a.$b();return d},Nja(a,d){if(!a)return!1;const c=this.eP(),g=c.Na(),m=a.U();e.Dc(g,m.ea());m.Sb&&e.D(m.Xb);const h=this.g.xf();let l=0;for(let n=0,p=g.length;n<p;++n){const q=g[n];g[l]=q;(d=h.Us(1,n))?++l:m.Qk(q)}e.Ke(g,l);m.Xs(g);d=!!g.length;e.D(g);c.Ja();a.$b();return d},Tja(a,d){if(!a)return!1;const c=a.U(),g=c.ea();d=Math.floor(d);if(d>=g.length)return!1;c.dm(g[d]);a.$b();return!0},Xja(a){if(!a)return!1;const d=a.U(),
c=d.ea(),g=Math.floor(this.g.Yp()*c.length);if(g>=c.length)return!1;d.dm(c[g]);a.$b();return!0},Lja(a){if(!a||!a.F.length)return!1;a.U().Xe(!0);a.$b();return!0},Vja(a,d,c){if(!a)return!1;const g=a.U();var m=g.ea();const h=this.g.Ab().yd,l=this.g.xf().Ii;g.Sb?(e.Dc(b,m),g.vw(),g.Xe(!1)):h?(e.Dc(b,g.Xb),e.D(g.Xb)):(e.Dc(b,g.F),e.D(g.F));for(let n=0,p=b.length;n<p;++n)m=b[n],e.xor(m.A().cs(d,c),l)?g.vq(m):g.Qk(m);a.$b();return e.xor(!!g.F.length,l)},Sja(a){if(!a)return!1;var d=a.cb;let c=null;const g=
this.g.Bm;for(let m=g.length-1;0<=m;--m){const h=g[m];if(d){if(h.H().oC(a)){c=h;break}}else if(h.H()===a){c=h;break}}c||(d=a.ea(),d.length&&(c=d.Sd(-1)));if(!c)return!1;a.U().dm(c);a.$b();return!0},Bka(a){return this.g.$d?this.W5(a):this.c$(a)},Yna(){return this.g.$d?this.p6():this.Yaa()},pY(a,d,c){return this.g.$d?this.T5(a,d,c):this.a7(a,d,c)},fL(a){return this.g.$d?this.U5(a):this.b7(a)},Vga(a,d,c){return this.g.$d?this.V5(a,c):this.c7(a,c)},Kia(a){return a?a.Fc():!1},Hia(a){return a?!a.F.length:
!1},Gia(a,d,c){return a?e.compare(100*a.qe(),d,c):!1},f1(){return!0},Yha(){return 0<this.Ko}}}
{"use strict";const e=self.B;function b(h,l){const n=h[0]-l[0];return 0!==n?n:h[1]-l[1]}function a(h,l){return h[1]-l[1]}const d=[],c=[],g=e.m(e.Rect),m=e.m(e.Za);e.C.kb.dd={U3(h,l){h.ue(l)},jfa(h,l){h.am()&&"number"!==typeof l&&(l=parseFloat(l));h.ue(h.rd()+l)},ona(h,l){h.am()&&h.ue(h.rd()-l)},Sla(h,l){h.ue(!!l)},una(h){h.ue(!h.rd())},ola(){this.g.da().x2()},EW(h,l,n,p,q){h&&l&&(n=this.g.PK(h,l,n,p,q))&&(q&&l.SN(n),l=this.g.da(),l.wf(!0),n.DF(),l.wf(!1),h.U().Ik(n),n.cc()&&n.ji())},sga(h,l,n,p,q){h&&
l&&(h=this.g.cx(h))&&e.C.kb.dd.EW.call(this,h,l,n,p,q)},Ts(h,l,n,p,q,u,r,v,w,y){if(h){var A=this.g.Ia();if(u&&(A=this.g.Ya.Hp(u),!A))return;u=null;if("number"!==typeof r||0<=r)if(u=A.W(r),!u)return;g.set(l,n,p,q);l=A.Ts(h,g,u,v,w,y);h.U().Xs(l);h.$b()}},cna(){const h=this.ff;h.hM()&&h.Fp().ve()},gq(h,l){(h=this.g.da().oL(h))&&(0===l?h.gq(!1):1===l?h.gq(!0):h.gq(!h.Rp()))},Pma(h){this.g.oE(h)},Jma(h,l){0>l&&(l=0);if(h){h=h.U().ea();for(const n of h)n.oE(l)}},sla(h){if(h){h=h.U().ea();for(const l of h)l.E2()}},
dO(h){if(!(0>h))return this.g.da().jC().N_(h),!0},Sna(h){this.g.da().jC().L_(h);return!0},Rna(){const h=this.g.da();h.jC().z_(h.uZ());return!0},Uma(h){h=h.toLowerCase();for(const l of this.g.da().Pf)l.h0()&&l.qv===h&&l.nE()},async QN(h,l,n,p,q,u){const r=this.g.L;r&&(this.$(),await r.QN(0===h?"image/png":"image/jpeg",l/100,n,p,q,u),await this.g.Hc(e.C.kb.J.W0,null))},Ula(h,l){if(!(0>=h||0>=l)){this.g.gt(h,l);var n=this.g.Ia();n.ow();for(const p of n.Vb)p.CE();if(n=this.g.L)"off"!==n.qs()&&this.g.z3(h,
l),n.Id(n.Vi,n.Ui,!0),this.g.$()}},fma(h){const l=this.g.L;l&&"off"!==l.qs()&&(l.tN(0!==h?"high":"low"),l.Id(l.Vi,l.Ui,!0))},bo(h){this.g.M2(h)},Pia(h){this.g.w0(h)},Qia(h){this.g.ID(h)},hma(){},pla(){for(const h of this.g.Ya.ri)h.C2()},Lma(h){this.g.C3(0!==h)},DN(h){this.g.DN(h)},Wma(h,l){if(h){var n=h.U().ea(),p=this.g.Ia(),q=h.cb;h=h.Ei;for(let r=0,v=n.length;r<v;++r){var u=n[r];const w=u.A();if(!w)continue;let y;y=q?u.pe(l+u.H().qL(h)):u.pe(l);d.push([w.W().Fa(),w.oj()]);c.push([u,y])}if(d.length){d.sort(b);
c.sort(a);l=!1;for(let r=0,v=d.length;r<v;++r)n=c[r][0],q=p.$w(d[r][0]),h=d[r][1],u=q.F,u[h]!==n&&(u[h]=n,n.A().Ht(q),q.ng(),l=!0);l&&this.g.$();e.D(d);e.D(c)}}},hha(h){if(!this.g.Pj){var l=this.g.Ya;l.Tp()||l.rw(h)}},iha(h){if(!this.g.Pj){var l=this.g.Ya;l.Tp()||(h=l.Hp(h))&&l.rw(h)}},hja(h){if(!this.g.Pj){var l=this.g.Ya;if(!l.Tp()){var n=l.ri,p=n.indexOf(l.Kb());h&&0===p||(h||p!==n.length-1)&&l.rw(n[p+(h?-1:1)])}}},qla(){if(!this.g.Pj){var h=this.g.Ya;h.Tp()||(h.rw(h.Kb()),this.g.da().y2())}},
vma(h,l){h&&h.zj(l)},pma(h,l){h&&h.Hk(l/100)},rma(h,l){h&&h.FN(l)},sma(h,l){h&&h.E3(l)},jma(h,l){h&&h.Hd(e.Wa(+l))},tma(h,l,n){h&&(h.bt(!0),h.hi(l),h.ii(n))},rla(h){h&&h.bt(!1)},qma(h,l,n){h&&h.A3(l/100,n/100)},wma(h,l){h&&h.Ve(+l)},kma(h,l){h&&(m.Ur(l),m.fa(),h=h.Uk,h.Fl(m)||(h.Wi(m),this.$()))},uma(h,l){h&&h.Q3(l)},lma(h,l){h&&h.ig(l)},mma(h,l,n){h&&(n=h.Ka.nk(n))&&(l=1===l,n.Cb!==l&&(n.Sx(l),h.gh(),this.g.$()))},nma(h,l,n,p){if(h&&(h=h.Ka,l=h.nk(l))&&(h=h.mk(l.Fa()),n=Math.floor(n),!(0>n||n>=h.length))){var q=
l.Cf().gx(n);if("color"===q){m.Ur(p);n=h[n];if(m.Fl(n))return;n.Wi(m)}else{"percent"===q&&(p/=100);if(h[n]===p)return;h[n]=p}l.Cb&&this.g.$()}},oma(h,l){h&&h.m3(l)},Bma(h){this.g.Ia().JN(+h)},xma(h){this.g.Ia().Hd(e.Wa(+h))},yma(h,l){const n=this.g.Ia();if(l=n.Ka.nk(l))h=1===h,l.Cb!==h&&(l.Sx(h),n.gh(),this.g.$())},zma(h,l,n){var p=this.g.Ia().Ka;if(h=p.nk(h))if(p=p.mk(h.Fa()),l=Math.floor(l),!(0>l||l>=p.length)){var q=h.Cf().gx(l);if("color"===q){m.Ur(n);l=p[l];if(m.Fl(l))return;l.Wi(m)}else{"percent"===
q&&(n/=100);if(p[l]===n)return;p[l]=n}h.Cb&&this.g.$()}},Cma(h,l){this.g.Ia().T3(h/100,l/100)},Ama(h){const l=this.g.Ia();0===h?l.HN():l.EN()},Nla(h){this.g.Ia().hi(h)},Ola(h){this.g.Ia().ii(h)},Lla(h,l){const n=this.g.Ia();n.hi(h);n.ii(l)},Mla(h){if(h&&(h=h.vs())&&(h=h.A())){var l=this.g.Ia();l.hi(h.ga());l.ii(h.ia())}},async y0(h){const l=this.g.Kb();l&&h&&!this.g.Pj&&await this.bF(l,h.cb?h.Eo:[h])},async Oia(h){await e.C.kb.dd.y0.call(this,this.g.cx(h))},u4(h){const l=this.g.Kb();l&&h&&this.KQ(l,
h.cb?h.Eo:[h])},Ina(h){e.C.kb.dd.u4.call(this,this.g.cx(h))},Jna(){const h=this.g.Kb();if(h){var l=h.A7();this.KQ(h,l)}},async Mia(h){const l=this.g.Kb();h&&l&&!this.g.Pj&&await this.bF(l,h.fP())},async Nia(h){const l=this.g.Kb();(h=this.g.Ya.Hp(h))&&l&&!this.g.Pj&&await this.bF(l,h.fP())},Xx(h){const l=this.xd.DY();if(l)switch(l.BR){case 1:"number"===typeof h&&l.Xx(h);break;case 2:"string"===typeof h&&l.Xx(h);break;case 3:l.Xx(h)}},Tia(h,l,n){var p=this.ty(h.toLowerCase(),!0);const q=p.YB,u=l.toLowerCase();
q.has(u)&&console.warn(`[Construct 3] Function map '${h}' string '${l}' already in map; overwriting entry`);(p=e.first(q.values())||p.mn)&&0!==p.sl!==(0!==n.sl)?console.error(`[Construct 3] Function map '${h}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):q.set(u,n)},Uia(h,l){const n=this.ty(h.toLowerCase(),!0);n.mn&&console.warn(`[Construct 3] Function map '${h}' already has a default; overwriting entry`);const p=e.first(n.YB.values())||n.mn;p&&
0!==p.sl!==(0!==l.sl)?console.error(`[Construct 3] Function map '${h}' default: function return type not compatible with other functions in the map; entry ignored`):n.mn=l},Jfa(h,l,n){n=Math.floor(n);var p=this.ty(h.toLowerCase(),!1);if(p){var q=p.YB.get(l.toLowerCase());if(!q)if(p.mn)q=p.mn,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${h}' string '${l}'; call ignored (consider setting a default)`);return}if(q.Sn())if(0!==q.sl)console.warn(`[Construct 3] Call mapped function: map '${h}' string '${l}' has a return type so cannot be called`);
else{h=this.g;l=h.da();var u=l.Ab();p=u.md();var r=0<p.length;r&&l.gg(p);var v=[];if(u=l.HC(u)){u=u.zg;for(let w=n,y=u.length;w<y;++w)v.push(u[w].rd())}n=q.zg;for(let w=v.length,y=n.length;w<y;++w)v.push(n[w].Lo);return h.$d?this.R5(l,q,v,r,p):this.q6(l,q,v,r,p)}}else console.warn(`[Construct 3] Call mapped function: map name '${h}' not found; call ignored`)}}}
{"use strict";const e=self.B;e.C.kb.me={Epa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},Xoa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Kl(b){return b.toString()},Yv(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.Yp()*b:this.g.Yp()*(a-b)+b},XT(...b){return b[Math.floor(this.g.Yp()*b.length)]},yqa(){return Math.PI},Cpa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},$qa(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(e.Wa(b))},cos(b){return Math.cos(e.Wa(b))},tan(b){return Math.tan(e.Wa(b))},asin(b){return e.Oh(Math.asin(b))},acos(b){return e.Oh(Math.acos(b))},atan(b){return e.Oh(Math.atan(b))},exp(b){return Math.exp(b)},Ida(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let g=b[d];"number"===typeof g&&a<g&&(a=g)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let d=1,c=b.length;d<c;++d){let g=b[d];"number"===typeof g&&a>g&&(a=g)}return a},fa(b,a,d){return e.fa(b,a,d)},Qv(b,a,d,c){return e.Kr(b,a,d,c)},angle(b,a,d,c){return e.Oh(e.qJ(b,a,d,c))},Td(b,a,d){return e.Td(b,a,d)},ZB(b,a,d){return e.ZB(b,a,d)},TB(b,a,d,c){return e.TB(b,a,d,c)},aU(b,a,d,c,g){return e.aU(b,
a,d,c,g)},$T(b,a,d){return e.$T(b,a,d)},ooa(b,a){return e.Oh(e.Jr(e.Wa(b),e.Wa(a)))},poa(b,a,d){return e.Oh(e.oJ(e.Wa(b),e.Wa(a),d))},qoa(b,a,d){return e.Oh(e.pJ(e.Wa(b),e.Wa(a),e.Wa(d)))},mra(b,a,d){a|=0;return(b|0)&~(1<<a)|(0!==d?1:0)<<a},xra(b,a){return(b|0)^1<<(a|0)},vpa(b,a){return(b|0)&1<<(a|0)?1:0},kqa(){return"\n"},Aea(b){return"string"===typeof b?b.toUpperCase():""},cqa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,d){return"string"!==
typeof b?"":0>d?b.substr(a):b.substr(a,d)},right(b,a){return"string"===typeof b?b.substr(Math.max(b.length-a,0)):""},trim(b){return"string"===typeof b?b.trim():""},yra(b,a,d){if("string"!==typeof b||"string"!==typeof d)return"";b=b.split(d);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},zra(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(e.es(a),"i")):-1},Woa(b,a){return"string"===typeof b&&
"string"===typeof a?b.search(new RegExp(e.es(a),"")):-1},replace(b,a,d){return"string"===typeof b&&"string"===typeof a&&"string"===typeof d?b.replace(new RegExp(e.es(a),"gi"),d):"string"===typeof b?b:""},Lqa(b,a,d){a=this.kx(a,d);return b?b.search(a):-1},Kqa(b,a,d,c){a=this.kx(a,d);return b?b.replace(a,c):""},Jqa(b,a,d){return(b=this.DL(b.toString(),a,d))?b.length:0},Iqa(b,a,d,c){c=Math.floor(c);b=this.DL(b.toString(),a,d);return!b||0>c||c>=b.length?"":b[c]},Tra(b,a){let d=0>b?"-":"";0>b&&(b=-b);
d+="0".repeat(Math.max(a-b.toString().length,0));return d+b.toString()},Fra(b){return encodeURIComponent(b)},Era(b){return decodeURIComponent(b)},CJ(){return this.g.ku},vra(){return this.g.pd},Pra(){return(Date.now()-this.g.Tm)/1E3},Cra(){return Date.now()},time(){return this.g.Rl()},ura(){return this.g.Wj},oqa(){return this.g.bI},Zoa(){return this.g.Dz},Goa(){return this.g.zA},xpa(){return this.g.Yw()},Sra(){return this.g.L.ug},Rra(){return this.g.L.tg},sqa(){return this.g.Hg},rqa(){return this.g.Gg},
qqa(){return this.g.Hg},pqa(){return this.g.Gg},cra(){return this.g.Ia().Af()},dra(){return this.g.Ia().Bf()},Xpa(){return this.g.Ia().Aa()},Ypa(){return this.g.Ia().hd},Vpa(){return e.Oh(this.g.Ia().Ea())},Zpa(){return this.g.Ia().ta()},Wpa(){return this.g.Ia().qa()},Lra(b){return(b=this.g.Ia().W(b))?b.jn.X:0},Nra(b){return(b=this.g.Ia().W(b))?b.jn.S:0},Mra(b){return(b=this.g.Ia().W(b))?b.jn.ca:0},Jra(b){return(b=this.g.Ia().W(b))?b.jn.Z:0},Ora(b){return(b=this.g.Ia().W(b))?b.jn.width():0},Kra(b){return(b=
this.g.Ia().W(b))?b.jn.height():0},Aoa(b,a,d){return(b=this.g.Ia().W(b))?b.Rg(a,d)[0]:0},Boa(b,a,d){return(b=this.g.Ia().W(b))?b.Rg(a,d)[1]:0},Spa(b,a,d){return(b=this.g.Ia().W(b))?b.Un(a,d)[0]:0},Tpa(b,a,d){return(b=this.g.Ia().W(b))?b.Un(a,d)[1]:0},Opa(b){return(b=this.g.Ia().W(b))?b.hd:0},Jpa(b){return(b=this.g.Ia().W(b))?e.Oh(b.Xd):0},Lpa(b){return(b=this.g.Ia().W(b))?100*b.qe():0},Ppa(b){return(b=this.g.Ia().W(b))?b.Pi:0},Qpa(b){return(b=this.g.Ia().W(b))?b.Af():0},Rpa(b){return(b=this.g.Ia().W(b))?
b.Bf():0},Mpa(b){return(b=this.g.Ia().W(b))?100*b.Md:0},Npa(b){return(b=this.g.Ia().W(b))?100*b.Nd:0},Upa(b){return(b=this.g.Ia().W(b))?b.$a():0},Kpa(b){return(b=this.g.Ia().W(b))?b.Fa():-1},zoa(){const b=this.g.L;return b?b.BI:""},bqa(b){const a=this.ff;return a.hM()?b?(b=a.lY(b))?b.Fa():0:a.Fp().Fa():0},ara(){return this.g.Vo},xoa(b,a,...d){var c=this.ty(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var g=c.YB.get(a.toLowerCase());
if(!g)if(c.mn)g=c.mn;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=g.sl;const m=g.ss();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!g.Sn())return m;b=this.g.da();a=b.Ab().md();const h=0<a.length;h&&b.gg(a);const l=g.zg;for(let n=d.length,p=l.length;n<p;++n)d.push(l[n].Lo);
g=g.oe();d=g.aE(g.md(),c,m,...d);h&&b.Gb(a);return d},aqa(){return this.g.lb.oA},Apa(){return 0===this.Ko?1:this.wu/this.Ko},rn(){return this.g.Mp()?"webgpu":"webgl"},Oqa(){return this.g.Mp()?"<unavailable>":this.g.vk().Fr},Bpa(){let b=this.g.ib().HY();return Math.round(100*b/1048576)/100},Pqa(b,a,d){return e.L1(b,a,d)},Sqa(b,a,d){return e.LM(b/100,a/100,d/100)},Qqa(b,a,d,c){return e.Lx(b/100,a/100,d/100,c/100)},Tqa(b,a,d){return e.LM(b/255,a/255,d/255)},Rqa(b,a,d,c){return e.Lx(b/255,a/255,d/255,
c/255)},Cqa(){return this.g.PA},Dqa(){return this.g.US},Joa(){return this.g.Ab().Mc.Aa()},Ioa(){return this.g.Ab().Jq}}}{"use strict";const e=self.B;e.C.Text=class extends e.fm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.C.Text.mm=class extends e.bq{constructor(b){super(b)}j(){super.j()}Ms(){}Zp(){}}}
{"use strict";const e=self.B,b=self.Rh,a=[0,0,0],d=["left","center","right"],c=["top","center","bottom"],g=new e.Rect,m=new e.sd;new e.Za;e.C.Text.Instance=class extends e.gN{constructor(n,p){super(n);this.$c="";this.$k=!0;this.Di="Arial";this.Uj=12;this.wh=0;this.cf=this.bf=!1;this.ab=e.m(e.Za);this.Je=this.$e=0;this.bk=!0;this.Yj=this.Dr=-1;this.Fv=0;this.Pc=e.m(e.I.VD,this.g.ib(),{timeout:5});this.Pc.SB=()=>this.g.$();this.Pc.xN();p&&(this.$c=p[0],this.$k=!!p[1],this.Di=p[2],this.Uj=p[3],this.wh=
p[4],this.bf=!!p[5],this.cf=!!p[6],this.$e=p[8],this.Je=p[9],this.bk=0===p[10],n=p[7],this.ab.Vr(n[0],n[1],n[2]),this.A().zj(p[11]));this.Wd()}j(){this.nm();this.Pc.j();this.Pc=null;super.j()}Wd(){const n=this.Pc;n.ft(this.$c);n.V2(this.$k);n.hE(this.Di);n.BN(this.wh);n.lN(this.bf);n.zN(this.cf);n.gm(this.ab);n.vN(d[this.$e]);n.PN(c[this.Je]);n.V3(this.bk?"word":"character")}FF(){const n=this.A();this.Pc.Wx(this.Uj);this.Pc.l3(n.wZ());var p=n.W();p=p.Ul()*p.gL(n.Re());this.Pc.Id(n.ta(),n.qa(),p)}dj(n){var p=
this.A();this.FF();const q=this.Pc.bg();if(q){var u=p.W();if(0===p.Ea()&&0===u.Ea()&&0===p.Re()&&!p.ci()&&u.TM()){p=p.lk();const [r,v]=u.sj(p.rb,p.sb),[w,y]=u.sj(p.Ob,p.Pb);p=r-Math.round(r);const A=v-Math.round(v);g.set(r,v,w,y);g.offset(-p,-A);m.aj(g);const [G,z]=n.lx(n.rk());this.g.L.e3(n,G,z);n.mg(q);n.Xp(m,this.Pc.kf);u.Jy(n)}else n.mg(q),p.ci()?this.E6(p,n):this.I6(p,n)}}I6(n,p){n=n.lk();this.g.Ro&&(n=this.ZP(n));p.Xp(n,this.Pc.kf)}E6(n,p){const q=n.EZ();if(n.$_()){n.rC(g,m,!1);let u=m;this.g.Ro&&
(u=this.ZP(u));q.YV(n.Vl(),u,this.Pc.kf);n.x3()}q.dj(p)}ZP(n){const p=n.rb-Math.round(n.rb),q=n.sb-Math.round(n.sb);if(0===p&&0===q)return n;m.ma(n);m.offset(-p,-q);return m}ud(){const n={t:this.$c,c:this.ab.toJSON(),fn:this.Di,ps:this.Uj};this.$k&&(n.bbc=this.$k);0!==this.$e&&(n.ha=this.$e);0!==this.Je&&(n.va=this.Je);this.bk||(n.wr=this.bk);0!==this.wh&&(n.lho=this.wh);this.bf&&(n.b=this.bf);this.cf&&(n.i=this.cf);-1!==this.Yj&&(n.tw={st:this.Dr,en:this.Yj,l:this.Fv});return n}nd(n){this.nm();this.$c=
n.t;this.ab.Jl(n.c);this.Di=n.fn;this.Uj=n.ps;this.$k=n.hasOwnProperty("bbc")?n.bbc:!1;this.$e=n.hasOwnProperty("ha")?n.ha:0;this.Je=n.hasOwnProperty("va")?n.va:0;this.bk=n.hasOwnProperty("wr")?n.wr:!0;this.wh=n.hasOwnProperty("lho")?n.lho:0;this.bf=n.hasOwnProperty("b")?n.b:!1;this.cf=n.hasOwnProperty("i")?n.i:!1;n.hasOwnProperty("tw")&&(n=n.tw,this.Dr=n.st,this.Yj=n.en,this.Fv=n.l);this.Wd();-1!==this.Yj&&this.Kt()}Xc(n){switch(n){case 0:return this.$c;case 1:return this.$k;case 2:return this.Di;
case 3:return this.Uj;case 4:return this.wh;case 5:return this.bf;case 6:return this.cf;case 7:return a[0]=this.ab.Ra,a[1]=this.ab.Ua,a[2]=this.ab.Ta,a;case 8:return this.$e;case 9:return this.Je;case 10:return this.bk?1:0}}xj(n,p){switch(n){case 0:if(this.$c===p)break;this.$c=p;this.Wd();break;case 1:if(this.$k===!!p)break;this.$k=!!p;this.Wd();break;case 2:if(this.Di===p)break;this.Di=p;this.Wd();break;case 3:if(this.Uj===p)break;this.Uj=p;this.Wd();break;case 4:if(this.wh===p)break;this.wh=p;this.Wd();
break;case 5:if(this.bf===!!p)break;this.bf=!!p;this.Wd();break;case 6:if(this.cf===!!p)break;this.cf=!!p;this.Wd();break;case 7:n=this.ab;if(n.Ra===p[0]&&n.Ua===p[1]&&n.Ta===p[2])break;this.ab.Vr(p[0],p[1],p[2]);this.Wd();break;case 8:if(this.$e===p)break;this.$e=p;this.Wd();break;case 9:if(this.Je===p)break;this.Je=p;this.Wd();break;case 10:this.bk!==(0===p)&&(this.bk=0===p,this.Wd())}}Iy(n){this.$c!==n&&(this.$c=n,this.Pc.ft(n),this.g.$())}Aaa(n,p){this.Iy(n);this.Dr=this.g.gD();this.Yj=this.Dr+
p/this.xa().tY();this.Fv=e.Nl.TN(n).length;this.Pc.gE(0);this.Kt()}nm(){this.Yj=this.Dr=-1;this.Fv=0;this.Pc.gE(-1);this.My()}Q6(){-1!==this.Yj&&(this.nm(),this.ua(e.C.Text.J.KM),this.g.$())}X$(n){this.Di!==n&&(this.Di=n,this.Pc.hE(n),this.g.$())}M$(n){n=!!n;this.bf!==n&&(this.bf=n,this.Pc.lN(n),this.g.$())}faa(n){n=!!n;this.cf!==n&&(this.cf=n,this.Pc.zN(n),this.g.$())}Y$(n){this.Uj!==n&&(this.Uj=n,this.g.$())}W$(n){this.ab.Fl(n)||(this.ab.Wi(n),this.Pc.gm(this.ab),this.g.$())}xQ(n){this.wh!==n&&
(this.wh=n,this.Wd(),this.g.$())}aaa(n){this.$e!==n&&(this.$e=n,this.Wd(),this.g.$())}CQ(n){this.Je!==n&&(this.Je=n,this.Wd(),this.g.$())}taa(n){n=!!n;this.bk!==n&&(this.bk=n,this.Wd(),this.g.$())}z7(){this.FF();return this.Pc.AZ()}y7(){this.FF();return this.Pc.zZ()}We(){var n=this.g.gD();n>=this.Yj?(this.nm(),this.ua(e.C.Text.J.KM),this.g.$()):(n=e.$da(this.Dr,this.Yj,n,this.Fv),n=Math.floor(n),n!==this.Pc.Ao&&(this.Pc.gE(n),this.g.$()))}uk(){return self.g_}};const h=new WeakMap,l=new Map([["top",
0],["center",1],["bottom",2]]);self.g_=class extends self.pD{constructor(){super();h.set(this,self.yx.uy().wa)}get text(){return h.get(this).$c}set text(n){b.td(n);const p=h.get(this);p.nm();p.Iy(n)}set lineHeight(n){b.Dk(n);h.get(this).xQ(n)}get lineHeight(){return h.get(this).wh}set verticalAlign(n){b.td(n);n=l.get(n);if("undefined"===typeof n)throw Error("invalid mode");h.get(this).CQ(n)}get verticalAlign(){return c[h.get(this).Je]}}}
{"use strict";const e=self.B;e.C.Text.J={cga(b,a){return a?this.$c===b:e.Yi(this.$c,b)},sia(){return-1!==this.Yj},KM(){return!0}}}
{"use strict";const e=self.B,b=e.m(e.Za);e.C.Text.dd={ft(a){this.nm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Iy(a.toString())},DV(a){this.nm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);(a=a.toString())&&this.Iy(this.$c+a)},Cna(a,d){this.nm();"number"===typeof a&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Aaa(a.toString(),d)},ema(a,d){let c=!1,g=!1;switch(d){case 1:c=!0;break;case 2:g=!0;break;case 3:g=c=!0}if(a!==this.Di||c!==this.bf||g!==this.cf)this.X$(a),this.M$(c),
this.faa(g)},Wx(a){this.Y$(a)},dma(a){b.Ur(a);b.fa();this.W$(b)},Sma(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},Wla(a){this.A().ig(a);this.g.$()},Bna(){this.Q6()},BN(a){this.xQ(a)},gma(a){this.aaa(a)},Rma(a){this.CQ(a)},Tma(a){this.taa(0===a)}}}{"use strict";const e=self.B;e.C.Text.me={Text(){return this.$c},$ja(){return this.$k?e.Nl.TN(this.$c):this.$c},Mga(){return this.Di},Nga(){return this.Uj},rna(){return this.z7()},qna(){return this.y7()},Lia(){return this.wh}}}
{"use strict";const e=self.B;e.C.Touch=class extends e.fm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B,b=self.Rh;e.C.Touch.mm=class extends e.bq{constructor(d){super(d)}j(){super.j()}uk(){return self.h_}};let a=null;self.h_=class extends self.zx{constructor(d){super(d);a=d;d.G().du.nK=this}requestPermission(d){b.td(d);const c=a.bi().wa;if("orientation"===d)return c.lF(0);if("motion"===d)return c.lF(1);throw Error("invalid type");}}}
{"use strict";const e=self.B;e.C.Touch.Instance=class extends e.ao{constructor(b,a){super(b,"touch");this.ad=new Map;this.bA=this.CT=!1;this.Hz=this.mh=this.lh=this.SI=this.qB=this.Cr=this.IF=this.HF=this.GF=this.LF=this.KF=this.JF=this.gI=this.fI=this.eI=this.FA=0;this.JA=[];a&&(this.CT=a[0]);this.fC("permission-result",d=>this.j9(d));b=this.G().Jb();this.Yd=new e.bs(e.uc.kd(b,"pointerdown",d=>this.k9(d.data)),e.uc.kd(b,"pointermove",d=>this.l9(d.data)),e.uc.kd(b,"pointerup",d=>this.WP(d.data,!1)),
e.uc.kd(b,"pointercancel",d=>this.WP(d.data,!0)),e.uc.kd(b,"deviceorientation",d=>this.T8(d.data)),e.uc.kd(b,"deviceorientationabsolute",d=>this.U8(d.data)),e.uc.kd(b,"devicemotion",d=>this.S8(d.data)),e.uc.kd(b,"tick2",()=>this.jF()))}j(){this.ad.clear();super.j()}k9(b){if("mouse"===b.pointerType)if(this.CT)this.bA=!0;else return;const a=b.pointerId;if(!this.ad.has(a)){var d=b.pageX-this.g.ns();b=b.pageY-this.g.os();var c=performance.now(),g=this.ad.size;this.Cr=g;this.qB=a;var m=e.m(e.C.Touch.n4);
m.Wl(c,d,b,a,g);this.ad.set(a,m);this.ua(e.C.Touch.J.p1);this.ua(e.C.Touch.J.F1);this.lh=d;this.mh=b;this.ua(e.C.Touch.J.E1)}}l9(b){if("mouse"!==b.pointerType||this.bA){var a=this.ad.get(b.pointerId);if(a){var d=performance.now();2>d-a.ya()||a.Lk(d,b.pageX-this.g.ns(),b.pageY-this.g.os(),b.width,b.height,b.pressure)}}}WP(b,a){if("mouse"===b.pointerType)if(this.bA)this.bA=!1;else return;const d=performance.now();b=b.pointerId;const c=this.ad.get(b);c&&(this.Cr=c.ie,this.qB=c.jj(),this.ua(e.C.Touch.J.o1),
this.ua(e.C.Touch.J.JM),a||(a=c.a4(d),"single-tap"===a?(this.ua(e.C.Touch.J.C1),this.lh=c.ga(),this.mh=c.ia(),this.ua(e.C.Touch.J.D1)):"double-tap"===a&&(this.ua(e.C.Touch.J.Z0),this.lh=c.ga(),this.mh=c.ia(),this.ua(e.C.Touch.J.$0))),c.j(),this.ad.delete(b))}lF(b){this.Dj("request-permission",{type:b});return new Promise((a,d)=>{this.JA.push({type:b,resolve:a,reject:d})})}j9(b){const a=b.result,d=b.type;this.SI=d;b=this.JA.filter(c=>c.type===d);for(const c of b)c.resolve(a?"granted":"denied");this.JA=
this.JA.filter(c=>c.type!==d);a?(this.ua(e.C.Touch.J.w1),0===d?this.g.aq():this.g.em()):this.ua(e.C.Touch.J.v1)}T8(b){"number"===typeof b.webkitCompassHeading?this.FA=b.webkitCompassHeading:b.absolute&&(this.FA=b.alpha);this.eI=b.alpha;this.fI=b.beta;this.gI=b.gamma}U8(b){this.FA=b.alpha}S8(b){const a=b.acceleration;a&&(this.JF=a.x,this.KF=a.y,this.LF=a.z);if(b=b.accelerationIncludingGravity)this.GF=b.x,this.HF=b.y,this.IF=b.z}jF(){const b=performance.now();let a=0;for(const d of this.ad.values())d.ya()<=
b-50&&d.haa(b),d.Z3(b)&&(this.Cr=d.ie,this.qB=d.jj(),this.Hz=a,this.ua(e.C.Touch.J.d1),this.lh=d.ga(),this.mh=d.ia(),this.ua(e.C.Touch.J.e1),this.Hz=0),++a}ni(b){b=Math.floor(b);for(const a of this.ad.values()){if(0===b)return a;--b}return null}qt(b,a){return 0<=b&&0<=a&&b<this.g.BY()&&a<this.g.AY()}}}
{"use strict";const e=self.B,b=[];e.C.Touch.J={F1(){return!0},JM(){return!0},Sha(){return 0<this.ad.size},E1(a){return a&&this.qt(this.lh,this.mh)?this.g.wi.ay(a,this.lh,this.mh):!1},via(a){if(!a)return!1;const d=a.U();var c=d.ea();for(const g of c){c=g.A();const m=c.W();for(const h of this.ad.values()){if(!this.qt(h.ga(),h.ia()))continue;const [l,n]=m.Rg(h.ga(),h.ia(),c.Re());if(c.cs(l,n)){b.push(g);break}}}return b.length?(d.Xs(b),a.$b(),e.D(b),!0):!1},ega(a,d,c){return(a=this.ni(a))?e.compare(a.ox(),
d,c):!1},Dja(){return!0},Zia(){return!0},bga(a,d,c){this.g.aq();return e.compare(0===a?this.eI:1===a?this.fI:this.gI,d,c)},Wfa(a,d,c){this.g.em();return e.compare(0===a?this.GF:1===a?this.HF:2===a?this.IF:3===a?this.JF:4===a?this.KF:this.LF,d,c)},p1(a){a=Math.floor(a);return a===this.Cr},o1(a){a=Math.floor(a);return a===this.Cr},nha(a){a=Math.floor(a);return this.ad.size>=a+1},d1(){return!0},C1(){return!0},Z0(){return!0},e1(a){return a&&this.qt(this.lh,this.mh)?this.g.wi.ay(a,this.lh,this.mh):!1},
D1(a){return a&&this.qt(this.lh,this.mh)?this.g.wi.ay(a,this.lh,this.mh):!1},$0(a){return a&&this.qt(this.lh,this.mh)?this.g.wi.ay(a,this.lh,this.mh):!1},w1(a){return this.SI===a},v1(a){return this.SI===a}}}"use strict";self.B.C.Touch.dd={Eka(e){this.lF(e)}};
{"use strict";const e=self.B;e.C.Touch.me={wna(){return this.ad.size},jO(b){const a=this.ni(this.Hz);return a?a.Jp(this.g.Ia(),b,!0):0},kO(b){const a=this.ni(this.Hz);return a?a.Jp(this.g.Ia(),b,!1):0},boa(b,a){return(b=this.ni(b))?b.Jp(this.g.Ia(),a,!0):0},doa(b,a){return(b=this.ni(b))?b.Jp(this.g.Ia(),a,!1):0},coa(b,a){return(b=this.ad.get(b))?b.Jp(this.g.Ia(),a,!0):0},eoa(b,a){return(b=this.ad.get(b))?b.Jp(this.g.Ia(),a,!1):0},Hea(){const b=this.ni(0);return b?b.ga():0},Kea(){const b=this.ni(0);
return b?b.ia():0},Iea(b){return(b=this.ni(b))?b.ga():0},Lea(b){return(b=this.ni(b))?b.ia():0},Jea(b){return(b=this.ad.get(b))?b.ga():0},Mea(b){return(b=this.ad.get(b))?b.ia():0},Xma(b){return(b=this.ni(b))?b.ox():0},Yma(b){return(b=this.ad.get(b))?b.ox():0},sfa(b){return(b=this.ni(b))?e.Oh(b.Ea()):0},tfa(b){return(b=this.ad.get(b))?e.Oh(b.Ea()):0},jga(){this.g.aq();return this.FA},mfa(){this.g.aq();return this.eI},Dfa(){this.g.aq();return this.fI},Zga(){this.g.aq();return this.gI},Oea(){this.g.em();
return this.GF},Qea(){this.g.em();return this.HF},Sea(){this.g.em();return this.IF},Nea(){this.g.em();return this.JF},Pea(){this.g.em();return this.KF},Rea(){this.g.em();return this.LF},yna(){return this.Cr},xna(){return this.qB},aoa(b){return(b=this.ad.get(b))?b.ta():0},qha(b){return(b=this.ad.get(b))?b.qa():0},jka(b){return(b=this.ad.get(b))?b.TS:0}}}
{"use strict";const e=self.B;let b=-1E3,a=-1E3,d=-1E4;e.C.Touch.n4=class extends e.aa{constructor(){super();this.TS=this.R=this.V=this.tA=this.sA=this.N=this.O=this.iB=this.hB=this.rA=this.Zb=this.Tm=this.ie=this.QS=0;this.hA=this.XG=!1}j(){}Wl(c,g,m,h,l){this.QS=h;this.ie=l;this.Tm=this.rA=this.Zb=c;this.hB=g;this.iB=m;this.O=g;this.N=m;this.sA=g;this.tA=m}Lk(c,g,m,h,l,n){this.rA=this.Zb;this.Zb=c;this.sA=this.O;this.tA=this.N;this.O=g;this.N=m;this.V=h;this.R=l;this.TS=n;!this.hA&&15<=e.Kr(this.hB,
this.iB,this.O,this.N)&&(this.hA=!0)}jj(){return this.QS}ya(){return this.Zb}haa(c){this.rA=c}ga(){return this.O}ia(){return this.N}ox(){const c=e.Kr(this.O,this.N,this.sA,this.tA),g=(this.Zb-this.rA)/1E3;return 0<g?c/g:0}Ea(){return e.qJ(this.sA,this.tA,this.O,this.N)}ta(){return this.V}qa(){return this.R}Z3(c){return this.XG?!1:500<=c-this.Tm&&!this.hA&&15>e.Kr(this.hB,this.iB,this.O,this.N)?this.XG=!0:!1}a4(c){if(this.XG)return"";if(333>=c-this.Tm&&!this.hA&&15>e.Kr(this.hB,this.iB,this.O,this.N)){if(666>=
c-d&&25>e.Kr(b,a,this.O,this.N))return a=b=-1E3,d=-1E4,"double-tap";b=this.O;a=this.N;d=c;return"single-tap"}return""}Jp(c,g,m){return"undefined"===typeof g?c.$w(0).cW(this.O,this.N)[m?0:1]:(c=c.W(g))?c.Rg(this.O,this.N)[m?0:1]:0}}}{"use strict";const e=self.B;e.C.$g=class extends e.fm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.C.$g.mm=class extends e.bq{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.C.$g.Instance=class extends e.ao{constructor(b){super(b,"platform-info");this.Mv=this.tp=this.lv=this.mv=0;this.nr=[0,0,0,0];this.Lu=this.kB=!1;this.gC([["window-resize",a=>this.Et(a)],["wake-lock-acquired",()=>this.u9()],["wake-lock-error",()=>this.v9()],["wake-lock-released",()=>this.w9()]]);navigator.connection&&navigator.connection.addEventListener("change",()=>this.h9());this.g.iC(this.fg("get-initial-state").then(a=>{this.mv=a.screenWidth;this.lv=a.screenHeight;
this.tp=a.windowOuterWidth;this.Mv=a.windowOuterHeight;this.nr=a.safeAreaInset;this.kB=a.supportsWakeLock}))}j(){super.j()}Et(b){this.tp=b.windowOuterWidth;this.Mv=b.windowOuterHeight;this.nr=b.safeAreaInset}async h9(){await this.Hc(e.C.$g.J.n1)}async u9(){this.Lu=!0;await this.Hc(e.C.$g.J.I1)}async v9(){this.Lu=!1;await this.Hc(e.C.$g.J.J1)}async w9(){this.Lu=!1;await this.Hc(e.C.$g.J.K1)}}}
{"use strict";const e=self.B;e.C.$g.J={iia(){return e.Fb.Dx},lia(){return"Windows"===e.Fb.Zg},hia(){return"Mac OS X"===e.Fb.Zg},gia(){return"Linux"===e.Fb.Zg},eia(){return"Chrome OS"===e.Fb.Zg},cia(){return"Android"===e.Fb.Zg},mia(){return"iOS"===e.Fb.Zg},Aia(){const b=this.g.Be;return"html5"===b||"scirra-arcade"===b||"preview"===b||"instant-games"===b},Iha(){return this.g.bM()},aia(){return"nwjs"===this.g.Be},Bia(){return"windows-uwp"===this.g.Be},Cia(){return"windows-webview2"===this.g.Be},Zha(){return"macos-wkwebview"===
this.g.Be},n1(){return!0},I1(){return!0},J1(){return!0},K1(){return!0},yia(){return this.Lu},zia(){return this.kB}}}"use strict";self.B.C.$g.dd={w2(){this.kB&&this.Dj("request-wake-lock")},uka(){this.kB&&(this.Lu=!1,this.Qa("release-wake-lock"))}};"use strict";
self.B.C.$g.me={zka(){let e;e=this.g.Mp()?"webgpu":"webgl"+this.g.vk().Rc;this.g.ib().Jz&&(e+="-software");return e},Aka(){return this.g.vk().Fr},TW(){return self.devicePixelRatio},P2(){return this.mv},O2(){return this.lv},N4(){return this.g.L.Vi},M4(){return this.g.L.Ui},P4(){return this.tp},O4(){return this.Mv},Nfa(){return this.g.L.yc},Mfa(){return this.g.L.rc},Pfa(){return this.g.L.ug},Ofa(){return this.g.L.tg},zga(){return navigator.connection?navigator.connection.downlink||0:0},Aga(){return navigator.connection?
navigator.connection.downlinkMax||0:0},ConnectionType(){return navigator.connection?navigator.connection.type||"unknown":"unknown"},kga(){return navigator.connection?navigator.connection.effectiveType||"unknown":"unknown"},lga(){return navigator.connection?navigator.connection.rtt||0:0},lha(){return navigator.hardwareConcurrency||0},wga(){return navigator.deviceMemory||0},Ila(){return this.nr[0]},Hla(){return this.nr[1]},Fla(){return this.nr[2]},Gla(){return this.nr[3]}};
{"use strict";const e=self.B;e.C.Ec=class extends e.fm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.C.Ec.mm=class extends e.bq{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.C.Ec.Instance=class extends e.ao{constructor(b){super(b,"browser");this.Nj="";this.Du=!1;this.nR=this.YS="";this.$R=!1;this.Mv=this.tp=this.lv=this.mv=0;this.Gu=!1;this.gC([["online-state",a=>this.i9(a)],["backbutton",()=>this.P8()],["sw-message",a=>this.n9(a)],["hashchange",a=>this.Z8(a)]]);b=this.G().Jb();this.Yd=new e.bs(e.uc.kd(b,"afterfirstlayoutstart",()=>this.O8()),e.uc.kd(b,"window-resize",()=>this.Et()),e.uc.kd(b,"suspend",()=>this.iF()),e.uc.kd(b,"resume",
()=>this.hF()));this.g.iC(this.fg("get-initial-state",{exportType:this.g.Be}).then(a=>{this.Nj=a.location;this.Du=a.isOnline;this.YS=a.referrer;this.nR=a.title;this.$R=a.isCookieEnabled;this.mv=a.screenWidth;this.lv=a.screenHeight;this.tp=a.windowOuterWidth;this.Mv=a.windowOuterHeight;this.Gu=a.isScirraArcade}))}j(){super.j()}O8(){this.Qa("ready-for-sw-messages")}async i9(b){b=!!b.isOnline;this.Du!==b&&((this.Du=b)?await this.Hc(e.C.Ec.J.s1):await this.Hc(e.C.Ec.J.q1))}async Et(){await this.Hc(e.C.Ec.J.x1)}iF(){this.ua(e.C.Ec.J.t1)}hF(){this.ua(e.C.Ec.J.u1)}async P8(){await this.Hc(e.C.Ec.J.V0)}n9(b){b=
b.type;"downloading-update"===b?this.ua(e.C.Ec.J.G1):"update-ready"===b||"update-pending"===b?this.ua(e.C.Ec.J.H1):"offline-ready"===b&&this.ua(e.C.Ec.J.r1)}Z8(b){this.Nj=b.location;this.ua(e.C.Ec.J.c1)}}}"use strict";
self.B.C.Ec.J={nia(){return this.Du},s1(){return!0},q1(){return!0},x1(){return!0},pga(){return this.$R},Rha(){return this.g.L.Po},V0(){return!0},ria(e){return(this.g.L.Vi<=this.g.L.Ui?0:1)===e},G1(){return!0},H1(){return!0},r1(){return!0},c1(){return!0},Eja(){return!this.g.cm()},t1(){return!0},u1(){return!0},mha(){return!1},Oha(){return!1},sja(){return!1},tja(){return!1},$ha(){return!1},Gha(){return!0},pna(){return!0}};
{"use strict";const e=self.B,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");e.C.Ec.dd={lfa(a){this.Qa("alert",{message:a.toString()})},Sfa(){this.Gu||(this.g.pb?self.Xf.Tfa():this.Qa("close"))},Uga(){this.Qa("set-focus",{isFocus:!0})},Gfa(){this.Qa("set-focus",{isFocus:!1})},eha(){this.Gu||this.Qa("navigate",{type:"back"})},fha(){this.Gu||this.Qa("navigate",{type:"forward"})},gha(){},vka(){this.Gu||(this.g.pb?this.g.W1():this.Qa("navigate",
{type:"reload"}))},jha(a,d){this.Dj("navigate",{type:"url",url:a,target:d,exportType:this.g.Be})},kha(a,d){this.Dj("navigate",{type:"new-window",url:a,tag:d,exportType:this.g.Be})},v2(a,d){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=e.vC.ZO(a);this.g.L.f3(a);this.Dj("request-fullscreen",{navUI:d})},Kfa(){this.Dj("exit-fullscreen")},Qna(a){a=a.split(",");for(let d=0,c=a.length;d<c;++d)a[d]=parseInt(a[d],10);this.Dj("vibrate",{pattern:a})},async uD(a,d){a&&d&&(a=await this.g.lb.bD(a),this.g.uD(a,d))},
Aha(a,d,c){c&&(a=`data:${d},${encodeURIComponent(a)}`,this.g.uD(a,c))},oga(a,d){d=d.toString();0===a?console.log(d):1===a?console.warn(d):2===a&&console.error(d)},mga(a){console.group(a)},nga(){console.groupEnd()},Lga(a){try{eval(a)}catch(d){console.error("Error executing JavaScript: ",d)}},Sia(a){a=Math.floor(a);0>a||a>=b.length||this.Dj("lock-orientation",{orientation:b[a]})},Kna(){this.Dj("unlock-orientation")},sM(a){this.g.lb.sM(a)},ima(a){this.Qa("set-hash",{hash:a})}}}"use strict";
self.B.C.Ec.me={URL(){return this.g.ae?this.Nj:location.toString()},mka(){return this.g.ae?(new URL(this.Nj)).protocol:location.protocol},yga(){return this.g.ae?(new URL(this.Nj)).hostname:location.hostname},fka(){return this.g.ae?(new URL(this.Nj)).port:location.port},Gja(){return this.g.ae?(new URL(this.Nj)).pathname:location.pathname},oha(){return this.g.ae?(new URL(this.Nj)).hash:location.hash},SD(){return this.g.ae?(new URL(this.Nj)).search:location.search},oka(e){const b=this.g.ae?(new URL(this.Nj)).search:
location.search;return(e=RegExp("[?&]"+e+"=([^&]*)").exec(b))?decodeURIComponent(e[1].replace(/\+/g," ")):""},ska(){return this.YS},sna(){return this.nR},Eia(){return navigator.language},Fb(){return navigator.platform},Nna(){return navigator.userAgent},Kga(e){let b=0;try{b=eval(e)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},eja(){return navigator.appName},Pna(){return navigator.appVersion},lka(){return navigator.product},
Ona(){return navigator.vendor},Bfa(){return 1},Cfa(){return Infinity},Afa(){const e=navigator.connection;return e?e.downlink||e.downlinkMax||e.bandwidth||Infinity:Infinity},ConnectionType(){const e=navigator.connection;return e?e.type||"unknown":"unknown"},TW(){return self.devicePixelRatio},P2(){return this.mv},O2(){return this.lv},N4(){return this.g.L.Vi},M4(){return this.g.L.Ui},P4(){return this.tp},O4(){return this.tp}};{"use strict";const e=self.B;e.C.Audio=class extends e.fm{constructor(b){super(b)}j(){super.j()}}}
{"use strict";const e=self.B;e.C.Audio.mm=class extends e.bq{constructor(b){super(b)}j(){super.j()}uk(){return self.ZZ}};self.ZZ=class extends self.zx{constructor(b){super(b)}}}
{"use strict";const e=self.B,b=["interactive","balanced","playback"];e.C.Audio.Instance=class extends e.ao{constructor(a,d){super(a,"audio");this.Fg=0;this.TI="";this.hv=this.wT=0;this.jI=!1;this.mR=this.LS=1;this.Hm=this.g.nf/2;this.Im=this.g.mf/2;this.Xo=-600;this.XS=600;this.vS=1E4;this.bT=1;this.xh=null;this.uA=-1;this.cr=1;this.Nf=!1;this.cT=0;this.nz=new Map;this.lI=this.mI=0;this.ql=new Map;a="interactive";d&&(this.wT=d[0],this.hv=d[1],this.jI=d[2],a=b[d[3]],this.LS=d[4],this.mR=d[5],this.Xo=
-d[6],this.XS=d[7],this.vS=d[8],this.bT=d[9]);this.Cg=[];this.Wq=[];this.lA=[];this.gC([["state",c=>this.s9(c)],["fxstate",c=>this.r9(c)],["trigger",c=>this.q9(c)]]);d=this.G().Jb();this.Yd=new e.bs(e.uc.kd(d,"instancedestroy",c=>this.a9(c.instance)),e.uc.kd(d,"afterload",()=>this.Bt()),e.uc.kd(d,"suspend",()=>this.iF()),e.uc.kd(d,"resume",()=>this.hF()));this.g.iC(this.fg("create-audio-context",{preloadList:this.g.lb.vY().map(c=>({originalUrl:c.Uda,url:c.url,type:c.type,fileSize:c.fileSize})),isiOSCordova:this.g.xH,
timeScaleMode:this.wT,latencyHint:a,panningModel:this.LS,distanceModel:this.mR,refDistance:this.XS,maxDistance:this.vS,rolloffFactor:this.bT,listenerPos:[this.Hm,this.Im,this.Xo]}).then(c=>{this.cT=c.sampleRate}));this.Kt()}j(){this.xh=null;super.j()}a9(a){this.xh===a&&(this.xh=null)}Bw(a){return Math.pow(10,a/20)}ed(a){a=this.Bw(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}t0(a){return Math.log(a)/Math.log(10)*20}pM(a){return this.t0(Math.max(Math.min(a,1),0))}iF(){this.jI||this.Qa("set-suspended",
{isSuspended:!0})}hF(){this.jI||this.Qa("set-suspended",{isSuspended:!1})}s9(a){const d=a.tickCount,c=this.Cg.filter(g=>g.hasOwnProperty("placeholder")&&(g.placeholder>d||-1===g.placeholder));this.Cg=a.audioInstances;this.lA=a.analysers;0<c.length&&e.Cl(this.Cg,c)}r9(a){this.Wq=a.fxstate}ry(a){for(const d of this.Cg)if(e.Yi(d.tag,a))return d;return null}EP(a){return this.Cg.some(d=>e.Yi(a,d.tag)&&d.isPlaying)}uq(a,d,c,g){if(this.EP(a))return null;a={tag:a,duration:0,volume:g,isPlaying:!0,playbackTime:0,
playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:d,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.Cg.push(a);return a}async q9(a){const d=a.type;this.TI=a.tag;a=a.aiid;if("ended"===d){for(const c of this.Cg)if(c.aiid===a){c.isPlaying=!1;break}await this.Hc(e.C.Audio.J.a1)}else"fade-ended"===d&&await this.Hc(e.C.Audio.J.b1)}We(){const a={timeScale:this.g.pd,gameTime:this.g.WC(),instPans:this.ZY(),tickCount:this.g.Vm};if(this.xh){const d=this.xh.A();
this.Hm=d.ga();this.Im=d.ia();a.listenerPos=[this.Hm,this.Im,this.Xo]}this.Qa("tick",a)}cK(a,d,c,g,m){if(0===c)return[a,d];const h=Math.sin(c);c=Math.cos(c);a-=g;d-=m;const l=a*h;a=a*c-d*h;return[a+g,d*c+l+m]}ZY(){return this.Cg.filter(a=>-1!==a.uid).map(a=>this.g.Ug(a.uid)).filter(a=>a).map(a=>{const d=a.A(),c=d.W().Ea(),[g,m]=this.cK(d.ga(),d.ia(),-c,this.Hm,this.Im);return{uid:a.lc,x:g,y:m,angle:d.Ea()-c}})}Nw(a,d){for(const c of this.lA)if(c.index===d&&e.Yi(c.tag,a))return c;return null}hh(a){this.nz.set(a,
(this.nz.get(a)||0)+1)}xaa(a){return a.hasOwnProperty("placeholder")||3===this.hv?!1:a.isMusic&&1===this.hv?!1:a.isMusic||2!==this.hv?!0:!1}ud(){return{isSilent:this.Nf,masterVolume:this.cr,listenerZ:this.Xo,listenerUid:this.xh?this.xh.lc:-1,remoteUrls:[...this.ql.entries()],playing:this.Cg.filter(a=>this.xaa(a)),effects:this.Wq,analysers:this.lA}}nd(a){this.Nf=a.isSilent;this.cr=a.masterVolume;this.Xo=a.listenerZ;this.xh=null;this.uA=a.listenerUid;this.ql.clear();if(a.remoteUrls)for(const [d,c]of a.remoteUrls)this.ql.set(d,
c);this.Cg=a.playing;this.Wq=a.effects;this.lA=a.analysers}Bt(){if(-1!==this.uA&&(this.xh=this.g.Ug(this.uA),this.uA=-1,this.xh)){var a=this.xh.A();this.Hm=a.ga();this.Im=a.ia()}for(var d of this.Cg)(a=this.g.lb.ag(d.bufferOriginalUrl))?(d.bufferUrl=a.url,d.bufferType=a.type):d.bufferUrl=null;for(const c of Object.values(this.Wq))for(const g of c)g.hasOwnProperty("bufferOriginalUrl")&&(d=this.g.lb.ag(g.bufferOriginalUrl))&&(g.bufferUrl=d.url,g.bufferType=d.type);this.Qa("load-state",{saveLoadMode:this.hv,
timeScale:this.g.pd,gameTime:this.g.WC(),listenerPos:[this.Hm,this.Im,this.Xo],isSilent:this.Nf,masterVolume:this.cr,playing:this.Cg.filter(c=>null!==c.bufferUrl),effects:this.Wq})}}}{"use strict";const e=self.B;e.C.Audio.J={a1(b){return e.Yi(this.TI,b)},b1(b){return e.Yi(this.TI,b)},ika(){return this.lI===this.mI},kfa(){return!0},tia(){return this.Nf},Bha(){for(const b of this.Cg)if(b.isPlaying)return!0;return!1},j0(b){return this.EP(b)}}}
{"use strict";const e=self.B,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");e.C.Audio.dd={async Play(a,d,c,g,m){if(!this.Nf){var h=a[1],l=this.g.lb.ag(a[0]);if(l){m=m?m:0;var n=this.Fg;this.Fg=0;var p=this.uq(g.toLowerCase(),h,0!==d,this.ed(c));try{await this.fg("play",{originalUrl:a[0],url:l.url,type:l.type,isMusic:h,tag:g.toLowerCase(),isLooping:0!==d,vol:this.ed(c),pos:m,off:n,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=this.g.Vm)}}}},
async cka(a,d,c,g,m,h,l,n,p,q){if(!this.Nf){var u=a[1],r=this.g.lb.ag(a[0]);if(r){var v=this.Fg;this.Fg=0;var w=this.uq(q.toLowerCase(),u,0!==d,this.ed(c));try{await this.fg("play",{originalUrl:a[0],url:r.url,type:r.type,isMusic:u,tag:q.toLowerCase(),isLooping:0!==d,vol:this.ed(c),pos:0,off:v,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:g,y:m,angle:e.Wa(h),innerAngle:e.Wa(l),outerAngle:e.Wa(n),outerGain:this.ed(p)}})}finally{w&&(w.placeholder=this.g.Vm)}}}},async aka(a,d,c,g,m,h,l,n){if(!this.Nf&&
g&&(g=g.vs())&&g.A()){var p=g.A(),q=p.W().Ea(),[u,r]=this.cK(p.ga(),p.ia(),-q,this.Hm,this.Im),v=a[1],w=this.g.lb.ag(a[0]);if(w){var y=this.Fg;this.Fg=0;var A=this.uq(n.toLowerCase(),v,0!==d,this.ed(c));try{await this.fg("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:v,tag:n.toLowerCase(),isLooping:0!==d,vol:this.ed(c),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:r,angle:p.Ea()-q,innerAngle:e.Wa(m),outerAngle:e.Wa(h),outerGain:this.ed(l),uid:g.lc}})}finally{A&&
(A.placeholder=this.g.Vm)}}}},async O1(a,d,c,g,m){if(!this.Nf){a=1===a;var h=this.g.lb.ag(d)||this.ql.get(d.toLowerCase());if(h){var l=this.Fg;this.Fg=0;var n=this.uq(m.toLowerCase(),a,0!==c,this.ed(g));try{await this.fg("play",{originalUrl:d,url:h.url,type:h.type,isMusic:a,tag:m.toLowerCase(),isLooping:0!==c,vol:this.ed(g),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.Vm)}}}},async dka(a,d,c,g,m,h,l,n,p,q,u){if(!this.Nf){a=1===a;var r=this.g.lb.ag(d)||
this.ql.get(d.toLowerCase());if(r){var v=this.Fg;this.Fg=0;var w=this.uq(u.toLowerCase(),a,0!==c,this.ed(g));try{await this.fg("play",{originalUrl:d,url:r.url,type:r.type,isMusic:a,tag:u.toLowerCase(),isLooping:0!==c,vol:this.ed(g),pos:0,off:v,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:m,y:h,angle:e.Wa(l),innerAngle:e.Wa(n),outerAngle:e.Wa(p),outerGain:this.ed(q)}})}finally{w&&(w.placeholder=this.g.Vm)}}}},async bka(a,d,c,g,m,h,l,n,p){if(!this.Nf&&!this.Nf&&m&&(m=m.vs())&&m.A()){var q=
m.A(),u=q.W().Ea(),[r,v]=this.cK(q.ga(),q.ia(),-u,this.Hm,this.Im);a=1===a;var w=this.g.lb.ag(d)||this.ql.get(d.toLowerCase());if(w){var y=this.Fg;this.Fg=0;var A=this.uq(p.toLowerCase(),a,0!==c,this.ed(g));try{await this.fg("play",{originalUrl:d,url:w.url,type:w.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.ed(g),pos:0,off:y,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:v,angle:q.Ea()-u,innerAngle:e.Wa(h),outerAngle:e.Wa(l),outerGain:this.ed(n),uid:m.lc}})}finally{A&&
(A.placeholder=this.g.Vm)}}}},Fma(a,d){this.Qa("set-looping",{tag:a.toLowerCase(),isLooping:0===d})},Ima(a,d){this.Qa("set-muted",{tag:a.toLowerCase(),isMuted:0===d})},km(a,d){this.Qa("set-volume",{tag:a.toLowerCase(),vol:this.ed(d)})},Oga(a,d,c,g){this.Qa("fade-volume",{tag:a.toLowerCase(),vol:this.ed(d),duration:c,stopOnEnd:0===g})},async gka(a){const d=a[1],c=this.g.lb.ag(a[0]);c&&(this.mI++,await this.fg("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:d}),this.lI++)},async hka(a,d){a=
1===a;const c=this.g.lb.ag(d)||this.ql.get(d.toLowerCase());c&&(this.mI++,await this.fg("preload",{originalUrl:d,url:c.url,type:c.type,isMusic:a}),this.lI++)},gi(a,d){this.Qa("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(d,0)})},ve(a){this.Qa("stop",{tag:a.toLowerCase()})},bna(){this.Qa("stop-all")},Kma(a,d){this.Qa("set-paused",{tag:a.toLowerCase(),paused:0===d})},Pla(a,d){this.Qa("seek",{tag:a.toLowerCase(),pos:d})},Oma(a){2===a&&(a=this.Nf?1:0);a=0===a;this.Nf!==a&&(this.Nf=a,this.Qa("set-silent",
{isSilent:a}))},Gma(a){a=this.ed(a);this.cr!==a&&(this.cr=a,this.Qa("set-master-volume",{vol:a}))},Zea(a,d,c,g,m,h,l){a=a.toLowerCase();d=b[d];this.hh(a);this.Qa("add-effect",{type:"filter",tag:a,params:[d,c,g,m,h,e.fa(l/100,0,1)]})},Wea(a,d,c,g){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"delay",tag:a,params:[d,this.ed(c),e.fa(g/100,0,1)]})},$ea(a,d,c,g,m,h){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"flanger",tag:a,params:[d/1E3,c/1E3,g,m/100,e.fa(h/100,0,1)]})},efa(a,
d,c,g,m,h,l){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"phaser",tag:a,params:[d,c,g,m,h,e.fa(l/100,0,1)]})},Vea(a,d,c,g){a=a.toLowerCase();const m=this.g.lb.ag(d[0]);m&&(this.hh(a),this.Qa("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:d[0],bufferUrl:m.url,bufferType:m.type,params:[0===c,e.fa(g/100,0,1)]}))},afa(a,d){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"gain",tag:a,params:[this.ed(d)]})},dfa(a){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"gain",
tag:a,params:[0]})},hfa(a,d,c){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"tremolo",tag:a,params:[d,e.fa(c/100,0,1)]})},gfa(a,d,c){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"ringmod",tag:a,params:[d,e.fa(c/100,0,1)]})},Xea(a,d,c,g,m,h){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"distortion",tag:a,params:[this.Bw(d),this.Bw(c),g,this.Bw(m),e.fa(h/100,0,1)]})},Uea(a,d,c,g,m,h){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"compressor",tag:a,params:[d,
c,g,m/1E3,h/1E3]})},Tea(a,d,c){a=a.toLowerCase();this.hh(a);this.Qa("add-effect",{type:"analyser",tag:a,params:[d,c]})},wka(a){a=a.toLowerCase();this.nz.set(a,0);this.Qa("remove-effects",{tag:a});this.Wq={}},Zla(a,d,c,g,m,h){this.Qa("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(d),param:c,value:g,ramp:m,time:h})},Dma(a){a&&(a=a.vs())&&a.A()&&(this.xh=a)},Ema(a){this.Xo=a},Kla(a){this.Fg=Math.max(a,0)},Gna(a){const d=a[1];(a=this.g.lb.ag(a[0]))&&this.Qa("unload",{url:a.url,type:a.type,isMusic:d})},
Hna(a,d){a=1===a;(d=this.g.lb.ag(d)||this.ql.get(d.toLowerCase()))&&this.Qa("unload",{url:d.url,type:d.type,isMusic:a})},Fna(){this.Qa("unload-all")},ffa(a,d,c){this.ql.set(c.toLowerCase(),{url:a,type:d})}}}"use strict";
self.B.C.Audio.me={Cga(e){return(e=this.ry(e))?e.duration:0},Q1(e){return(e=this.ry(e))?e.playbackTime:0},P1(e){return(e=this.ry(e))?e.playbackRate:0},E4(e){return(e=this.ry(e))?this.pM(e.volume):0},Wia(){return this.pM(this.cr)},Dga(e){return this.nz.get(e.toLowerCase())||0},ofa(e,b){return(e=this.Nw(e,Math.floor(b)))?e.binCount:0},nfa(e,b,a){e=this.Nw(e,Math.floor(b));if(!e)return 0;a=Math.floor(a);return 0>a||a>=e.binCount?0:e.freqBins[a]},pfa(e,b){return(e=this.Nw(e,Math.floor(b)))?e.peak:0},
qfa(e,b){return(e=this.Nw(e,Math.floor(b)))?e.rms:0},Jla(){return this.cT},tga(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const e=self.B;e.C.Keyboard=class extends e.fm{constructor(b){super(b)}j(){super.j()}}}{"use strict";const e=self.B;e.C.Keyboard.mm=class extends e.bq{constructor(b){super(b)}j(){super.j()}uk(){return self.b_}};self.b_=class extends self.zx{constructor(b){super(b);b.G().du.keyboard=this}}}
{"use strict";const e=self.B;e.C.Keyboard.Instance=class extends e.ao{constructor(b){super(b);this.Pu=new Set;this.Vq=new Set;this.Xj=0;this.Ev=this.rB="";b=this.G().Jb();this.Yd=new e.bs(e.uc.kd(b,"keydown",a=>this.f9(a.data)),e.uc.kd(b,"keyup",a=>this.g9(a.data)),e.uc.kd(b,"window-blur",()=>this.YP()),e.uc.kd(b,"keyboard-blur",()=>this.YP()))}j(){super.j()}f9(b){const a=b.which,d=b.code||a.toString();b=b.key;this.Pu.has(d)||(this.Pu.add(d),this.Vq.add(a),this.rB=d,this.Xj=a,this.Ev=b,this.ua(e.C.Keyboard.J.BM),
this.ua(e.C.Keyboard.J.g1),this.ua(e.C.Keyboard.J.k1),this.ua(e.C.Keyboard.J.h1))}g9(b){const a=b.which,d=b.code||a.toString();b=b.key;this.Pu.delete(d);this.Vq.delete(a);this.rB=d;this.Xj=a;this.Ev=b;this.ua(e.C.Keyboard.J.CM);this.ua(e.C.Keyboard.J.FM);this.ua(e.C.Keyboard.J.l1);this.ua(e.C.Keyboard.J.EM)}YP(){for(const b of this.Vq)this.Vq.delete(b),this.Xj=b,this.ua(e.C.Keyboard.J.CM),this.ua(e.C.Keyboard.J.FM),this.ua(e.C.Keyboard.J.EM);this.Pu.clear()}ud(){return{tk:this.Xj,tkk:this.Ev}}nd(b){this.Xj=
b.tk;b.hasOwnProperty("tkk")&&(this.Ev=b.tkk)}}}{"use strict";const e="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.B.C.Keyboard.J={Vha(b){return this.Vq.has(b)},g1(b){return this.Xj===b},BM(){return!0},CM(){return!0},FM(b){return this.Xj===b},Uha(b){b=Math.floor(b);return this.Vq.has(b)},h1(b){return this.Xj===b},EM(b){return this.Xj===b},k1(b){return this.rB===e[b]},l1(b){return this.rB===e[b]},Wha(b){return this.Pu.has(e[b])}}}"use strict";
self.B.C.Keyboard.dd={};
{"use strict";function e(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.B.C.Keyboard.me={Fia(){return this.Xj},ena(b){return e(b)},Ana(){return this.Ev}}}
{const e=self.B;self.zK=function(){return[e.C.Text,e.C.Touch,e.C.$g,e.C.Ec,e.C.Audio,e.C.Keyboard,e.C.kb.J.Rp,e.C.Audio.J.j0,e.C.kb.J.s4,e.C.Audio.dd.O1,e.C.Touch.J.JM,e.C.Keyboard.J.BM,e.C.Ec.dd.v2,e.C.$g.dd.w2,e.C.Text.J.DM,e.C.Text.dd.Wx,e.C.Text.J.oW,e.C.Text.dd.dh,e.C.Text.dd.s3,e.C.Text.me.jO,e.C.Text.me.kO,e.C.kb.J.hY,e.C.kb.dd.U3,e.C.kb.me.random,e.C.kb.J.fL,e.C.Text.dd.eh,e.C.kb.me.CJ,e.C.Text.J.qW,e.C.Text.dd.ft,e.C.kb.me.XT,e.C.kb.J.pY,e.C.kb.J.pW,e.C.Text.dd.DV,e.C.kb.me.Aea]};self.UV=
[{qra:0},{rra:0},{Rda:0},{ready:0},{Text:0},{Touch:0},{$g:0},{Ec:0},{Audio:0},{Keyboard:0},{nra:0},{paused:0},{kpa:0},{hU:0}]}
{function e(b,a){return"string"===typeof b||"string"===typeof a?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a):b&&a?1:0}self.TV=[()=>"game",()=>"music",()=>"license to kill",()=>0,()=>14,()=>624,()=>1,()=>656,()=>2,()=>640,b=>{const a=b.vd(0);return()=>a.GC()},()=>.041666666666666664,b=>{const a=b.vd(0).Fd();return()=>a(-.18,.18)},b=>{const a=b.vd(0),d=b.vd(1).Fd();return()=>a.GC()-96*d()},()=>-984,b=>{const a=b.vd(0);return()=>
a.GC()+1918},b=>{const a=b.vd(0).Fd();return()=>a("Additional Crew","Secondary Unit","Additional Unit","Extra Unit")},()=>"",()=>"yy",()=>40,b=>{const a=b.vd(0).Fd();return()=>a(0,0,0,2,3)},b=>{const a=b.vd(0).Fd(),d=b.vd(1).Fd(),c=b.vd(2).Fd(),g=b.vd(3).Fd();return()=>a(d("baloo","nick","harvey","larry","uncle","billy","johnny","stinky","nicky","pinkie","andy","lou","booner","barney","denny","buzz","darren","winslow","tarzan","babs","zazu","toodle","perry","donna","bluebell","mayfield","varney",
"spunk","elmer","granny","cousin","blondie","banana","frank","kelly","lil","wayne","otto","moo","wansu","sherlock","quaker","dookie","dill","rhonda","rick","lon","don","samuel l.","clint","rand","lucky","mozzy","ozzy","blue","ralph","nathan","joey","frankie","mandy","olivia","ken","pan","peter","willie","stephanie","leslie","buck","mindy","barbosa","wilboe","phil","phillip","wet","dry","big","ol","griff","amanda","male","randy","wilma","margaret","martha","hal","duke","fanny","jin jin","chin chin",
"oda may","tum tum","yum yum","doody","dude","jennifer","nana","george","priscilla","M.","lorie","gong","wong","dan","fran","claudia","sinjin","velma","gunther","butch","hank","flynn","pepper","hollywood","mustapha","stew","warner","humpfrey","kenneth","rita","fajita","stanley","lloyd","vicker","remington","garth","mona","lisa","rat-heat","prince","roadkill","roadstorm","donnie","lenny","jenny","dike","pike","rufus","brandish","bubu","bebe","manus","groucho","rambutt","cactus","catfish","mamacita",
"big momma","reptar","santa j.","chester","boo jan","blanche","coco","good","goodness","huey","duey","louie","pooey","doo","lonnie","bonnie","doris","frita","darth","hippo","brandt man","mr.","dr.","mrs.","lord","senator","mitzy","bowser","koopa","luigi","howie","chodey","bertha","hilda","bran","olga","tucker","becker","charlie","karla","snoopy","fruity","kooky","scooby","scuba","tuba","power","the brunette","bender","alfredo","hump","mullet","fertractor","combat","vertraven","hardwire","scrambled",
"crackle dean","geraldine","baked","captain","hot","subachi","tony j.","pet","lord","pat","big","grand","great","diminished","todd","bobby","hazel","fuller","citizen","biff","oily","slippery","ghastly","gassy","hiney","fatroll","kankle","ape gut","orangutan","tranny","lovely","hamburger","twinkie","old man","average","courtney","fat","cornmeal","wee wee","candy","donald","mcdonald","humpty","d.l.","gene","gene ed","eugene","milton","el diablo","flipp","charlie","thrasher","chunky","junkie","muffin",
"ramshack","chandler","clinger","marvin","banshee","she-bear","squid","nugget","boinker","dolly","tuna","tammy","calvin","grits","sanchez","tut","norm","petunia","fletcher","newman","stutterin'","hershel","tyrone","custard","dipthong","slater","frasier","rango","sissy","casher","finwick","finnick","dresdin","wendale","dale","earnhart","elliot","izzy","hotdog","corndog","funneldog","fullmore","taco","mcbrian","butz",e(e(c("fat","rat","donk","hot","beef")," "),"guts"),e("fat ",g("donk","gut","chicken",
"beef","breath")),"mouthbreather","twitchey","ritchie","bobby","easter bunny","chi chi","fritz","big bird","oscar","stinker","pansy","boomer","eggplant","sunnyside","bacon","chief","marsha","jam","she-nut","flesh","ickie","skidmark","mount","poker","bearlover","anna conda","flipper","topper","starfish","killer","hard","plank","the","hogmart","hogwash","honk","elmo","shikaka","goober","wolfgang","jorge","jose","tootsie","judy","blister","dolly","shrimp","scampi","gimpy","angel","devil","egg bowl",
"oat bran","oatmeal","potty","patty","oliver","psycho","pigeon","cabbage","birdfoot","vanilla","chocolate","baloney","al","llama","felix","betty","ballz","kitchen","numb","hungry","angry","hangry","sultry","green-bay","spike","cooper","pig pupp","moo pupp","rat pupp","chicken","corncob","corndash","yoinker","koinker","wilhelm","crimson","piston","piss-ant","slam","bugs","daffy","duffy","buffy","fluffy","him-jim","st. michael","kevin","savage","chucky","skeeter","quazzy","hunchback","foreman","lazy",
"cornbeef","seabass","doug","dummy","smelly","dum dum","smeller","sniffer","stuffer","mayo","k.c.","chili","pasta","jack","fulla","ima","decker","woof woof","salty","rocky","big yank","fabio","fabulous","zeus","jimmy","howdy","rowdy roddy","breaded","grilled","donovan","jaime","jed","judd","boring","muddy","doink","brett","lionel","max","maximus","septic","sudsy","paulie","stewie","steve","nigel","ferris","garfield","lightning","snaggletooth","pringle","o'doyle","o'dell","pepperoni","jerry","kidney",
"speedy","carnage","lockjaw","flea","fleet","sweat mule","sweat hog","mildew","muffintop","uber","ding dong","walter","methuselah","nun-chuck","hoagie","farzin","biscuit","north","spurgeon","jethro","faulk","preston","randy","woodie","kentucky","oklahoma","baseball","suck","p.j.","cracka","canned","christmas","tampa bay","gran moff","plank","johnson","cocky","slam","jam","blouch"))},b=>{const a=b.vd(0).Fd(),d=b.vd(1).Fd(),c=b.vd(2).Fd();return()=>" "+a(d("gunk","funk","dunk","munck","jernigan","obannon",
"banna","bison","veljohnson","jensen","jones","gondola","philbin","phister","stank","o'brien","rockefeller","jaundice","plumber","ipkiss","gonzalez","load","walken","weiner","bonanza","bran bran","puke","hulk","poo","doodle","clooney","bean","tannen","mcfly","thug","squaint","crunch","cunch","blaster","dookie","thripp","lamb","thumb","o'connor","baloo","ruggles","pit","pitts","blown","poodle","faulk","dudley","fajita","dong","mcquacken","mckraken","dirt","bunn","the fart","vickers","breath","muck",
"mcmuffin","mclondon","mcdungan","dungan","mcmanus","nuddz","nutz","flagg","and barf","dagget","skybarker","lund","the futt","lundaid","juggles","the futt","the hut","ravioli jr.","wonka","darnell","pup lover","fanna banna","fondike","tut","gunnel","funnywood","bunnywood","bunnylark","grannylark","munster","bone","the 8th","voorhies","fubar","hasslehoff","mcdonnell","blowout","redcorn","shuttle","love","freak","fuchs","pickles","cheese","bread","von tunk","von choke","d. bowie","dudabaker","dudd",
"friday","bastark","farkus","toad","chode","hole","dunghowe","mutt","butts","honk honk","tinkle","elgar","tar tar","mcdonald","we trust","crapps","sack-heat","stackers","nightcap","lovitz","devito","moo milk","fump","thump","dump","runt","rutt","tubes","hubbit","gump","yoinkes","trash","oakbark","valium","tots","wabbitz","from downtown","o'toole","hamburger","dumpty","darling","hash","mcgirk","cornwallace","sanchez","boinker","st. boinker","st. funk","casseroni","shatner","shaft","j. fox","mcgoo",
"coolidge","pus","hestershire","money pants","dimmadome","madewell","squirts","die rhea","o'donnell","strunk","sprouse","grundy","grundie","doodie","oak pump","pump","hand","runns","pingley","bologna","baloney","skyboinker","soft putt","harder","powder","pounder","growth","penny","money","pee pee","dookey","duty","guacamole","moaner","skoal","smokes","garden","cleavage","deuce","eater","cookie","robbins","stir fry","mouth","potty","ha-breath","ballz","squintz","cornhole","munch","buttmunch","suckout",
"pizza","bucket","cornbucket","koinker","yoinker","puff","st. michael","the cowdog","meatwagon","stackers","dickens","franks","lipshitz","strains","newton john","grip","refund","pecker","trout","smacker","clemens","schmitz","fikus","sanders","flanders","spangler","dandridge","stiffer","stiff","spleen","kentucky","california","oklahoma","bunn","rumproast","rider","creamer","laundry","lunch","hoagie","eastwood","shack","bangles","tank","blevins","hair day","wanus","waner","killer","did it","mayonaise",
"dead house","flipper","price","reloaded","tunnel",e("mega",c("doodoo","rider","malt","shake","meal","ladon","butter","load","hand","balls","heap")),"honker","buttsack","dyson","blast"))},()=>"\n",b=>{const a=b.vd(0).Fd(),d=b.vd(1).Fd();return()=>a(d("dan","margaret","steve","steven","rick","george","chad","chaz","newman","larry","jerry","kerry","kevin","donald","donna","jean","jan","jane","melvin","bo","moe","jack","jackie","david","matthew","jordan","joe","emily","anna","susan","daniel","nicholas",
"ava","maura","naomi","connor","hunter","christopher","chris","ryder","john","johnny","ben","benny","kelly","charity","lyla","max","maxwell","shawn","sean","bobby","grady","tim","timothy","timmy","sebastian","karl","eddie","harriet","mona","phillip","cheyenne","allen","ian","randy","josh","joshua","dean","stefan","paul","beth","michael","robin","greg","robert","bob","frank","luca","basil","rudolph","nigel","jessica","tom","kathryn","frances","audrey","aubrey","mike","jim","bryan","ryan","charles",
"charlie","ted","edwin","ken","brent","mark","alex","bradley","hayley","sharon","denise","donna","bud","carol","butch","carly","betty","heather","justin","laura","gary","dennis","sue","mary","sarah","tony","joel","william","jena","jodie","jeffrey","james","vince","juanita","bart","slater","annette","karla","sam","kim","patricia","pat","frazier","kenneth"))},b=>{const a=b.vd(0).Fd(),d=b.vd(1).Fd();return()=>" "+a(d("jones","smith","crocker","slaven","pitt","white","black","craven","davis","avery",
"crabtree","conaster","delk","pinkham","rogan","harris","peterson","foster","costa","gonzales","fonseca","finn","grint","watson","wilson","crouch","knight","martin","burg","barker","bernstein","miller","casey","kane","phillips","parrish","russell","green","starky","wise","walsh","mcdonald","kaplan","sampson","simpson","marcom","snow","butler","hall","murphy","regan","joice","vargas","feldman","luther","king","dodson","boland","wright","holland","diaz","nunex","benson","sands","johnson","brown","fox",
"silvers","harding","teager","henry","malone","moore","blake","fincher","woods","whitcomb","hurt","lee","whitaker","ford","griffin","rey","patrick","todd","dano","hild","thomas","edwin","blake","parsons","hudson","lowe","pike","sanders","sanderson","mcquire","bolton","lao","portilla","albinagorta","robbins","anderson","rich","wayne","wells","welch","cook","stone","mason","griffin","beckett","barnes","franks","williams","hatfield","myers","garnett","chang","li","leigh","costner","philbin","crane",
"kerr","tec","singley","ramos","verdugo","tanner","faulk"))},b=>{const a=b.vd(0).Fd();return()=>a("Best Boy","Key Grip","Choreographer","Casting Director","Second Unit Key Grip","Animal Trainer","Lighting","Sound Mixer","Boom Operator","Camera Loader","Cinematographer","Background Artist","Matte Paintings","Additional Sound Effects","Foley Artist","Mixing","Stunt Driver","Color Consultant","Costume Designer","Dialogue Coach","Dolly Grip","Editor","Grip","Extra","Gaffer","Line Producer","Location Manager",
"Production Assistant","Production Manager","Location Scouting","Set Decorator","Set Designer","Sound Designer","Technical Advisor","Unit Production Manager","Wrangler")}]};
